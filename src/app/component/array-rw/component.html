<div class="flex flex-col gap-2">
  @for (child of field$$().children!(); track child; let i = $index) {
    <div class="flex items-center gap-2 *:first:flex-1">
      <ng-container
        *ngTemplateOutlet="fieldTemplateRef(); context: { $implicit: child }"
      ></ng-container>
      @let btnDisabled = minLength() ? $count <= minLength()! : false;
      @if (!isFixedLength$$()) {
        <button
          class="btn btn-circle btn-soft btn-error"
          (click)="remove(i)"
          [class.btn-disabled]="btnDisabled"
          [attr.aria-disabled]="btnDisabled ? 'true' : ''"
        >
          <mat-icon>remove</mat-icon>
        </button>
      }
    </div>
  }
  @if (!isFixedLength$$()) {
    <button class="btn" (click)="add()">
      <mat-icon>add</mat-icon>
    </button>
  }
</div>
