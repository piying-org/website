import{$ as Vt,$a as Ve,$b as Jr,A as cr,Aa as ge,Ab as Jt,Ac as oi,Ba as Ee,Bc as ui,C as fr,Ca as _r,Cb as N,Cc as ai,D as pr,Da as wr,Db as dt,Dc as li,E as hr,Ea as Cr,Eb as Ue,Fa as kr,Ga as Tr,Gc as ci,H as dr,Ha as Ir,Hc as nn,I as Ft,Ia as Or,Ib as Te,Ja as V,Jb as Yt,Kb as yt,Lb as qr,Ma as Fe,Mb as Br,N as yr,Na as Le,Nb as Gr,O as Lt,Ob as zr,P as mr,Qa as Ht,Qb as Hr,Rb as Wr,S as pt,Sa as Ar,Sb as mt,Tb as Zt,U as M,Ub as ce,Va as Sr,Vb as Xr,W as x,Wa as Rr,Wb as Kt,Xb as Z,Y as S,Ya as $r,Z as T,Za as Dr,Zb as fe,_ as C,_a as le,_b as Qt,a as h,aa as vr,ab as xr,b as E,ba as W,bb as Wt,c as ir,cb as be,cc as $,d as hl,db as Mr,dc as m,e as sr,eb as Pr,ec as Ie,f as dl,fa as F,fb as _e,fc as vt,g as or,ga as P,gc as gt,ha as ve,hc as Yr,ia as ne,ib as Nr,ic as Zr,jb as Xt,jc as j,kb as jr,kc as qe,l as ur,la as Ut,lb as we,m as ar,ma as I,mb as Ce,mc as Kr,nc as Qr,oc as ei,pa as qt,pb as Fr,pc as ti,q as H,qa as ht,qb as Lr,qc as ni,r as lr,rb as re,rc as en,sa as Ne,sb as Vr,sc as Be,ta as gr,tb as Ur,tc as ri,u as L,ua as Bt,uc as ii,v as jt,va as Er,wa as je,xa as Gt,xb as ke,xc as si,ya as br,yc as tn,za as zt}from"./chunk-QTBQ66D2.js";var Ua=hl((Vd,Va)=>{"use strict";Va.exports=Sf;function $e(n){return n instanceof Buffer?Buffer.from(n):new n.constructor(n.buffer.slice(),n.byteOffset,n.length)}function Sf(n){if(n=n||{},n.circles)return Rf(n);let t=new Map;if(t.set(Date,o=>new Date(o)),t.set(Map,(o,a)=>new Map(r(Array.from(o),a))),t.set(Set,(o,a)=>new Set(r(Array.from(o),a))),n.constructorHandlers)for(let o of n.constructorHandlers)t.set(o[0],o[1]);let e=null;return n.proto?s:i;function r(o,a){let u=Object.keys(o),l=new Array(u.length);for(let c=0;c<u.length;c++){let p=u[c],d=o[p];typeof d!="object"||d===null?l[p]=d:d.constructor!==Object&&(e=t.get(d.constructor))?l[p]=e(d,a):ArrayBuffer.isView(d)?l[p]=$e(d):l[p]=a(d)}return l}function i(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return r(o,i);if(o.constructor!==Object&&(e=t.get(o.constructor)))return e(o,i);let a={};for(let u in o){if(Object.hasOwnProperty.call(o,u)===!1)continue;let l=o[u];typeof l!="object"||l===null?a[u]=l:l.constructor!==Object&&(e=t.get(l.constructor))?a[u]=e(l,i):ArrayBuffer.isView(l)?a[u]=$e(l):a[u]=i(l)}return a}function s(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return r(o,s);if(o.constructor!==Object&&(e=t.get(o.constructor)))return e(o,s);let a={};for(let u in o){let l=o[u];typeof l!="object"||l===null?a[u]=l:l.constructor!==Object&&(e=t.get(l.constructor))?a[u]=e(l,s):ArrayBuffer.isView(l)?a[u]=$e(l):a[u]=s(l)}return a}}function Rf(n){let t=[],e=[],r=new Map;if(r.set(Date,u=>new Date(u)),r.set(Map,(u,l)=>new Map(s(Array.from(u),l))),r.set(Set,(u,l)=>new Set(s(Array.from(u),l))),n.constructorHandlers)for(let u of n.constructorHandlers)r.set(u[0],u[1]);let i=null;return n.proto?a:o;function s(u,l){let c=Object.keys(u),p=new Array(c.length);for(let d=0;d<c.length;d++){let v=c[d],b=u[v];if(typeof b!="object"||b===null)p[v]=b;else if(b.constructor!==Object&&(i=r.get(b.constructor)))p[v]=i(b,l);else if(ArrayBuffer.isView(b))p[v]=$e(b);else{let _=t.indexOf(b);_!==-1?p[v]=e[_]:p[v]=l(b)}}return p}function o(u){if(typeof u!="object"||u===null)return u;if(Array.isArray(u))return s(u,o);if(u.constructor!==Object&&(i=r.get(u.constructor)))return i(u,o);let l={};t.push(u),e.push(l);for(let c in u){if(Object.hasOwnProperty.call(u,c)===!1)continue;let p=u[c];if(typeof p!="object"||p===null)l[c]=p;else if(p.constructor!==Object&&(i=r.get(p.constructor)))l[c]=i(p,o);else if(ArrayBuffer.isView(p))l[c]=$e(p);else{let d=t.indexOf(p);d!==-1?l[c]=e[d]:l[c]=o(p)}}return t.pop(),e.pop(),l}function a(u){if(typeof u!="object"||u===null)return u;if(Array.isArray(u))return s(u,a);if(u.constructor!==Object&&(i=r.get(u.constructor)))return i(u,a);let l={};t.push(u),e.push(l);for(let c in u){let p=u[c];if(typeof p!="object"||p===null)l[c]=p;else if(p.constructor!==Object&&(i=r.get(p.constructor)))l[c]=i(p,a);else if(ArrayBuffer.isView(p))l[c]=$e(p);else{let d=t.indexOf(p);d!==-1?l[c]=e[d]:l[c]=a(p)}}return t.pop(),e.pop(),l}}});var bt=new S(""),an=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,s){return this._findPluginFor(r).addEventListener(e,r,i,s)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(T(bt),T(_e))};static \u0275prov=x({token:n,factory:n.\u0275fac})}return n})(),Ge=class{_doc;constructor(t){this._doc=t}manager},rn="ng-app-id";function fi(n){for(let t of n)t.remove()}function pi(n,t){let e=t.createElement("style");return e.textContent=n,e}function yl(n,t,e,r){let i=n.head?.querySelectorAll(`style[${rn}="${t}"],link[${rn}="${t}"]`);if(i)for(let s of i)s.removeAttribute(rn),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&e.set(s.textContent,{usage:0,elements:[s]})}function on(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var ln=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,r,i,s={}){this.doc=e,this.appId=r,this.nonce=i,yl(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,pi);r?.forEach(i=>this.addUsage(i,this.external,on))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let s=r.get(e);s?s.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(fi(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])fi(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,pi(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,on(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(T(P),T(Bt),T(Gt,8),T(je))};static \u0275prov=x({token:n,factory:n.\u0275fac})}return n})(),sn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},cn=/%COMP%/g;var di="%COMP%",ml=`_nghost-${di}`,vl=`_ngcontent-${di}`,gl=!0,El=new S("",{providedIn:"root",factory:()=>gl});function bl(n){return vl.replace(cn,n)}function _l(n){return ml.replace(cn,n)}function yi(n,t){return t.map(e=>e.replace(cn,n))}var fn=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,s,o,a,u,l=null,c=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=c,this.platformIsServer=!1,this.defaultRenderer=new ze(e,o,u,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(e,r);return i instanceof Et?i.applyToHost(e):i instanceof He&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,p=this.platformIsServer,d=this.tracingService;switch(r.encapsulation){case zt.Emulated:s=new Et(u,l,r,this.appId,c,o,a,p,d);break;case zt.ShadowDom:return new un(u,l,e,r,o,a,this.nonce,p,d);default:s=new He(u,l,r,c,o,a,p,d);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(T(an),T(ln),T(Bt),T(El),T(P),T(je),T(_e),T(Gt),T(Mr,8))};static \u0275prov=x({token:n,factory:n.\u0275fac})}return n})(),ze=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i,s){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(sn[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(hi(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(hi(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new M(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let s=sn[i];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=sn[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(Le.DashCase|Le.Important)?t.style.setProperty(e,r,i&Le.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Le.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if(typeof t=="string"&&(t=Be().getGlobalEventTarget(this.doc,t),!t))throw new M(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(t,e,s)),this.eventManager.addEventListener(t,e,s,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function hi(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var un=class extends ze{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,i,s,o,a,u,l){super(t,s,o,u,l),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=i.styles;c=yi(i.id,c);for(let d of c){let v=document.createElement("style");a&&v.setAttribute("nonce",a),v.textContent=d,this.shadowRoot.appendChild(v)}let p=i.getExternalStyles?.();if(p)for(let d of p){let v=on(d,s);a&&v.setAttribute("nonce",a),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},He=class extends ze{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,s,o,a,u,l){super(t,s,o,a,u),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let c=r.styles;this.styles=l?yi(l,c):c,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Et=class extends He{contentAttr;hostAttr;constructor(t,e,r,i,s,o,a,u,l){let c=i+"-"+r.id;super(t,e,r,s,o,a,u,l,c),this.contentAttr=bl(c),this.hostAttr=_l(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}};var _t=class n extends ii{supportsDOMEvents=!0;static makeCurrent(){ri(new n)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Cl();return e==null?null:kl(e)}resetBaseElement(){We=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return oi(document.cookie,t)}},We=null;function Cl(){return We=We||document.head.querySelector("base"),We?We.getAttribute("href"):null}function kl(n){return new URL(n,document.baseURI).pathname}var Tl=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=x({token:n,factory:n.\u0275fac})}return n})(),vi=(()=>{class n extends Ge{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,s){return e.addEventListener(r,i,s),()=>this.removeEventListener(e,r,i,s)}removeEventListener(e,r,i,s){return e.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(T(P))};static \u0275prov=x({token:n,factory:n.\u0275fac})}return n})(),mi=["alt","control","meta","shift"],Il={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ol={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},gi=(()=>{class n extends Ge{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Be().onAndCancel(e,o.domEventName,a,s))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),mi.forEach(l=>{let c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(e,r){let i=Il[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(i=e.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),mi.forEach(o=>{if(o!==i){let a=Ol[o];a(e)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(e,r,i){return s=>{n.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(T(P))};static \u0275prov=x({token:n,factory:n.\u0275fac})}return n})();function Al(n,t){return Kr(h({rootComponent:n},Sl(t)))}function Sl(n){return{appProviders:[...Ml,...n?.providers??[]],platformProviders:xl}}function Rl(){_t.makeCurrent()}function $l(){return new ne}function Dl(){return gr(document),document}var xl=[{provide:je,useValue:ai},{provide:Er,useValue:Rl,multi:!0},{provide:P,useFactory:Dl}];var Ml=[{provide:vr,useValue:"root"},{provide:ne,useFactory:$l},{provide:bt,useClass:vi,multi:!0,deps:[P]},{provide:bt,useClass:gi,multi:!0,deps:[P]},fn,ln,an,{provide:Ar,useExisting:fn},{provide:ui,useClass:Tl},[]];var yn=class{};var ie=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),s=e.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let i=(t.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let s=t.value;if(!s)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}addHeaderEntry(t,e){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(s=>s.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var mn=class{encodeKey(t){return Ei(t)}encodeValue(t){return Ei(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Pl(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],u=e.get(o)||[];u.push(a),e.set(o,u)}),e}var Nl=/%(\d[a-f0-9])/gi,jl={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ei(n){return encodeURIComponent(n).replace(Nl,(t,e)=>jl[e]??t)}function wt(n){return`${n}`}var K=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new mn,t.fromString){if(t.fromObject)throw new M(2805,!1);this.map=Pl(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],i=Array.isArray(r)?r.map(wt):[wt(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(wt(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(wt(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var vn=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Fl(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function bi(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function _i(n){return typeof Blob<"u"&&n instanceof Blob}function wi(n){return typeof FormData<"u"&&n instanceof FormData}function Ll(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Vl="X-Request-URL",ki="text/plain",Ti="application/json",Wh=`${Ti}, ${ki}, */*`,Ae=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,r,i){this.url=e,this.method=t.toUpperCase();let s;if(Fl(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s){if(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,this.keepalive=!!s.keepalive,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),s.priority&&(this.priority=s.priority),s.cache&&(this.cache=s.cache),s.credentials&&(this.credentials=s.credentials),typeof s.timeout=="number"){if(s.timeout<1||!Number.isInteger(s.timeout))throw new Error("");this.timeout=s.timeout}s.mode&&(this.mode=s.mode),s.redirect&&(this.redirect=s.redirect),this.transferCache=s.transferCache}if(this.headers??=new ie,this.context??=new vn,!this.params)this.params=new K,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),u=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||bi(this.body)||_i(this.body)||wi(this.body)||Ll(this.body)?this.body:this.body instanceof K?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||wi(this.body)?null:_i(this.body)?this.body.type||null:bi(this.body)?null:typeof this.body=="string"?ki:this.body instanceof K?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Ti:null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=t.keepalive??this.keepalive,o=t.priority||this.priority,a=t.cache||this.cache,u=t.mode||this.mode,l=t.redirect||this.redirect,c=t.credentials||this.credentials,p=t.transferCache??this.transferCache,d=t.timeout??this.timeout,v=t.body!==void 0?t.body:this.body,b=t.withCredentials??this.withCredentials,_=t.reportProgress??this.reportProgress,g=t.headers||this.headers,O=t.params||this.params,q=t.context??this.context;return t.setHeaders!==void 0&&(g=Object.keys(t.setHeaders).reduce((w,D)=>w.set(D,t.setHeaders[D]),g)),t.setParams&&(O=Object.keys(t.setParams).reduce((w,D)=>w.set(D,t.setParams[D]),O)),new n(e,r,v,{params:O,headers:g,context:q,reportProgress:_,responseType:i,withCredentials:b,transferCache:p,keepalive:s,cache:a,priority:o,timeout:d,mode:u,redirect:l,credentials:c})}},En=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(En||{}),gn=class{headers;status;statusText;url;ok;type;constructor(t,e=200,r="OK"){this.headers=t.headers||new ie,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var Xe=class n extends gn{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=En.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};function dn(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect}}var bn=(()=>{class n{handler;constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof Ae)s=e;else{let u;i.headers instanceof ie?u=i.headers:u=new ie(i.headers);let l;i.params&&(i.params instanceof K?l=i.params:l=new K({fromObject:i.params})),s=new Ae(e,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials})}let o=H(s).pipe(hr(u=>this.handler.handle(u)));if(e instanceof Ae||i.observe==="events")return o;let a=o.pipe(fr(u=>u instanceof Xe));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(L(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new M(2806,!1);return u.body}));case"blob":return a.pipe(L(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new M(2807,!1);return u.body}));case"text":return a.pipe(L(u=>{if(u.body!==null&&typeof u.body!="string")throw new M(2808,!1);return u.body}));case"json":default:return a.pipe(L(u=>u.body))}case"response":return a;default:throw new M(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new K().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,dn(i,r))}post(e,r,i={}){return this.request("POST",e,dn(i,r))}put(e,r,i={}){return this.request("PUT",e,dn(i,r))}static \u0275fac=function(r){return new(r||n)(T(yn))};static \u0275prov=x({token:n,factory:n.\u0275fac})}return n})();var Ii=new S("");var Xh=RegExp(`^${Vl}:`,"m");var Ul=new S(""),ql="b",Bl="h",Gl="s",zl="st",Hl="u",Wl="rt",_n=new S(""),Xl=["GET","HEAD"];function Jl(n,t){let v=C(_n),{isCacheActive:e}=v,r=ir(v,["isCacheActive"]),{transferCache:i,method:s}=n;if(!e||i===!1||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!Xl.includes(s)||!r.includeRequestsWithAuthHeaders&&Yl(n)||r.filter?.(n)===!1)return t(n);let o=C(br);if(C(Ul,{optional:!0}))throw new M(2803,!1);let u=n.url,l=Zl(n,u),c=o.get(l,null),p=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(p=i.includeHeaders),c){let{[ql]:b,[Wl]:_,[Bl]:g,[Gl]:O,[zl]:q,[Hl]:w}=c,D=b;switch(_){case"arraybuffer":D=new TextEncoder().encode(b).buffer;break;case"blob":D=new Blob([b]);break}let Pe=new ie(g);return H(new Xe({body:D,headers:Pe,status:O,statusText:q,url:w}))}return t(n)}function Yl(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function Oi(n){return[...n.keys()].sort().map(t=>`${t}=${n.getAll(t)}`).join("&")}function Zl(n,t){let{params:e,method:r,responseType:i}=n,s=Oi(e),o=n.serializeBody();o instanceof URLSearchParams?o=Oi(o):typeof o!="string"&&(o="");let a=[r,i,t,o,s].join("|"),u=Kl(a);return u}function Kl(n){let t=0;for(let e of n)t=Math.imul(31,t)+e.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function Ai(n){return[{provide:_n,useFactory:()=>(Rr("NgHttpTransferCache"),h({isCacheActive:!0},n))},{provide:Ii,useValue:Jl,multi:!0},{provide:Nr,multi:!0,useFactory:()=>{let t=C(Xt),e=C(_n);return()=>{t.whenStable().then(()=>{e.isCacheActive=!1})}}}]}var Id=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(T(P))};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var wn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=x({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=T(tc),i},providedIn:"root"})}return n})(),tc=(()=>{class n extends wn{_doc;constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case V.NONE:return r;case V.HTML:return Ee(r,"HTML")?ge(r):Or(this._doc,String(r)).toString();case V.STYLE:return Ee(r,"Style")?ge(r):r;case V.SCRIPT:if(Ee(r,"Script"))return ge(r);throw new M(5200,!1);case V.URL:return Ee(r,"URL")?ge(r):Ir(String(r));case V.RESOURCE_URL:if(Ee(r,"ResourceURL"))return ge(r);throw new M(5201,!1);default:throw new M(5202,!1)}}bypassSecurityTrustHtml(e){return _r(e)}bypassSecurityTrustStyle(e){return wr(e)}bypassSecurityTrustScript(e){return Cr(e)}bypassSecurityTrustUrl(e){return kr(e)}bypassSecurityTrustResourceUrl(e){return Tr(e)}static \u0275fac=function(r){return new(r||n)(T(P))};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ct=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n[n.IncrementalHydration=4]="IncrementalHydration",n}(Ct||{});function nc(n,t=[],e={}){return{\u0275kind:n,\u0275providers:t}}function Od(){return nc(Ct.EventReplay,Qr())}function Ad(...n){let t=[],e=new Set;for(let{\u0275providers:i,\u0275kind:s}of n)e.add(s),i.length&&t.push(i);let r=e.has(Ct.HttpTransferCacheOptions);return Vt([[],ei(),e.has(Ct.NoHttpTransferCache)||r?[]:Ai({}),t])}var ic=Object.getOwnPropertyNames,sc=Object.getOwnPropertySymbols,oc=Object.prototype.hasOwnProperty;function Si(n,t){return function(r,i,s){return n(r,i,s)&&t(r,i,s)}}function kt(n){return function(e,r,i){if(!e||!r||typeof e!="object"||typeof r!="object")return n(e,r,i);var s=i.cache,o=s.get(e),a=s.get(r);if(o&&a)return o===r&&a===e;s.set(e,r),s.set(r,e);var u=n(e,r,i);return s.delete(e),s.delete(r),u}}function Ri(n){return ic(n).concat(sc(n))}var uc=Object.hasOwn||function(n,t){return oc.call(n,t)};function pe(n,t){return n===t||!n&&!t&&n!==n&&t!==t}var ac="__v",lc="__o",cc="_owner",$i=Object.getOwnPropertyDescriptor,Di=Object.keys;function fc(n,t,e){var r=n.length;if(t.length!==r)return!1;for(;r-- >0;)if(!e.equals(n[r],t[r],r,r,n,t,e))return!1;return!0}function pc(n,t){return pe(n.getTime(),t.getTime())}function hc(n,t){return n.name===t.name&&n.message===t.message&&n.cause===t.cause&&n.stack===t.stack}function dc(n,t){return n===t}function xi(n,t,e){var r=n.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),s=n.entries(),o,a,u=0;(o=s.next())&&!o.done;){for(var l=t.entries(),c=!1,p=0;(a=l.next())&&!a.done;){if(i[p]){p++;continue}var d=o.value,v=a.value;if(e.equals(d[0],v[0],u,p,n,t,e)&&e.equals(d[1],v[1],d[0],v[0],n,t,e)){c=i[p]=!0;break}p++}if(!c)return!1;u++}return!0}var yc=pe;function mc(n,t,e){var r=Di(n),i=r.length;if(Di(t).length!==i)return!1;for(;i-- >0;)if(!ji(n,t,e,r[i]))return!1;return!0}function Je(n,t,e){var r=Ri(n),i=r.length;if(Ri(t).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=r[i],!ji(n,t,e,s)||(o=$i(n,s),a=$i(t,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function vc(n,t){return pe(n.valueOf(),t.valueOf())}function gc(n,t){return n.source===t.source&&n.flags===t.flags}function Mi(n,t,e){var r=n.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),s=n.values(),o,a;(o=s.next())&&!o.done;){for(var u=t.values(),l=!1,c=0;(a=u.next())&&!a.done;){if(!i[c]&&e.equals(o.value,a.value,o.value,a.value,n,t,e)){l=i[c]=!0;break}c++}if(!l)return!1}return!0}function Ec(n,t){var e=n.length;if(t.length!==e)return!1;for(;e-- >0;)if(n[e]!==t[e])return!1;return!0}function bc(n,t){return n.hostname===t.hostname&&n.pathname===t.pathname&&n.protocol===t.protocol&&n.port===t.port&&n.hash===t.hash&&n.username===t.username&&n.password===t.password}function ji(n,t,e,r){return(r===cc||r===lc||r===ac)&&(n.$$typeof||t.$$typeof)?!0:uc(t,r)&&e.equals(n[r],t[r],r,r,n,t,e)}var _c="[object Arguments]",wc="[object Boolean]",Cc="[object Date]",kc="[object Error]",Tc="[object Map]",Ic="[object Number]",Oc="[object Object]",Ac="[object RegExp]",Sc="[object Set]",Rc="[object String]",$c="[object URL]",Dc=Array.isArray,Pi=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Ni=Object.assign,xc=Object.prototype.toString.call.bind(Object.prototype.toString);function Mc(n){var t=n.areArraysEqual,e=n.areDatesEqual,r=n.areErrorsEqual,i=n.areFunctionsEqual,s=n.areMapsEqual,o=n.areNumbersEqual,a=n.areObjectsEqual,u=n.arePrimitiveWrappersEqual,l=n.areRegExpsEqual,c=n.areSetsEqual,p=n.areTypedArraysEqual,d=n.areUrlsEqual;return function(b,_,g){if(b===_)return!0;if(b==null||_==null)return!1;var O=typeof b;if(O!==typeof _)return!1;if(O!=="object")return O==="number"?o(b,_,g):O==="function"?i(b,_,g):!1;var q=b.constructor;if(q!==_.constructor)return!1;if(q===Object)return a(b,_,g);if(Dc(b))return t(b,_,g);if(Pi!=null&&Pi(b))return p(b,_,g);if(q===Date)return e(b,_,g);if(q===RegExp)return l(b,_,g);if(q===Map)return s(b,_,g);if(q===Set)return c(b,_,g);var w=xc(b);return w===Cc?e(b,_,g):w===Ac?l(b,_,g):w===Tc?s(b,_,g):w===Sc?c(b,_,g):w===Oc?typeof b.then!="function"&&typeof _.then!="function"&&a(b,_,g):w===$c?d(b,_,g):w===kc?r(b,_,g):w===_c?a(b,_,g):w===wc||w===Ic||w===Rc?u(b,_,g):!1}}function Pc(n){var t=n.circular,e=n.createCustomConfig,r=n.strict,i={areArraysEqual:r?Je:fc,areDatesEqual:pc,areErrorsEqual:hc,areFunctionsEqual:dc,areMapsEqual:r?Si(xi,Je):xi,areNumbersEqual:yc,areObjectsEqual:r?Je:mc,arePrimitiveWrappersEqual:vc,areRegExpsEqual:gc,areSetsEqual:r?Si(Mi,Je):Mi,areTypedArraysEqual:r?Je:Ec,areUrlsEqual:bc};if(e&&(i=Ni({},i,e(i))),t){var s=kt(i.areArraysEqual),o=kt(i.areMapsEqual),a=kt(i.areObjectsEqual),u=kt(i.areSetsEqual);i=Ni({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:u})}return i}function Nc(n){return function(t,e,r,i,s,o,a){return n(t,e,a)}}function jc(n){var t=n.circular,e=n.comparator,r=n.createState,i=n.equals,s=n.strict;if(r)return function(u,l){var c=r(),p=c.cache,d=p===void 0?t?new WeakMap:void 0:p,v=c.meta;return e(u,l,{cache:d,equals:i,meta:v,strict:s})};if(t)return function(u,l){return e(u,l,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(u,l){return e(u,l,o)}}var B=se(),Rd=se({strict:!0}),$d=se({circular:!0}),Dd=se({circular:!0,strict:!0}),xd=se({createInternalComparator:function(){return pe}}),Md=se({strict:!0,createInternalComparator:function(){return pe}}),Pd=se({circular:!0,createInternalComparator:function(){return pe}}),Nd=se({circular:!0,createInternalComparator:function(){return pe},strict:!0});function se(n){n===void 0&&(n={});var t=n.circular,e=t===void 0?!1:t,r=n.createInternalComparator,i=n.createState,s=n.strict,o=s===void 0?!1:s,a=Pc(n),u=Mc(a),l=r?r(u):Nc(u);return jc({circular:e,comparator:u,createState:i,equals:l,strict:o})}var wp={};sr(wp,{AbstractControl:()=>De,CoreSchemaHandle:()=>Me,FieldArray:()=>xe,FieldControl:()=>st,FieldGroup:()=>at,FieldLogicGroup:()=>ot,FormBuilder:()=>lt,INVALID:()=>me,NFCSchema:()=>_p,PENDING:()=>z,PI_FORM_BUILDER_ALIAS_MAP:()=>zn,PI_FORM_BUILDER_OPTIONS_TOKEN:()=>Xn,PI_VIEW_CONFIG_TOKEN:()=>ct,SortedArray:()=>it,VALID:()=>rt,arrayStartsWith:()=>Bn,asControl:()=>jn,asVirtualGroup:()=>Vn,changeObject:()=>Un,clone:()=>Hn,componentClass:()=>bp,condition:()=>Ln,convert:()=>Zn,disableWhen:()=>gp,effectListen:()=>Xa,formConfig:()=>fp,getDefaults:()=>X,getSchemaByIssuePath:()=>Rt,getSchemaMetadata:()=>Ba,hideWhen:()=>vp,isArray:()=>Jn,isFieldArray:()=>Ja,isFieldControl:()=>Ff,isFieldGroup:()=>jf,isFieldLogicGroup:()=>ut,isGroup:()=>Dt,layout:()=>Za,mergeHooks:()=>Gf,mergeHooksFn:()=>Y,mergeOutputFn:()=>Yn,mergeOutputs:()=>rp,nonFieldControl:()=>Qa,outputChange:()=>ip,outputChangeFn:()=>Ka,patchAsyncInputs:()=>Zf,patchAttributes:()=>hp,patchHooks:()=>qf,patchInputs:()=>Jf,patchInputsSignal:()=>Kf,patchOutputs:()=>ep,patchWrappers:()=>up,rawConfig:()=>k,removeAttributes:()=>dp,removeHooks:()=>zf,removeInputs:()=>Yf,removeOutputs:()=>tp,removeWrappers:()=>ap,renderConfig:()=>cp,setAlias:()=>lp,setAttributes:()=>pp,setComponent:()=>Vf,setHooks:()=>Uf,setInputs:()=>Xf,setOutputs:()=>Qf,setWrappers:()=>sp,toArray:()=>Wn,toObservable:()=>Gn,topClass:()=>Ep,unWrapSignal:()=>J,valueChange:()=>mp,valueChangeFn:()=>Mt});var La={};sr(La,{BASE64_REGEX:()=>Gi,BIC_REGEX:()=>zi,CUID2_REGEX:()=>Hi,DECIMAL_REGEX:()=>Wi,DIGITS_REGEX:()=>Xi,EMAIL_REGEX:()=>Ji,EMOJI_REGEX:()=>Yi,HEXADECIMAL_REGEX:()=>Zi,HEX_COLOR_REGEX:()=>Ki,IMEI_REGEX:()=>Qi,IPV4_REGEX:()=>es,IPV6_REGEX:()=>ts,IP_REGEX:()=>ns,ISO_DATE_REGEX:()=>rs,ISO_DATE_TIME_REGEX:()=>is,ISO_TIMESTAMP_REGEX:()=>us,ISO_TIME_REGEX:()=>ss,ISO_TIME_SECOND_REGEX:()=>os,ISO_WEEK_REGEX:()=>as,MAC48_REGEX:()=>ls,MAC64_REGEX:()=>cs,MAC_REGEX:()=>fs,NANO_ID_REGEX:()=>ps,OCTAL_REGEX:()=>hs,RFC_EMAIL_REGEX:()=>ds,SLUG_REGEX:()=>ys,ULID_REGEX:()=>ms,UUID_REGEX:()=>vs,ValiError:()=>Q,_addIssue:()=>f,_getByteCount:()=>Qe,_getGraphemeCount:()=>et,_getLastMetadata:()=>Ot,_getStandardProps:()=>y,_getWordCount:()=>tt,_isLuhnAlgo:()=>Sn,_isValidObjectKey:()=>de,_joinExpects:()=>G,_stringify:()=>A,any:()=>ku,args:()=>Ui,argsAsync:()=>qi,array:()=>Tu,arrayAsync:()=>Iu,assert:()=>nf,awaitAsync:()=>Bi,base64:()=>gs,bic:()=>Es,bigint:()=>Ou,blob:()=>Au,boolean:()=>Su,brand:()=>bs,bytes:()=>_s,check:()=>ws,checkAsync:()=>Cs,checkItems:()=>ks,checkItemsAsync:()=>Ts,config:()=>rf,creditCard:()=>Is,cuid2:()=>Os,custom:()=>Ru,customAsync:()=>$u,date:()=>Du,decimal:()=>As,deleteGlobalConfig:()=>Lc,deleteGlobalMessage:()=>Uc,deleteSchemaMessage:()=>Bc,deleteSpecificMessage:()=>zc,description:()=>Ss,digits:()=>Rs,email:()=>$s,emoji:()=>Ds,empty:()=>xs,endsWith:()=>Ms,entries:()=>Ps,entriesFromList:()=>Wc,entriesFromObjects:()=>Xc,enum:()=>xu,enum_:()=>xu,everyItem:()=>Ns,exactOptional:()=>Mu,exactOptionalAsync:()=>Pu,excludes:()=>js,fallback:()=>sf,fallbackAsync:()=>of,file:()=>Nu,filterItems:()=>Fs,findItem:()=>Ls,finite:()=>Vs,flatten:()=>uf,flavor:()=>Us,forward:()=>af,forwardAsync:()=>lf,function:()=>ju,function_:()=>ju,getDefault:()=>R,getDefaults:()=>Tn,getDefaultsAsync:()=>In,getDescription:()=>cf,getDotPath:()=>Rn,getFallback:()=>U,getFallbacks:()=>On,getFallbacksAsync:()=>An,getGlobalConfig:()=>Re,getGlobalMessage:()=>Fi,getMetadata:()=>ff,getSchemaMessage:()=>Li,getSpecificMessage:()=>Vi,getTitle:()=>pf,graphemes:()=>qs,gtValue:()=>Bs,hash:()=>Gs,hexColor:()=>Hs,hexadecimal:()=>zs,imei:()=>Ws,includes:()=>Xs,instance:()=>Fu,integer:()=>Js,intersect:()=>Lu,intersectAsync:()=>Vu,ip:()=>Ys,ipv4:()=>Zs,ipv6:()=>Ks,is:()=>hf,isOfKind:()=>Jc,isOfType:()=>Yc,isValiError:()=>Zc,isoDate:()=>Qs,isoDateTime:()=>eo,isoTime:()=>to,isoTimeSecond:()=>no,isoTimestamp:()=>ro,isoWeek:()=>io,keyof:()=>df,lazy:()=>Uu,lazyAsync:()=>qu,length:()=>so,literal:()=>Bu,looseObject:()=>Gu,looseObjectAsync:()=>zu,looseTuple:()=>Hu,looseTupleAsync:()=>Wu,ltValue:()=>oo,mac:()=>uo,mac48:()=>ao,mac64:()=>lo,map:()=>Xu,mapAsync:()=>Ju,mapItems:()=>co,maxBytes:()=>fo,maxEntries:()=>po,maxGraphemes:()=>ho,maxLength:()=>yo,maxSize:()=>mo,maxValue:()=>vo,maxWords:()=>go,message:()=>yf,metadata:()=>Eo,mimeType:()=>bo,minBytes:()=>_o,minEntries:()=>wo,minGraphemes:()=>Co,minLength:()=>ko,minSize:()=>To,minValue:()=>Io,minWords:()=>Oo,multipleOf:()=>Ao,nan:()=>Yu,nanoid:()=>So,never:()=>Zu,nonEmpty:()=>Ro,nonNullable:()=>Ku,nonNullableAsync:()=>Qu,nonNullish:()=>ea,nonNullishAsync:()=>ta,nonOptional:()=>$n,nonOptionalAsync:()=>Dn,normalize:()=>$o,notBytes:()=>Do,notEntries:()=>xo,notGraphemes:()=>Mo,notLength:()=>Po,notSize:()=>No,notValue:()=>jo,notValues:()=>Fo,notWords:()=>Lo,null:()=>na,null_:()=>na,nullable:()=>ra,nullableAsync:()=>ia,nullish:()=>sa,nullishAsync:()=>oa,number:()=>ua,object:()=>aa,objectAsync:()=>la,objectWithRest:()=>ca,objectWithRestAsync:()=>fa,octal:()=>Vo,omit:()=>mf,optional:()=>nt,optionalAsync:()=>xn,parse:()=>Pa,parseAsync:()=>Na,parseJson:()=>Uo,parser:()=>vf,parserAsync:()=>gf,partial:()=>Ef,partialAsync:()=>bf,partialCheck:()=>Bo,partialCheckAsync:()=>Go,pick:()=>_f,picklist:()=>Mn,pipe:()=>wf,pipeAsync:()=>Cf,promise:()=>pa,rawCheck:()=>zo,rawCheckAsync:()=>Ho,rawTransform:()=>Wo,rawTransformAsync:()=>Xo,readonly:()=>Jo,record:()=>ha,recordAsync:()=>da,reduceItems:()=>Yo,regex:()=>Zo,required:()=>kf,requiredAsync:()=>Tf,returns:()=>Ko,returnsAsync:()=>Qo,rfcEmail:()=>eu,safeInteger:()=>tu,safeParse:()=>ja,safeParseAsync:()=>Fa,safeParser:()=>Pn,safeParserAsync:()=>If,set:()=>ya,setAsync:()=>ma,setGlobalConfig:()=>Fc,setGlobalMessage:()=>Vc,setSchemaMessage:()=>qc,setSpecificMessage:()=>Gc,size:()=>nu,slug:()=>ru,someItem:()=>iu,sortItems:()=>su,startsWith:()=>ou,strictObject:()=>va,strictObjectAsync:()=>ga,strictTuple:()=>Ea,strictTupleAsync:()=>ba,string:()=>_a,stringifyJson:()=>uu,summarize:()=>Of,symbol:()=>wa,title:()=>au,toLowerCase:()=>lu,toMaxValue:()=>cu,toMinValue:()=>fu,toUpperCase:()=>pu,transform:()=>hu,transformAsync:()=>du,trim:()=>yu,trimEnd:()=>mu,trimStart:()=>vu,tuple:()=>Ca,tupleAsync:()=>ka,tupleWithRest:()=>Ta,tupleWithRestAsync:()=>Ia,ulid:()=>gu,undefined:()=>Oa,undefined_:()=>Oa,undefinedable:()=>Aa,undefinedableAsync:()=>Sa,union:()=>Ra,unionAsync:()=>$a,unknown:()=>Da,unwrap:()=>Af,url:()=>Eu,uuid:()=>bu,value:()=>_u,values:()=>wu,variant:()=>xa,variantAsync:()=>Ma,void:()=>At,void_:()=>At,words:()=>Cu});var Se;function Fc(n){Se=h(h({},Se),n)}function Re(n){return{lang:n?.lang??Se?.lang,message:n?.message,abortEarly:n?.abortEarly??Se?.abortEarly,abortPipeEarly:n?.abortPipeEarly??Se?.abortPipeEarly}}function Lc(){Se=void 0}var Ze;function Vc(n,t){Ze||(Ze=new Map),Ze.set(t,n)}function Fi(n){return Ze?.get(n)}function Uc(n){Ze?.delete(n)}var Ke;function qc(n,t){Ke||(Ke=new Map),Ke.set(t,n)}function Li(n){return Ke?.get(n)}function Bc(n){Ke?.delete(n)}var he;function Gc(n,t,e){he||(he=new Map),he.get(n)||he.set(n,new Map),he.get(n).set(e,t)}function Vi(n,t){return he?.get(n)?.get(t)}function zc(n,t){he?.get(n)?.delete(t)}function A(n){let t=typeof n;return t==="string"?`"${n}"`:t==="number"||t==="bigint"||t==="boolean"?`${n}`:t==="object"||t==="function"?(n&&Object.getPrototypeOf(n)?.constructor?.name)??"null":t}function f(n,t,e,r,i){let s=i&&"input"in i?i.input:e.value,o=i?.expected??n.expects??null,a=i?.received??A(s),u={kind:n.kind,type:n.type,input:s,expected:o,received:a,message:`Invalid ${t}: ${o?`Expected ${o} but r`:"R"}eceived ${a}`,requirement:n.requirement,path:i?.path,issues:i?.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},l=n.kind==="schema",c=i?.message??n.message??Vi(n.reference,u.lang)??(l?Li(u.lang):null)??r.message??Fi(u.lang);c!==void 0&&(u.message=typeof c=="function"?c(u):c),l&&(e.typed=!1),e.issues?e.issues.push(u):e.issues=[u]}var Cn;function Qe(n){return Cn||(Cn=new TextEncoder),Cn.encode(n).length}var kn;function et(n){kn||(kn=new Intl.Segmenter);let t=kn.segment(n),e=0;for(let r of t)e++;return e}function Ot(n,t){if("pipe"in n){let e=[];for(let r=n.pipe.length-1;r>=0;r--){let i=n.pipe[r];if(i.kind==="schema"&&"pipe"in i)e.push(i);else if(i.kind==="metadata"&&i.type===t)return i[t]}for(let r of e){let i=Ot(r,t);if(i!==void 0)return i}}}function y(n){return{version:1,vendor:"valibot",validate(t){return n["~run"]({value:t},Re())}}}var Ye;function tt(n,t){Ye||(Ye=new Map),Ye.get(n)||Ye.set(n,new Intl.Segmenter(n,{granularity:"word"}));let e=Ye.get(n).segment(t),r=0;for(let i of e)i.isWordLike&&r++;return r}var Hc=/\D/gu;function Sn(n){let t=n.replace(Hc,""),e=t.length,r=1,i=0;for(;e;){let s=+t[--e];r^=1,i+=r?[0,2,4,6,8,1,3,5,7,9][s]:s}return i%10===0}function de(n,t){return Object.hasOwn(n,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function G(n,t){let e=[...new Set(n)];return e.length>1?`(${e.join(` ${t} `)})`:e[0]??"never"}function Wc(n,t){let e={};for(let r of n)e[r]=t;return e}function Xc(n){let t={};for(let e of n)Object.assign(t,e.entries);return t}function Rn(n){if(n.path){let t="";for(let e of n.path)if(typeof e.key=="string"||typeof e.key=="number")t?t+=`.${e.key}`:t+=e.key;else return null;return t}return null}function Jc(n,t){return t.kind===n}function Yc(n,t){return t.type===n}function Zc(n){return n instanceof Q}var Q=class extends Error{constructor(n){super(n[0].message),this.name="ValiError",this.issues=n}};function Ui(n){return{kind:"transformation",type:"args",reference:Ui,async:!1,schema:n,"~run"(t,e){let r=t.value;return t.value=(...i)=>{let s=this.schema["~run"]({value:i},e);if(s.issues)throw new Q(s.issues);return r(...s.value)},t}}}function qi(n){return{kind:"transformation",type:"args",reference:qi,async:!1,schema:n,"~run"(t,e){let r=t.value;return t.value=async(...i)=>{let s=await n["~run"]({value:i},e);if(s.issues)throw new Q(s.issues);return r(...s.value)},t}}}function Bi(){return{kind:"transformation",type:"await",reference:Bi,async:!0,async"~run"(n){return n.value=await n.value,n}}}var Gi=/^(?:[\da-z+/]{4})*(?:[\da-z+/]{2}==|[\da-z+/]{3}=)?$/iu,zi=/^[A-Z]{6}(?!00)[\dA-Z]{2}(?:[\dA-Z]{3})?$/u,Hi=/^[a-z][\da-z]*$/u,Wi=/^[+-]?(?:\d*\.)?\d+$/u,Xi=/^\d+$/u,Ji=/^[\w+-]+(?:\.[\w+-]+)*@[\da-z]+(?:[.-][\da-z]+)*\.[a-z]{2,}$/iu,Yi=new RegExp("^(?:[\\u{1F1E6}-\\u{1F1FF}]{2}|\\u{1F3F4}[\\u{E0061}-\\u{E007A}]{2}[\\u{E0030}-\\u{E0039}\\u{E0061}-\\u{E007A}]{1,3}\\u{E007F}|(?:\\p{Emoji}\\uFE0F\\u20E3?|\\p{Emoji_Modifier_Base}\\p{Emoji_Modifier}?|\\p{Emoji_Presentation})(?:\\u200D(?:\\p{Emoji}\\uFE0F\\u20E3?|\\p{Emoji_Modifier_Base}\\p{Emoji_Modifier}?|\\p{Emoji_Presentation}))*)+$","u"),Zi=/^(?:0[hx])?[\da-fA-F]+$/u,Ki=/^#(?:[\da-fA-F]{3,4}|[\da-fA-F]{6}|[\da-fA-F]{8})$/u,Qi=/^\d{15}$|^\d{2}-\d{6}-\d{6}-\d$/u,es=/^(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])(?:\.(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])){3}$/u,ts=/^(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:|(?:[\da-f]{1,4}:){1,6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,5}(?::[\da-f]{1,4}){1,2}|(?:[\da-f]{1,4}:){1,4}(?::[\da-f]{1,4}){1,3}|(?:[\da-f]{1,4}:){1,3}(?::[\da-f]{1,4}){1,4}|(?:[\da-f]{1,4}:){1,2}(?::[\da-f]{1,4}){1,5}|[\da-f]{1,4}:(?::[\da-f]{1,4}){1,6}|:(?:(?::[\da-f]{1,4}){1,7}|:)|fe80:(?::[\da-f]{0,4}){0,4}%[\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d)|(?:[\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d))$/iu,ns=/^(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])(?:\.(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])){3}$|^(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:|(?:[\da-f]{1,4}:){1,6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,5}(?::[\da-f]{1,4}){1,2}|(?:[\da-f]{1,4}:){1,4}(?::[\da-f]{1,4}){1,3}|(?:[\da-f]{1,4}:){1,3}(?::[\da-f]{1,4}){1,4}|(?:[\da-f]{1,4}:){1,2}(?::[\da-f]{1,4}){1,5}|[\da-f]{1,4}:(?::[\da-f]{1,4}){1,6}|:(?:(?::[\da-f]{1,4}){1,7}|:)|fe80:(?::[\da-f]{0,4}){0,4}%[\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d)|(?:[\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d))$/iu,rs=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])$/u,is=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])[T ](?:0\d|1\d|2[0-3]):[0-5]\d$/u,ss=/^(?:0\d|1\d|2[0-3]):[0-5]\d$/u,os=/^(?:0\d|1\d|2[0-3])(?::[0-5]\d){2}$/u,us=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])[T ](?:0\d|1\d|2[0-3])(?::[0-5]\d){2}(?:\.\d{1,9})?(?:Z|[+-](?:0\d|1\d|2[0-3])(?::?[0-5]\d)?)$/u,as=/^\d{4}-W(?:0[1-9]|[1-4]\d|5[0-3])$/u,ls=/^(?:[\da-f]{2}:){5}[\da-f]{2}$|^(?:[\da-f]{2}-){5}[\da-f]{2}$|^(?:[\da-f]{4}\.){2}[\da-f]{4}$/iu,cs=/^(?:[\da-f]{2}:){7}[\da-f]{2}$|^(?:[\da-f]{2}-){7}[\da-f]{2}$|^(?:[\da-f]{4}\.){3}[\da-f]{4}$|^(?:[\da-f]{4}:){3}[\da-f]{4}$/iu,fs=/^(?:[\da-f]{2}:){5}[\da-f]{2}$|^(?:[\da-f]{2}-){5}[\da-f]{2}$|^(?:[\da-f]{4}\.){2}[\da-f]{4}$|^(?:[\da-f]{2}:){7}[\da-f]{2}$|^(?:[\da-f]{2}-){7}[\da-f]{2}$|^(?:[\da-f]{4}\.){3}[\da-f]{4}$|^(?:[\da-f]{4}:){3}[\da-f]{4}$/iu,ps=/^[\w-]+$/u,hs=/^(?:0o)?[0-7]+$/u,ds=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ys=/^[\da-z]+(?:[-_][\da-z]+)*$/u,ms=/^[\da-hjkmnp-tv-zA-HJKMNP-TV-Z]{26}$/u,vs=/^[\da-f]{8}(?:-[\da-f]{4}){3}-[\da-f]{12}$/iu;function gs(n){return{kind:"validation",type:"base64",reference:gs,async:!1,expects:null,requirement:Gi,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"Base64",t,e),t}}}function Es(n){return{kind:"validation",type:"bic",reference:Es,async:!1,expects:null,requirement:zi,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"BIC",t,e),t}}}function bs(n){return{kind:"transformation",type:"brand",reference:bs,async:!1,name:n,"~run"(t){return t}}}function _s(n,t){return{kind:"validation",type:"bytes",reference:_s,async:!1,expects:`${n}`,requirement:n,message:t,"~run"(e,r){if(e.typed){let i=Qe(e.value);i!==this.requirement&&f(this,"bytes",e,r,{received:`${i}`})}return e}}}function ws(n,t){return{kind:"validation",type:"check",reference:ws,async:!1,expects:null,requirement:n,message:t,"~run"(e,r){return e.typed&&!this.requirement(e.value)&&f(this,"input",e,r),e}}}function Cs(n,t){return{kind:"validation",type:"check",reference:Cs,async:!0,expects:null,requirement:n,message:t,async"~run"(e,r){return e.typed&&!await this.requirement(e.value)&&f(this,"input",e,r),e}}}function ks(n,t){return{kind:"validation",type:"check_items",reference:ks,async:!1,expects:null,requirement:n,message:t,"~run"(e,r){if(e.typed)for(let i=0;i<e.value.length;i++){let s=e.value[i];this.requirement(s,i,e.value)||f(this,"item",e,r,{input:s,path:[{type:"array",origin:"value",input:e.value,key:i,value:s}]})}return e}}}function Ts(n,t){return{kind:"validation",type:"check_items",reference:Ts,async:!0,expects:null,requirement:n,message:t,async"~run"(e,r){if(e.typed){let i=await Promise.all(e.value.map(this.requirement));for(let s=0;s<e.value.length;s++)if(!i[s]){let o=e.value[s];f(this,"item",e,r,{input:o,path:[{type:"array",origin:"value",input:e.value,key:s,value:o}]})}}return e}}}var Kc=/^(?:\d{14,19}|\d{4}(?: \d{3,6}){2,4}|\d{4}(?:-\d{3,6}){2,4})$/u,Qc=/[- ]/gu,ef=[/^3[47]\d{13}$/u,/^3(?:0[0-5]|[68]\d)\d{11,13}$/u,/^6(?:011|5\d{2})\d{12,15}$/u,/^(?:2131|1800|35\d{3})\d{11}$/u,/^5[1-5]\d{2}|(?:222\d|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720)\d{12}$/u,/^(?:6[27]\d{14,17}|81\d{14,17})$/u,/^4\d{12}(?:\d{3,6})?$/u];function Is(n){return{kind:"validation",type:"credit_card",reference:Is,async:!1,expects:null,requirement(t){let e;return Kc.test(t)&&(e=t.replace(Qc,""))&&ef.some(r=>r.test(e))&&Sn(e)},message:n,"~run"(t,e){return t.typed&&!this.requirement(t.value)&&f(this,"credit card",t,e),t}}}function Os(n){return{kind:"validation",type:"cuid2",reference:Os,async:!1,expects:null,requirement:Hi,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"Cuid2",t,e),t}}}function As(n){return{kind:"validation",type:"decimal",reference:As,async:!1,expects:null,requirement:Wi,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"decimal",t,e),t}}}function Ss(n){return{kind:"metadata",type:"description",reference:Ss,description:n}}function Rs(n){return{kind:"validation",type:"digits",reference:Rs,async:!1,expects:null,requirement:Xi,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"digits",t,e),t}}}function $s(n){return{kind:"validation",type:"email",reference:$s,expects:null,async:!1,requirement:Ji,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"email",t,e),t}}}function Ds(n){return{kind:"validation",type:"emoji",reference:Ds,async:!1,expects:null,requirement:Yi,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"emoji",t,e),t}}}function xs(n){return{kind:"validation",type:"empty",reference:xs,async:!1,expects:"0",message:n,"~run"(t,e){return t.typed&&t.value.length>0&&f(this,"length",t,e,{received:`${t.value.length}`}),t}}}function Ms(n,t){return{kind:"validation",type:"ends_with",reference:Ms,async:!1,expects:`"${n}"`,requirement:n,message:t,"~run"(e,r){return e.typed&&!e.value.endsWith(this.requirement)&&f(this,"end",e,r,{received:`"${e.value.slice(-this.requirement.length)}"`}),e}}}function Ps(n,t){return{kind:"validation",type:"entries",reference:Ps,async:!1,expects:`${n}`,requirement:n,message:t,"~run"(e,r){if(!e.typed)return e;let i=Object.keys(e.value).length;return e.typed&&i!==this.requirement&&f(this,"entries",e,r,{received:`${i}`}),e}}}function Ns(n,t){return{kind:"validation",type:"every_item",reference:Ns,async:!1,expects:null,requirement:n,message:t,"~run"(e,r){return e.typed&&!e.value.every(this.requirement)&&f(this,"item",e,r),e}}}function js(n,t){let e=A(n);return{kind:"validation",type:"excludes",reference:js,async:!1,expects:`!${e}`,requirement:n,message:t,"~run"(r,i){return r.typed&&r.value.includes(this.requirement)&&f(this,"content",r,i,{received:e}),r}}}function Fs(n){return{kind:"transformation",type:"filter_items",reference:Fs,async:!1,operation:n,"~run"(t){return t.value=t.value.filter(this.operation),t}}}function Ls(n){return{kind:"transformation",type:"find_item",reference:Ls,async:!1,operation:n,"~run"(t){return t.value=t.value.find(this.operation),t}}}function Vs(n){return{kind:"validation",type:"finite",reference:Vs,async:!1,expects:null,requirement:Number.isFinite,message:n,"~run"(t,e){return t.typed&&!this.requirement(t.value)&&f(this,"finite",t,e),t}}}function Us(n){return{kind:"transformation",type:"flavor",reference:Us,async:!1,name:n,"~run"(t){return t}}}function qs(n,t){return{kind:"validation",type:"graphemes",reference:qs,async:!1,expects:`${n}`,requirement:n,message:t,"~run"(e,r){if(e.typed){let i=et(e.value);i!==this.requirement&&f(this,"graphemes",e,r,{received:`${i}`})}return e}}}function Bs(n,t){return{kind:"validation",type:"gt_value",reference:Bs,async:!1,expects:`>${n instanceof Date?n.toJSON():A(n)}`,requirement:n,message:t,"~run"(e,r){return e.typed&&!(e.value>this.requirement)&&f(this,"value",e,r,{received:e.value instanceof Date?e.value.toJSON():A(e.value)}),e}}}var tf={md4:32,md5:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8,adler32:8};function Gs(n,t){return{kind:"validation",type:"hash",reference:Gs,expects:null,async:!1,requirement:RegExp(n.map(e=>`^[a-f0-9]{${tf[e]}}$`).join("|"),"iu"),message:t,"~run"(e,r){return e.typed&&!this.requirement.test(e.value)&&f(this,"hash",e,r),e}}}function zs(n){return{kind:"validation",type:"hexadecimal",reference:zs,async:!1,expects:null,requirement:Zi,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"hexadecimal",t,e),t}}}function Hs(n){return{kind:"validation",type:"hex_color",reference:Hs,async:!1,expects:null,requirement:Ki,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"hex color",t,e),t}}}function Ws(n){return{kind:"validation",type:"imei",reference:Ws,async:!1,expects:null,requirement(t){return Qi.test(t)&&Sn(t)},message:n,"~run"(t,e){return t.typed&&!this.requirement(t.value)&&f(this,"IMEI",t,e),t}}}function Xs(n,t){let e=A(n);return{kind:"validation",type:"includes",reference:Xs,async:!1,expects:e,requirement:n,message:t,"~run"(r,i){return r.typed&&!r.value.includes(this.requirement)&&f(this,"content",r,i,{received:`!${e}`}),r}}}function Js(n){return{kind:"validation",type:"integer",reference:Js,async:!1,expects:null,requirement:Number.isInteger,message:n,"~run"(t,e){return t.typed&&!this.requirement(t.value)&&f(this,"integer",t,e),t}}}function Ys(n){return{kind:"validation",type:"ip",reference:Ys,async:!1,expects:null,requirement:ns,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"IP",t,e),t}}}function Zs(n){return{kind:"validation",type:"ipv4",reference:Zs,async:!1,expects:null,requirement:es,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"IPv4",t,e),t}}}function Ks(n){return{kind:"validation",type:"ipv6",reference:Ks,async:!1,expects:null,requirement:ts,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"IPv6",t,e),t}}}function Qs(n){return{kind:"validation",type:"iso_date",reference:Qs,async:!1,expects:null,requirement:rs,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"date",t,e),t}}}function eo(n){return{kind:"validation",type:"iso_date_time",reference:eo,async:!1,expects:null,requirement:is,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"date-time",t,e),t}}}function to(n){return{kind:"validation",type:"iso_time",reference:to,async:!1,expects:null,requirement:ss,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"time",t,e),t}}}function no(n){return{kind:"validation",type:"iso_time_second",reference:no,async:!1,expects:null,requirement:os,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"time-second",t,e),t}}}function ro(n){return{kind:"validation",type:"iso_timestamp",reference:ro,async:!1,expects:null,requirement:us,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"timestamp",t,e),t}}}function io(n){return{kind:"validation",type:"iso_week",reference:io,async:!1,expects:null,requirement:as,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"week",t,e),t}}}function so(n,t){return{kind:"validation",type:"length",reference:so,async:!1,expects:`${n}`,requirement:n,message:t,"~run"(e,r){return e.typed&&e.value.length!==this.requirement&&f(this,"length",e,r,{received:`${e.value.length}`}),e}}}function oo(n,t){return{kind:"validation",type:"lt_value",reference:oo,async:!1,expects:`<${n instanceof Date?n.toJSON():A(n)}`,requirement:n,message:t,"~run"(e,r){return e.typed&&!(e.value<this.requirement)&&f(this,"value",e,r,{received:e.value instanceof Date?e.value.toJSON():A(e.value)}),e}}}function uo(n){return{kind:"validation",type:"mac",reference:uo,async:!1,expects:null,requirement:fs,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"MAC",t,e),t}}}function ao(n){return{kind:"validation",type:"mac48",reference:ao,async:!1,expects:null,requirement:ls,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"48-bit MAC",t,e),t}}}function lo(n){return{kind:"validation",type:"mac64",reference:lo,async:!1,expects:null,requirement:cs,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"64-bit MAC",t,e),t}}}function co(n){return{kind:"transformation",type:"map_items",reference:co,async:!1,operation:n,"~run"(t){return t.value=t.value.map(this.operation),t}}}function fo(n,t){return{kind:"validation",type:"max_bytes",reference:fo,async:!1,expects:`<=${n}`,requirement:n,message:t,"~run"(e,r){if(e.typed){let i=Qe(e.value);i>this.requirement&&f(this,"bytes",e,r,{received:`${i}`})}return e}}}function po(n,t){return{kind:"validation",type:"max_entries",reference:po,async:!1,expects:`<=${n}`,requirement:n,message:t,"~run"(e,r){if(!e.typed)return e;let i=Object.keys(e.value).length;return e.typed&&i>this.requirement&&f(this,"entries",e,r,{received:`${i}`}),e}}}function ho(n,t){return{kind:"validation",type:"max_graphemes",reference:ho,async:!1,expects:`<=${n}`,requirement:n,message:t,"~run"(e,r){if(e.typed){let i=et(e.value);i>this.requirement&&f(this,"graphemes",e,r,{received:`${i}`})}return e}}}function yo(n,t){return{kind:"validation",type:"max_length",reference:yo,async:!1,expects:`<=${n}`,requirement:n,message:t,"~run"(e,r){return e.typed&&e.value.length>this.requirement&&f(this,"length",e,r,{received:`${e.value.length}`}),e}}}function mo(n,t){return{kind:"validation",type:"max_size",reference:mo,async:!1,expects:`<=${n}`,requirement:n,message:t,"~run"(e,r){return e.typed&&e.value.size>this.requirement&&f(this,"size",e,r,{received:`${e.value.size}`}),e}}}function vo(n,t){return{kind:"validation",type:"max_value",reference:vo,async:!1,expects:`<=${n instanceof Date?n.toJSON():A(n)}`,requirement:n,message:t,"~run"(e,r){return e.typed&&!(e.value<=this.requirement)&&f(this,"value",e,r,{received:e.value instanceof Date?e.value.toJSON():A(e.value)}),e}}}function go(n,t,e){return{kind:"validation",type:"max_words",reference:go,async:!1,expects:`<=${t}`,locales:n,requirement:t,message:e,"~run"(r,i){if(r.typed){let s=tt(this.locales,r.value);s>this.requirement&&f(this,"words",r,i,{received:`${s}`})}return r}}}function Eo(n){return{kind:"metadata",type:"metadata",reference:Eo,metadata:n}}function bo(n,t){return{kind:"validation",type:"mime_type",reference:bo,async:!1,expects:G(n.map(e=>`"${e}"`),"|"),requirement:n,message:t,"~run"(e,r){return e.typed&&!this.requirement.includes(e.value.type)&&f(this,"MIME type",e,r,{received:`"${e.value.type}"`}),e}}}function _o(n,t){return{kind:"validation",type:"min_bytes",reference:_o,async:!1,expects:`>=${n}`,requirement:n,message:t,"~run"(e,r){if(e.typed){let i=Qe(e.value);i<this.requirement&&f(this,"bytes",e,r,{received:`${i}`})}return e}}}function wo(n,t){return{kind:"validation",type:"min_entries",reference:wo,async:!1,expects:`>=${n}`,requirement:n,message:t,"~run"(e,r){if(!e.typed)return e;let i=Object.keys(e.value).length;return e.typed&&i<this.requirement&&f(this,"entries",e,r,{received:`${i}`}),e}}}function Co(n,t){return{kind:"validation",type:"min_graphemes",reference:Co,async:!1,expects:`>=${n}`,requirement:n,message:t,"~run"(e,r){if(e.typed){let i=et(e.value);i<this.requirement&&f(this,"graphemes",e,r,{received:`${i}`})}return e}}}function ko(n,t){return{kind:"validation",type:"min_length",reference:ko,async:!1,expects:`>=${n}`,requirement:n,message:t,"~run"(e,r){return e.typed&&e.value.length<this.requirement&&f(this,"length",e,r,{received:`${e.value.length}`}),e}}}function To(n,t){return{kind:"validation",type:"min_size",reference:To,async:!1,expects:`>=${n}`,requirement:n,message:t,"~run"(e,r){return e.typed&&e.value.size<this.requirement&&f(this,"size",e,r,{received:`${e.value.size}`}),e}}}function Io(n,t){return{kind:"validation",type:"min_value",reference:Io,async:!1,expects:`>=${n instanceof Date?n.toJSON():A(n)}`,requirement:n,message:t,"~run"(e,r){return e.typed&&!(e.value>=this.requirement)&&f(this,"value",e,r,{received:e.value instanceof Date?e.value.toJSON():A(e.value)}),e}}}function Oo(n,t,e){return{kind:"validation",type:"min_words",reference:Oo,async:!1,expects:`>=${t}`,locales:n,requirement:t,message:e,"~run"(r,i){if(r.typed){let s=tt(this.locales,r.value);s<this.requirement&&f(this,"words",r,i,{received:`${s}`})}return r}}}function Ao(n,t){return{kind:"validation",type:"multiple_of",reference:Ao,async:!1,expects:`%${n}`,requirement:n,message:t,"~run"(e,r){return e.typed&&e.value%this.requirement!=0&&f(this,"multiple",e,r),e}}}function So(n){return{kind:"validation",type:"nanoid",reference:So,async:!1,expects:null,requirement:ps,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"Nano ID",t,e),t}}}function Ro(n){return{kind:"validation",type:"non_empty",reference:Ro,async:!1,expects:"!0",message:n,"~run"(t,e){return t.typed&&t.value.length===0&&f(this,"length",t,e,{received:"0"}),t}}}function $o(n){return{kind:"transformation",type:"normalize",reference:$o,async:!1,form:n,"~run"(t){return t.value=t.value.normalize(this.form),t}}}function Do(n,t){return{kind:"validation",type:"not_bytes",reference:Do,async:!1,expects:`!${n}`,requirement:n,message:t,"~run"(e,r){if(e.typed){let i=Qe(e.value);i===this.requirement&&f(this,"bytes",e,r,{received:`${i}`})}return e}}}function xo(n,t){return{kind:"validation",type:"not_entries",reference:xo,async:!1,expects:`!${n}`,requirement:n,message:t,"~run"(e,r){if(!e.typed)return e;let i=Object.keys(e.value).length;return e.typed&&i===this.requirement&&f(this,"entries",e,r,{received:`${i}`}),e}}}function Mo(n,t){return{kind:"validation",type:"not_graphemes",reference:Mo,async:!1,expects:`!${n}`,requirement:n,message:t,"~run"(e,r){if(e.typed){let i=et(e.value);i===this.requirement&&f(this,"graphemes",e,r,{received:`${i}`})}return e}}}function Po(n,t){return{kind:"validation",type:"not_length",reference:Po,async:!1,expects:`!${n}`,requirement:n,message:t,"~run"(e,r){return e.typed&&e.value.length===this.requirement&&f(this,"length",e,r,{received:`${e.value.length}`}),e}}}function No(n,t){return{kind:"validation",type:"not_size",reference:No,async:!1,expects:`!${n}`,requirement:n,message:t,"~run"(e,r){return e.typed&&e.value.size===this.requirement&&f(this,"size",e,r,{received:`${e.value.size}`}),e}}}function jo(n,t){return{kind:"validation",type:"not_value",reference:jo,async:!1,expects:n instanceof Date?`!${n.toJSON()}`:`!${A(n)}`,requirement:n,message:t,"~run"(e,r){return e.typed&&this.requirement<=e.value&&this.requirement>=e.value&&f(this,"value",e,r,{received:e.value instanceof Date?e.value.toJSON():A(e.value)}),e}}}function Fo(n,t){return{kind:"validation",type:"not_values",reference:Fo,async:!1,expects:`!${G(n.map(e=>e instanceof Date?e.toJSON():A(e)),"|")}`,requirement:n,message:t,"~run"(e,r){return e.typed&&this.requirement.some(i=>i<=e.value&&i>=e.value)&&f(this,"value",e,r,{received:e.value instanceof Date?e.value.toJSON():A(e.value)}),e}}}function Lo(n,t,e){return{kind:"validation",type:"not_words",reference:Lo,async:!1,expects:`!${t}`,locales:n,requirement:t,message:e,"~run"(r,i){if(r.typed){let s=tt(this.locales,r.value);s===this.requirement&&f(this,"words",r,i,{received:`${s}`})}return r}}}function Vo(n){return{kind:"validation",type:"octal",reference:Vo,async:!1,expects:null,requirement:hs,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"octal",t,e),t}}}function Uo(n,t){return{kind:"transformation",type:"parse_json",reference:Uo,config:n,message:t,async:!1,"~run"(e,r){try{e.value=JSON.parse(e.value,this.config?.reviver)}catch(i){if(i instanceof Error)f(this,"JSON",e,r,{received:`"${i.message}"`}),e.typed=!1;else throw i}return e}}}function qo(n,t){if(n.issues)for(let e of t)for(let r of n.issues){let i=!1,s=Math.min(e.length,r.path?.length??0);for(let o=0;o<s;o++)if(e[o]!==r.path[o].key&&(e[o]!=="$"||r.path[o].type!=="array")){i=!0;break}if(!i)return!1}return!0}function Bo(n,t,e){return{kind:"validation",type:"partial_check",reference:Bo,async:!1,expects:null,paths:n,requirement:t,message:e,"~run"(r,i){return(r.typed||qo(r,n))&&!this.requirement(r.value)&&f(this,"input",r,i),r}}}function Go(n,t,e){return{kind:"validation",type:"partial_check",reference:Go,async:!0,expects:null,paths:n,requirement:t,message:e,async"~run"(r,i){return(r.typed||qo(r,n))&&!await this.requirement(r.value)&&f(this,"input",r,i),r}}}function zo(n){return{kind:"validation",type:"raw_check",reference:zo,async:!1,expects:null,"~run"(t,e){return n({dataset:t,config:e,addIssue:r=>f(this,r?.label??"input",t,e,r)}),t}}}function Ho(n){return{kind:"validation",type:"raw_check",reference:Ho,async:!0,expects:null,async"~run"(t,e){return await n({dataset:t,config:e,addIssue:r=>f(this,r?.label??"input",t,e,r)}),t}}}function Wo(n){return{kind:"transformation",type:"raw_transform",reference:Wo,async:!1,"~run"(t,e){let r=n({dataset:t,config:e,addIssue:i=>f(this,i?.label??"input",t,e,i),NEVER:null});return t.issues?t.typed=!1:t.value=r,t}}}function Xo(n){return{kind:"transformation",type:"raw_transform",reference:Xo,async:!0,async"~run"(t,e){let r=await n({dataset:t,config:e,addIssue:i=>f(this,i?.label??"input",t,e,i),NEVER:null});return t.issues?t.typed=!1:t.value=r,t}}}function Jo(){return{kind:"transformation",type:"readonly",reference:Jo,async:!1,"~run"(n){return n}}}function Yo(n,t){return{kind:"transformation",type:"reduce_items",reference:Yo,async:!1,operation:n,initial:t,"~run"(e){return e.value=e.value.reduce(this.operation,this.initial),e}}}function Zo(n,t){return{kind:"validation",type:"regex",reference:Zo,async:!1,expects:`${n}`,requirement:n,message:t,"~run"(e,r){return e.typed&&!this.requirement.test(e.value)&&f(this,"format",e,r),e}}}function Ko(n){return{kind:"transformation",type:"returns",reference:Ko,async:!1,schema:n,"~run"(t,e){let r=t.value;return t.value=(...i)=>{let s=this.schema["~run"]({value:r(...i)},e);if(s.issues)throw new Q(s.issues);return s.value},t}}}function Qo(n){return{kind:"transformation",type:"returns",reference:Qo,async:!1,schema:n,"~run"(t,e){let r=t.value;return t.value=async(...i)=>{let s=await this.schema["~run"]({value:await r(...i)},e);if(s.issues)throw new Q(s.issues);return s.value},t}}}function eu(n){return{kind:"validation",type:"rfc_email",reference:eu,expects:null,async:!1,requirement:ds,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"email",t,e),t}}}function tu(n){return{kind:"validation",type:"safe_integer",reference:tu,async:!1,expects:null,requirement:Number.isSafeInteger,message:n,"~run"(t,e){return t.typed&&!this.requirement(t.value)&&f(this,"safe integer",t,e),t}}}function nu(n,t){return{kind:"validation",type:"size",reference:nu,async:!1,expects:`${n}`,requirement:n,message:t,"~run"(e,r){return e.typed&&e.value.size!==this.requirement&&f(this,"size",e,r,{received:`${e.value.size}`}),e}}}function ru(n){return{kind:"validation",type:"slug",reference:ru,async:!1,expects:null,requirement:ys,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"slug",t,e),t}}}function iu(n,t){return{kind:"validation",type:"some_item",reference:iu,async:!1,expects:null,requirement:n,message:t,"~run"(e,r){return e.typed&&!e.value.some(this.requirement)&&f(this,"item",e,r),e}}}function su(n){return{kind:"transformation",type:"sort_items",reference:su,async:!1,operation:n,"~run"(t){return t.value=t.value.sort(this.operation),t}}}function ou(n,t){return{kind:"validation",type:"starts_with",reference:ou,async:!1,expects:`"${n}"`,requirement:n,message:t,"~run"(e,r){return e.typed&&!e.value.startsWith(this.requirement)&&f(this,"start",e,r,{received:`"${e.value.slice(0,this.requirement.length)}"`}),e}}}function uu(n,t){return{kind:"transformation",type:"stringify_json",reference:uu,message:t,config:n,async:!1,"~run"(e,r){try{let i=JSON.stringify(e.value,this.config?.replacer,this.config?.space);i===void 0&&(f(this,"JSON",e,r),e.typed=!1),e.value=i}catch(i){if(i instanceof Error)f(this,"JSON",e,r,{received:`"${i.message}"`}),e.typed=!1;else throw i}return e}}}function au(n){return{kind:"metadata",type:"title",reference:au,title:n}}function lu(){return{kind:"transformation",type:"to_lower_case",reference:lu,async:!1,"~run"(n){return n.value=n.value.toLowerCase(),n}}}function cu(n){return{kind:"transformation",type:"to_max_value",reference:cu,async:!1,requirement:n,"~run"(t){return t.value=t.value>this.requirement?this.requirement:t.value,t}}}function fu(n){return{kind:"transformation",type:"to_min_value",reference:fu,async:!1,requirement:n,"~run"(t){return t.value=t.value<this.requirement?this.requirement:t.value,t}}}function pu(){return{kind:"transformation",type:"to_upper_case",reference:pu,async:!1,"~run"(n){return n.value=n.value.toUpperCase(),n}}}function hu(n){return{kind:"transformation",type:"transform",reference:hu,async:!1,operation:n,"~run"(t){return t.value=this.operation(t.value),t}}}function du(n){return{kind:"transformation",type:"transform",reference:du,async:!0,operation:n,async"~run"(t){return t.value=await this.operation(t.value),t}}}function yu(){return{kind:"transformation",type:"trim",reference:yu,async:!1,"~run"(n){return n.value=n.value.trim(),n}}}function mu(){return{kind:"transformation",type:"trim_end",reference:mu,async:!1,"~run"(n){return n.value=n.value.trimEnd(),n}}}function vu(){return{kind:"transformation",type:"trim_start",reference:vu,async:!1,"~run"(n){return n.value=n.value.trimStart(),n}}}function gu(n){return{kind:"validation",type:"ulid",reference:gu,async:!1,expects:null,requirement:ms,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"ULID",t,e),t}}}function Eu(n){return{kind:"validation",type:"url",reference:Eu,async:!1,expects:null,requirement(t){try{return new URL(t),!0}catch{return!1}},message:n,"~run"(t,e){return t.typed&&!this.requirement(t.value)&&f(this,"URL",t,e),t}}}function bu(n){return{kind:"validation",type:"uuid",reference:bu,async:!1,expects:null,requirement:vs,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&f(this,"UUID",t,e),t}}}function _u(n,t){return{kind:"validation",type:"value",reference:_u,async:!1,expects:n instanceof Date?n.toJSON():A(n),requirement:n,message:t,"~run"(e,r){return e.typed&&!(this.requirement<=e.value&&this.requirement>=e.value)&&f(this,"value",e,r,{received:e.value instanceof Date?e.value.toJSON():A(e.value)}),e}}}function wu(n,t){return{kind:"validation",type:"values",reference:wu,async:!1,expects:`${G(n.map(e=>e instanceof Date?e.toJSON():A(e)),"|")}`,requirement:n,message:t,"~run"(e,r){return e.typed&&!this.requirement.some(i=>i<=e.value&&i>=e.value)&&f(this,"value",e,r,{received:e.value instanceof Date?e.value.toJSON():A(e.value)}),e}}}function Cu(n,t,e){return{kind:"validation",type:"words",reference:Cu,async:!1,expects:`${t}`,locales:n,requirement:t,message:e,"~run"(r,i){if(r.typed){let s=tt(this.locales,r.value);s!==this.requirement&&f(this,"words",r,i,{received:`${s}`})}return r}}}function nf(n,t){let e=n["~run"]({value:t},{abortEarly:!0}).issues;if(e)throw new Q(e)}function rf(n,t){return E(h({},n),{get"~standard"(){return y(this)},"~run"(e,r){return n["~run"](e,h(h({},r),t))}})}function U(n,t,e){return typeof n.fallback=="function"?n.fallback(t,e):n.fallback}function sf(n,t){return E(h({},n),{fallback:t,get"~standard"(){return y(this)},"~run"(e,r){let i=n["~run"](e,r);return i.issues?{typed:!0,value:U(this,i,r)}:i}})}function of(n,t){return E(h({},n),{fallback:t,async:!0,get"~standard"(){return y(this)},async"~run"(e,r){let i=await n["~run"](e,r);return i.issues?{typed:!0,value:await U(this,i,r)}:i}})}function uf(n){let t={};for(let e of n)if(e.path){let r=Rn(e);r?(t.nested||(t.nested={}),t.nested[r]?t.nested[r].push(e.message):t.nested[r]=[e.message]):t.other?t.other.push(e.message):t.other=[e.message]}else t.root?t.root.push(e.message):t.root=[e.message];return t}function af(n,t){return E(h({},n),{"~run"(e,r){let i=e.issues&&[...e.issues];if(e=n["~run"](e,r),e.issues){for(let s of e.issues)if(!i?.includes(s)){let o=e.value;for(let a of t){let u=o[a],l={type:"unknown",origin:"value",input:o,key:a,value:u};if(s.path?s.path.push(l):s.path=[l],!u)break;o=u}}}return e}})}function lf(n,t){return E(h({},n),{async:!0,async"~run"(e,r){let i=e.issues&&[...e.issues];if(e=await n["~run"](e,r),e.issues){for(let s of e.issues)if(!i?.includes(s)){let o=e.value;for(let a of t){let u=o[a],l={type:"unknown",origin:"value",input:o,key:a,value:u};if(s.path?s.path.push(l):s.path=[l],!u)break;o=u}}}return e}})}function R(n,t,e){return typeof n.default=="function"?n.default(t,e):n.default}function Tn(n){if("entries"in n){let t={};for(let e in n.entries)t[e]=Tn(n.entries[e]);return t}return"items"in n?n.items.map(Tn):R(n)}async function In(n){return"entries"in n?Object.fromEntries(await Promise.all(Object.entries(n.entries).map(async([t,e])=>[t,await In(e)]))):"items"in n?Promise.all(n.items.map(In)):R(n)}function cf(n){return Ot(n,"description")}function On(n){if("entries"in n){let t={};for(let e in n.entries)t[e]=On(n.entries[e]);return t}return"items"in n?n.items.map(On):U(n)}async function An(n){return"entries"in n?Object.fromEntries(await Promise.all(Object.entries(n.entries).map(async([t,e])=>[t,await An(e)]))):"items"in n?Promise.all(n.items.map(An)):U(n)}function ff(n){let t={};function e(r){if("pipe"in r)for(let i of r.pipe)i.kind==="schema"&&"pipe"in i?e(i):i.kind==="metadata"&&i.type==="metadata"&&Object.assign(t,i.metadata)}return e(n),t}function pf(n){return Ot(n,"title")}function hf(n,t){return!n["~run"]({value:t},{abortEarly:!0}).issues}function ku(){return{kind:"schema",type:"any",reference:ku,expects:"any",async:!1,get"~standard"(){return y(this)},"~run"(n){return n.typed=!0,n}}}function Tu(n,t){return{kind:"schema",type:"array",reference:Tu,expects:"Array",async:!1,item:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){let i=e.value;if(Array.isArray(i)){e.typed=!0,e.value=[];for(let s=0;s<i.length;s++){let o=i[s],a=this.item["~run"]({value:o},r);if(a.issues){let u={type:"array",origin:"value",input:i,key:s,value:o};for(let l of a.issues)l.path?l.path.unshift(u):l.path=[u],e.issues?.push(l);if(e.issues||(e.issues=a.issues),r.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value.push(a.value)}}else f(this,"type",e,r);return e}}}function Iu(n,t){return{kind:"schema",type:"array",reference:Iu,expects:"Array",async:!0,item:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){let i=e.value;if(Array.isArray(i)){e.typed=!0,e.value=[];let s=await Promise.all(i.map(o=>this.item["~run"]({value:o},r)));for(let o=0;o<s.length;o++){let a=s[o];if(a.issues){let u={type:"array",origin:"value",input:i,key:o,value:i[o]};for(let l of a.issues)l.path?l.path.unshift(u):l.path=[u],e.issues?.push(l);if(e.issues||(e.issues=a.issues),r.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value.push(a.value)}}else f(this,"type",e,r);return e}}}function Ou(n){return{kind:"schema",type:"bigint",reference:Ou,expects:"bigint",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return typeof t.value=="bigint"?t.typed=!0:f(this,"type",t,e),t}}}function Au(n){return{kind:"schema",type:"blob",reference:Au,expects:"Blob",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return t.value instanceof Blob?t.typed=!0:f(this,"type",t,e),t}}}function Su(n){return{kind:"schema",type:"boolean",reference:Su,expects:"boolean",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return typeof t.value=="boolean"?t.typed=!0:f(this,"type",t,e),t}}}function Ru(n,t){return{kind:"schema",type:"custom",reference:Ru,expects:"unknown",async:!1,check:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){return this.check(e.value)?e.typed=!0:f(this,"type",e,r),e}}}function $u(n,t){return{kind:"schema",type:"custom",reference:$u,expects:"unknown",async:!0,check:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){return await this.check(e.value)?e.typed=!0:f(this,"type",e,r),e}}}function Du(n){return{kind:"schema",type:"date",reference:Du,expects:"Date",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return t.value instanceof Date?isNaN(t.value)?f(this,"type",t,e,{received:'"Invalid Date"'}):t.typed=!0:f(this,"type",t,e),t}}}function xu(n,t){let e=[];for(let r in n)(`${+r}`!==r||typeof n[r]!="string"||!Object.is(n[n[r]],+r))&&e.push(n[r]);return{kind:"schema",type:"enum",reference:xu,expects:G(e.map(A),"|"),async:!1,enum:n,options:e,message:t,get"~standard"(){return y(this)},"~run"(r,i){return this.options.includes(r.value)?r.typed=!0:f(this,"type",r,i),r}}}function Mu(n,t){return{kind:"schema",type:"exact_optional",reference:Mu,expects:n.expects,async:!1,wrapped:n,default:t,get"~standard"(){return y(this)},"~run"(e,r){return this.wrapped["~run"](e,r)}}}function Pu(n,t){return{kind:"schema",type:"exact_optional",reference:Pu,expects:n.expects,async:!0,wrapped:n,default:t,get"~standard"(){return y(this)},async"~run"(e,r){return this.wrapped["~run"](e,r)}}}function Nu(n){return{kind:"schema",type:"file",reference:Nu,expects:"File",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return t.value instanceof File?t.typed=!0:f(this,"type",t,e),t}}}function ju(n){return{kind:"schema",type:"function",reference:ju,expects:"Function",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return typeof t.value=="function"?t.typed=!0:f(this,"type",t,e),t}}}function Fu(n,t){return{kind:"schema",type:"instance",reference:Fu,expects:n.name,async:!1,class:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){return e.value instanceof this.class?e.typed=!0:f(this,"type",e,r),e}}}function Tt(n,t){if(typeof n==typeof t){if(n===t||n instanceof Date&&t instanceof Date&&+n==+t)return{value:n};if(n&&t&&n.constructor===Object&&t.constructor===Object){for(let e in t)if(e in n){let r=Tt(n[e],t[e]);if(r.issue)return r;n[e]=r.value}else n[e]=t[e];return{value:n}}if(Array.isArray(n)&&Array.isArray(t)&&n.length===t.length){for(let e=0;e<n.length;e++){let r=Tt(n[e],t[e]);if(r.issue)return r;n[e]=r.value}return{value:n}}}return{issue:!0}}function Lu(n,t){return{kind:"schema",type:"intersect",reference:Lu,expects:G(n.map(e=>e.expects),"&"),async:!1,options:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){if(this.options.length){let i=e.value,s;e.typed=!0;for(let o of this.options){let a=o["~run"]({value:i},r);if(a.issues&&(e.issues?e.issues.push(...a.issues):e.issues=a.issues,r.abortEarly)){e.typed=!1;break}a.typed||(e.typed=!1),e.typed&&(s?s.push(a.value):s=[a.value])}if(e.typed){e.value=s[0];for(let o=1;o<s.length;o++){let a=Tt(e.value,s[o]);if(a.issue){f(this,"type",e,r,{received:"unknown"});break}e.value=a.value}}}else f(this,"type",e,r);return e}}}function Vu(n,t){return{kind:"schema",type:"intersect",reference:Vu,expects:G(n.map(e=>e.expects),"&"),async:!0,options:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){if(this.options.length){let i=e.value,s;e.typed=!0;let o=await Promise.all(this.options.map(a=>a["~run"]({value:i},r)));for(let a of o){if(a.issues&&(e.issues?e.issues.push(...a.issues):e.issues=a.issues,r.abortEarly)){e.typed=!1;break}a.typed||(e.typed=!1),e.typed&&(s?s.push(a.value):s=[a.value])}if(e.typed){e.value=s[0];for(let a=1;a<s.length;a++){let u=Tt(e.value,s[a]);if(u.issue){f(this,"type",e,r,{received:"unknown"});break}e.value=u.value}}}else f(this,"type",e,r);return e}}}function Uu(n){return{kind:"schema",type:"lazy",reference:Uu,expects:"unknown",async:!1,getter:n,get"~standard"(){return y(this)},"~run"(t,e){return this.getter(t.value)["~run"](t,e)}}}function qu(n){return{kind:"schema",type:"lazy",reference:qu,expects:"unknown",async:!0,getter:n,get"~standard"(){return y(this)},async"~run"(t,e){return(await this.getter(t.value))["~run"](t,e)}}}function Bu(n,t){return{kind:"schema",type:"literal",reference:Bu,expects:A(n),async:!1,literal:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){return e.value===this.literal?e.typed=!0:f(this,"type",e,r),e}}}function Gu(n,t){return{kind:"schema",type:"loose_object",reference:Gu,expects:"Object",async:!1,entries:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){let i=e.value;if(i&&typeof i=="object"){e.typed=!0,e.value={};for(let s in this.entries){let o=this.entries[s];if(s in i||(o.type==="exact_optional"||o.type==="optional"||o.type==="nullish")&&o.default!==void 0){let a=s in i?i[s]:R(o),u=o["~run"]({value:a},r);if(u.issues){let l={type:"object",origin:"value",input:i,key:s,value:a};for(let c of u.issues)c.path?c.path.unshift(l):c.path=[l],e.issues?.push(c);if(e.issues||(e.issues=u.issues),r.abortEarly){e.typed=!1;break}}u.typed||(e.typed=!1),e.value[s]=u.value}else if(o.fallback!==void 0)e.value[s]=U(o);else if(o.type!=="exact_optional"&&o.type!=="optional"&&o.type!=="nullish"&&(f(this,"key",e,r,{input:void 0,expected:`"${s}"`,path:[{type:"object",origin:"key",input:i,key:s,value:i[s]}]}),r.abortEarly))break}if(!e.issues||!r.abortEarly)for(let s in i)de(i,s)&&!(s in this.entries)&&(e.value[s]=i[s])}else f(this,"type",e,r);return e}}}function zu(n,t){return{kind:"schema",type:"loose_object",reference:zu,expects:"Object",async:!0,entries:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){let i=e.value;if(i&&typeof i=="object"){e.typed=!0,e.value={};let s=await Promise.all(Object.entries(this.entries).map(async([o,a])=>{if(o in i||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){let u=o in i?i[o]:await R(a);return[o,u,a,await a["~run"]({value:u},r)]}return[o,i[o],a,null]}));for(let[o,a,u,l]of s)if(l){if(l.issues){let c={type:"object",origin:"value",input:i,key:o,value:a};for(let p of l.issues)p.path?p.path.unshift(c):p.path=[c],e.issues?.push(p);if(e.issues||(e.issues=l.issues),r.abortEarly){e.typed=!1;break}}l.typed||(e.typed=!1),e.value[o]=l.value}else if(u.fallback!==void 0)e.value[o]=await U(u);else if(u.type!=="exact_optional"&&u.type!=="optional"&&u.type!=="nullish"&&(f(this,"key",e,r,{input:void 0,expected:`"${o}"`,path:[{type:"object",origin:"key",input:i,key:o,value:a}]}),r.abortEarly))break;if(!e.issues||!r.abortEarly)for(let o in i)de(i,o)&&!(o in this.entries)&&(e.value[o]=i[o])}else f(this,"type",e,r);return e}}}function Hu(n,t){return{kind:"schema",type:"loose_tuple",reference:Hu,expects:"Array",async:!1,items:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){let i=e.value;if(Array.isArray(i)){e.typed=!0,e.value=[];for(let s=0;s<this.items.length;s++){let o=i[s],a=this.items[s]["~run"]({value:o},r);if(a.issues){let u={type:"array",origin:"value",input:i,key:s,value:o};for(let l of a.issues)l.path?l.path.unshift(u):l.path=[u],e.issues?.push(l);if(e.issues||(e.issues=a.issues),r.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value.push(a.value)}if(!e.issues||!r.abortEarly)for(let s=this.items.length;s<i.length;s++)e.value.push(i[s])}else f(this,"type",e,r);return e}}}function Wu(n,t){return{kind:"schema",type:"loose_tuple",reference:Wu,expects:"Array",async:!0,items:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){let i=e.value;if(Array.isArray(i)){e.typed=!0,e.value=[];let s=await Promise.all(this.items.map(async(o,a)=>{let u=i[a];return[a,u,await o["~run"]({value:u},r)]}));for(let[o,a,u]of s){if(u.issues){let l={type:"array",origin:"value",input:i,key:o,value:a};for(let c of u.issues)c.path?c.path.unshift(l):c.path=[l],e.issues?.push(c);if(e.issues||(e.issues=u.issues),r.abortEarly){e.typed=!1;break}}u.typed||(e.typed=!1),e.value.push(u.value)}if(!e.issues||!r.abortEarly)for(let o=this.items.length;o<i.length;o++)e.value.push(i[o])}else f(this,"type",e,r);return e}}}function Xu(n,t,e){return{kind:"schema",type:"map",reference:Xu,expects:"Map",async:!1,key:n,value:t,message:e,get"~standard"(){return y(this)},"~run"(r,i){let s=r.value;if(s instanceof Map){r.typed=!0,r.value=new Map;for(let[o,a]of s){let u=this.key["~run"]({value:o},i);if(u.issues){let c={type:"map",origin:"key",input:s,key:o,value:a};for(let p of u.issues)p.path?p.path.unshift(c):p.path=[c],r.issues?.push(p);if(r.issues||(r.issues=u.issues),i.abortEarly){r.typed=!1;break}}let l=this.value["~run"]({value:a},i);if(l.issues){let c={type:"map",origin:"value",input:s,key:o,value:a};for(let p of l.issues)p.path?p.path.unshift(c):p.path=[c],r.issues?.push(p);if(r.issues||(r.issues=l.issues),i.abortEarly){r.typed=!1;break}}(!u.typed||!l.typed)&&(r.typed=!1),r.value.set(u.value,l.value)}}else f(this,"type",r,i);return r}}}function Ju(n,t,e){return{kind:"schema",type:"map",reference:Ju,expects:"Map",async:!0,key:n,value:t,message:e,get"~standard"(){return y(this)},async"~run"(r,i){let s=r.value;if(s instanceof Map){r.typed=!0,r.value=new Map;let o=await Promise.all([...s].map(([a,u])=>Promise.all([a,u,this.key["~run"]({value:a},i),this.value["~run"]({value:u},i)])));for(let[a,u,l,c]of o){if(l.issues){let p={type:"map",origin:"key",input:s,key:a,value:u};for(let d of l.issues)d.path?d.path.unshift(p):d.path=[p],r.issues?.push(d);if(r.issues||(r.issues=l.issues),i.abortEarly){r.typed=!1;break}}if(c.issues){let p={type:"map",origin:"value",input:s,key:a,value:u};for(let d of c.issues)d.path?d.path.unshift(p):d.path=[p],r.issues?.push(d);if(r.issues||(r.issues=c.issues),i.abortEarly){r.typed=!1;break}}(!l.typed||!c.typed)&&(r.typed=!1),r.value.set(l.value,c.value)}}else f(this,"type",r,i);return r}}}function Yu(n){return{kind:"schema",type:"nan",reference:Yu,expects:"NaN",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return Number.isNaN(t.value)?t.typed=!0:f(this,"type",t,e),t}}}function Zu(n){return{kind:"schema",type:"never",reference:Zu,expects:"never",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return f(this,"type",t,e),t}}}function Ku(n,t){return{kind:"schema",type:"non_nullable",reference:Ku,expects:"!null",async:!1,wrapped:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){return e.value!==null&&(e=this.wrapped["~run"](e,r)),e.value===null&&f(this,"type",e,r),e}}}function Qu(n,t){return{kind:"schema",type:"non_nullable",reference:Qu,expects:"!null",async:!0,wrapped:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){return e.value!==null&&(e=await this.wrapped["~run"](e,r)),e.value===null&&f(this,"type",e,r),e}}}function ea(n,t){return{kind:"schema",type:"non_nullish",reference:ea,expects:"(!null & !undefined)",async:!1,wrapped:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){return e.value===null||e.value===void 0||(e=this.wrapped["~run"](e,r)),(e.value===null||e.value===void 0)&&f(this,"type",e,r),e}}}function ta(n,t){return{kind:"schema",type:"non_nullish",reference:ta,expects:"(!null & !undefined)",async:!0,wrapped:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){return e.value===null||e.value===void 0||(e=await this.wrapped["~run"](e,r)),(e.value===null||e.value===void 0)&&f(this,"type",e,r),e}}}function $n(n,t){return{kind:"schema",type:"non_optional",reference:$n,expects:"!undefined",async:!1,wrapped:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){return e.value!==void 0&&(e=this.wrapped["~run"](e,r)),e.value===void 0&&f(this,"type",e,r),e}}}function Dn(n,t){return{kind:"schema",type:"non_optional",reference:Dn,expects:"!undefined",async:!0,wrapped:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){return e.value!==void 0&&(e=await this.wrapped["~run"](e,r)),e.value===void 0&&f(this,"type",e,r),e}}}function na(n){return{kind:"schema",type:"null",reference:na,expects:"null",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return t.value===null?t.typed=!0:f(this,"type",t,e),t}}}function ra(n,t){return{kind:"schema",type:"nullable",reference:ra,expects:`(${n.expects} | null)`,async:!1,wrapped:n,default:t,get"~standard"(){return y(this)},"~run"(e,r){return e.value===null&&(this.default!==void 0&&(e.value=R(this,e,r)),e.value===null)?(e.typed=!0,e):this.wrapped["~run"](e,r)}}}function ia(n,t){return{kind:"schema",type:"nullable",reference:ia,expects:`(${n.expects} | null)`,async:!0,wrapped:n,default:t,get"~standard"(){return y(this)},async"~run"(e,r){return e.value===null&&(this.default!==void 0&&(e.value=await R(this,e,r)),e.value===null)?(e.typed=!0,e):this.wrapped["~run"](e,r)}}}function sa(n,t){return{kind:"schema",type:"nullish",reference:sa,expects:`(${n.expects} | null | undefined)`,async:!1,wrapped:n,default:t,get"~standard"(){return y(this)},"~run"(e,r){return(e.value===null||e.value===void 0)&&(this.default!==void 0&&(e.value=R(this,e,r)),e.value===null||e.value===void 0)?(e.typed=!0,e):this.wrapped["~run"](e,r)}}}function oa(n,t){return{kind:"schema",type:"nullish",reference:oa,expects:`(${n.expects} | null | undefined)`,async:!0,wrapped:n,default:t,get"~standard"(){return y(this)},async"~run"(e,r){return(e.value===null||e.value===void 0)&&(this.default!==void 0&&(e.value=await R(this,e,r)),e.value===null||e.value===void 0)?(e.typed=!0,e):this.wrapped["~run"](e,r)}}}function ua(n){return{kind:"schema",type:"number",reference:ua,expects:"number",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:f(this,"type",t,e),t}}}function aa(n,t){return{kind:"schema",type:"object",reference:aa,expects:"Object",async:!1,entries:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){let i=e.value;if(i&&typeof i=="object"){e.typed=!0,e.value={};for(let s in this.entries){let o=this.entries[s];if(s in i||(o.type==="exact_optional"||o.type==="optional"||o.type==="nullish")&&o.default!==void 0){let a=s in i?i[s]:R(o),u=o["~run"]({value:a},r);if(u.issues){let l={type:"object",origin:"value",input:i,key:s,value:a};for(let c of u.issues)c.path?c.path.unshift(l):c.path=[l],e.issues?.push(c);if(e.issues||(e.issues=u.issues),r.abortEarly){e.typed=!1;break}}u.typed||(e.typed=!1),e.value[s]=u.value}else if(o.fallback!==void 0)e.value[s]=U(o);else if(o.type!=="exact_optional"&&o.type!=="optional"&&o.type!=="nullish"&&(f(this,"key",e,r,{input:void 0,expected:`"${s}"`,path:[{type:"object",origin:"key",input:i,key:s,value:i[s]}]}),r.abortEarly))break}}else f(this,"type",e,r);return e}}}function la(n,t){return{kind:"schema",type:"object",reference:la,expects:"Object",async:!0,entries:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){let i=e.value;if(i&&typeof i=="object"){e.typed=!0,e.value={};let s=await Promise.all(Object.entries(this.entries).map(async([o,a])=>{if(o in i||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){let u=o in i?i[o]:await R(a);return[o,u,a,await a["~run"]({value:u},r)]}return[o,i[o],a,null]}));for(let[o,a,u,l]of s)if(l){if(l.issues){let c={type:"object",origin:"value",input:i,key:o,value:a};for(let p of l.issues)p.path?p.path.unshift(c):p.path=[c],e.issues?.push(p);if(e.issues||(e.issues=l.issues),r.abortEarly){e.typed=!1;break}}l.typed||(e.typed=!1),e.value[o]=l.value}else if(u.fallback!==void 0)e.value[o]=await U(u);else if(u.type!=="exact_optional"&&u.type!=="optional"&&u.type!=="nullish"&&(f(this,"key",e,r,{input:void 0,expected:`"${o}"`,path:[{type:"object",origin:"key",input:i,key:o,value:a}]}),r.abortEarly))break}else f(this,"type",e,r);return e}}}function ca(n,t,e){return{kind:"schema",type:"object_with_rest",reference:ca,expects:"Object",async:!1,entries:n,rest:t,message:e,get"~standard"(){return y(this)},"~run"(r,i){let s=r.value;if(s&&typeof s=="object"){r.typed=!0,r.value={};for(let o in this.entries){let a=this.entries[o];if(o in s||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){let u=o in s?s[o]:R(a),l=a["~run"]({value:u},i);if(l.issues){let c={type:"object",origin:"value",input:s,key:o,value:u};for(let p of l.issues)p.path?p.path.unshift(c):p.path=[c],r.issues?.push(p);if(r.issues||(r.issues=l.issues),i.abortEarly){r.typed=!1;break}}l.typed||(r.typed=!1),r.value[o]=l.value}else if(a.fallback!==void 0)r.value[o]=U(a);else if(a.type!=="exact_optional"&&a.type!=="optional"&&a.type!=="nullish"&&(f(this,"key",r,i,{input:void 0,expected:`"${o}"`,path:[{type:"object",origin:"key",input:s,key:o,value:s[o]}]}),i.abortEarly))break}if(!r.issues||!i.abortEarly){for(let o in s)if(de(s,o)&&!(o in this.entries)){let a=this.rest["~run"]({value:s[o]},i);if(a.issues){let u={type:"object",origin:"value",input:s,key:o,value:s[o]};for(let l of a.issues)l.path?l.path.unshift(u):l.path=[u],r.issues?.push(l);if(r.issues||(r.issues=a.issues),i.abortEarly){r.typed=!1;break}}a.typed||(r.typed=!1),r.value[o]=a.value}}}else f(this,"type",r,i);return r}}}function fa(n,t,e){return{kind:"schema",type:"object_with_rest",reference:fa,expects:"Object",async:!0,entries:n,rest:t,message:e,get"~standard"(){return y(this)},async"~run"(r,i){let s=r.value;if(s&&typeof s=="object"){r.typed=!0,r.value={};let[o,a]=await Promise.all([Promise.all(Object.entries(this.entries).map(async([u,l])=>{if(u in s||(l.type==="exact_optional"||l.type==="optional"||l.type==="nullish")&&l.default!==void 0){let c=u in s?s[u]:await R(l);return[u,c,l,await l["~run"]({value:c},i)]}return[u,s[u],l,null]})),Promise.all(Object.entries(s).filter(([u])=>de(s,u)&&!(u in this.entries)).map(async([u,l])=>[u,l,await this.rest["~run"]({value:l},i)]))]);for(let[u,l,c,p]of o)if(p){if(p.issues){let d={type:"object",origin:"value",input:s,key:u,value:l};for(let v of p.issues)v.path?v.path.unshift(d):v.path=[d],r.issues?.push(v);if(r.issues||(r.issues=p.issues),i.abortEarly){r.typed=!1;break}}p.typed||(r.typed=!1),r.value[u]=p.value}else if(c.fallback!==void 0)r.value[u]=await U(c);else if(c.type!=="exact_optional"&&c.type!=="optional"&&c.type!=="nullish"&&(f(this,"key",r,i,{input:void 0,expected:`"${u}"`,path:[{type:"object",origin:"key",input:s,key:u,value:l}]}),i.abortEarly))break;if(!r.issues||!i.abortEarly)for(let[u,l,c]of a){if(c.issues){let p={type:"object",origin:"value",input:s,key:u,value:l};for(let d of c.issues)d.path?d.path.unshift(p):d.path=[p],r.issues?.push(d);if(r.issues||(r.issues=c.issues),i.abortEarly){r.typed=!1;break}}c.typed||(r.typed=!1),r.value[u]=c.value}}else f(this,"type",r,i);return r}}}function nt(n,t){return{kind:"schema",type:"optional",reference:nt,expects:`(${n.expects} | undefined)`,async:!1,wrapped:n,default:t,get"~standard"(){return y(this)},"~run"(e,r){return e.value===void 0&&(this.default!==void 0&&(e.value=R(this,e,r)),e.value===void 0)?(e.typed=!0,e):this.wrapped["~run"](e,r)}}}function xn(n,t){return{kind:"schema",type:"optional",reference:xn,expects:`(${n.expects} | undefined)`,async:!0,wrapped:n,default:t,get"~standard"(){return y(this)},async"~run"(e,r){return e.value===void 0&&(this.default!==void 0&&(e.value=await R(this,e,r)),e.value===void 0)?(e.typed=!0,e):this.wrapped["~run"](e,r)}}}function Mn(n,t){return{kind:"schema",type:"picklist",reference:Mn,expects:G(n.map(A),"|"),async:!1,options:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){return this.options.includes(e.value)?e.typed=!0:f(this,"type",e,r),e}}}function pa(n){return{kind:"schema",type:"promise",reference:pa,expects:"Promise",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return t.value instanceof Promise?t.typed=!0:f(this,"type",t,e),t}}}function ha(n,t,e){return{kind:"schema",type:"record",reference:ha,expects:"Object",async:!1,key:n,value:t,message:e,get"~standard"(){return y(this)},"~run"(r,i){let s=r.value;if(s&&typeof s=="object"){r.typed=!0,r.value={};for(let o in s)if(de(s,o)){let a=s[o],u=this.key["~run"]({value:o},i);if(u.issues){let c={type:"object",origin:"key",input:s,key:o,value:a};for(let p of u.issues)p.path=[c],r.issues?.push(p);if(r.issues||(r.issues=u.issues),i.abortEarly){r.typed=!1;break}}let l=this.value["~run"]({value:a},i);if(l.issues){let c={type:"object",origin:"value",input:s,key:o,value:a};for(let p of l.issues)p.path?p.path.unshift(c):p.path=[c],r.issues?.push(p);if(r.issues||(r.issues=l.issues),i.abortEarly){r.typed=!1;break}}(!u.typed||!l.typed)&&(r.typed=!1),u.typed&&(r.value[u.value]=l.value)}}else f(this,"type",r,i);return r}}}function da(n,t,e){return{kind:"schema",type:"record",reference:da,expects:"Object",async:!0,key:n,value:t,message:e,get"~standard"(){return y(this)},async"~run"(r,i){let s=r.value;if(s&&typeof s=="object"){r.typed=!0,r.value={};let o=await Promise.all(Object.entries(s).filter(([a])=>de(s,a)).map(([a,u])=>Promise.all([a,u,this.key["~run"]({value:a},i),this.value["~run"]({value:u},i)])));for(let[a,u,l,c]of o){if(l.issues){let p={type:"object",origin:"key",input:s,key:a,value:u};for(let d of l.issues)d.path=[p],r.issues?.push(d);if(r.issues||(r.issues=l.issues),i.abortEarly){r.typed=!1;break}}if(c.issues){let p={type:"object",origin:"value",input:s,key:a,value:u};for(let d of c.issues)d.path?d.path.unshift(p):d.path=[p],r.issues?.push(d);if(r.issues||(r.issues=c.issues),i.abortEarly){r.typed=!1;break}}(!l.typed||!c.typed)&&(r.typed=!1),l.typed&&(r.value[l.value]=c.value)}}else f(this,"type",r,i);return r}}}function ya(n,t){return{kind:"schema",type:"set",reference:ya,expects:"Set",async:!1,value:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){let i=e.value;if(i instanceof Set){e.typed=!0,e.value=new Set;for(let s of i){let o=this.value["~run"]({value:s},r);if(o.issues){let a={type:"set",origin:"value",input:i,key:null,value:s};for(let u of o.issues)u.path?u.path.unshift(a):u.path=[a],e.issues?.push(u);if(e.issues||(e.issues=o.issues),r.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value.add(o.value)}}else f(this,"type",e,r);return e}}}function ma(n,t){return{kind:"schema",type:"set",reference:ma,expects:"Set",async:!0,value:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){let i=e.value;if(i instanceof Set){e.typed=!0,e.value=new Set;let s=await Promise.all([...i].map(async o=>[o,await this.value["~run"]({value:o},r)]));for(let[o,a]of s){if(a.issues){let u={type:"set",origin:"value",input:i,key:null,value:o};for(let l of a.issues)l.path?l.path.unshift(u):l.path=[u],e.issues?.push(l);if(e.issues||(e.issues=a.issues),r.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value.add(a.value)}}else f(this,"type",e,r);return e}}}function va(n,t){return{kind:"schema",type:"strict_object",reference:va,expects:"Object",async:!1,entries:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){let i=e.value;if(i&&typeof i=="object"){e.typed=!0,e.value={};for(let s in this.entries){let o=this.entries[s];if(s in i||(o.type==="exact_optional"||o.type==="optional"||o.type==="nullish")&&o.default!==void 0){let a=s in i?i[s]:R(o),u=o["~run"]({value:a},r);if(u.issues){let l={type:"object",origin:"value",input:i,key:s,value:a};for(let c of u.issues)c.path?c.path.unshift(l):c.path=[l],e.issues?.push(c);if(e.issues||(e.issues=u.issues),r.abortEarly){e.typed=!1;break}}u.typed||(e.typed=!1),e.value[s]=u.value}else if(o.fallback!==void 0)e.value[s]=U(o);else if(o.type!=="exact_optional"&&o.type!=="optional"&&o.type!=="nullish"&&(f(this,"key",e,r,{input:void 0,expected:`"${s}"`,path:[{type:"object",origin:"key",input:i,key:s,value:i[s]}]}),r.abortEarly))break}if(!e.issues||!r.abortEarly){for(let s in i)if(!(s in this.entries)){f(this,"key",e,r,{input:s,expected:"never",path:[{type:"object",origin:"key",input:i,key:s,value:i[s]}]});break}}}else f(this,"type",e,r);return e}}}function ga(n,t){return{kind:"schema",type:"strict_object",reference:ga,expects:"Object",async:!0,entries:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){let i=e.value;if(i&&typeof i=="object"){e.typed=!0,e.value={};let s=await Promise.all(Object.entries(this.entries).map(async([o,a])=>{if(o in i||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){let u=o in i?i[o]:await R(a);return[o,u,a,await a["~run"]({value:u},r)]}return[o,i[o],a,null]}));for(let[o,a,u,l]of s)if(l){if(l.issues){let c={type:"object",origin:"value",input:i,key:o,value:a};for(let p of l.issues)p.path?p.path.unshift(c):p.path=[c],e.issues?.push(p);if(e.issues||(e.issues=l.issues),r.abortEarly){e.typed=!1;break}}l.typed||(e.typed=!1),e.value[o]=l.value}else if(u.fallback!==void 0)e.value[o]=await U(u);else if(u.type!=="exact_optional"&&u.type!=="optional"&&u.type!=="nullish"&&(f(this,"key",e,r,{input:void 0,expected:`"${o}"`,path:[{type:"object",origin:"key",input:i,key:o,value:a}]}),r.abortEarly))break;if(!e.issues||!r.abortEarly){for(let o in i)if(!(o in this.entries)){f(this,"key",e,r,{input:o,expected:"never",path:[{type:"object",origin:"key",input:i,key:o,value:i[o]}]});break}}}else f(this,"type",e,r);return e}}}function Ea(n,t){return{kind:"schema",type:"strict_tuple",reference:Ea,expects:"Array",async:!1,items:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){let i=e.value;if(Array.isArray(i)){e.typed=!0,e.value=[];for(let s=0;s<this.items.length;s++){let o=i[s],a=this.items[s]["~run"]({value:o},r);if(a.issues){let u={type:"array",origin:"value",input:i,key:s,value:o};for(let l of a.issues)l.path?l.path.unshift(u):l.path=[u],e.issues?.push(l);if(e.issues||(e.issues=a.issues),r.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value.push(a.value)}!(e.issues&&r.abortEarly)&&this.items.length<i.length&&f(this,"type",e,r,{input:i[this.items.length],expected:"never",path:[{type:"array",origin:"value",input:i,key:this.items.length,value:i[this.items.length]}]})}else f(this,"type",e,r);return e}}}function ba(n,t){return{kind:"schema",type:"strict_tuple",reference:ba,expects:"Array",async:!0,items:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){let i=e.value;if(Array.isArray(i)){e.typed=!0,e.value=[];let s=await Promise.all(this.items.map(async(o,a)=>{let u=i[a];return[a,u,await o["~run"]({value:u},r)]}));for(let[o,a,u]of s){if(u.issues){let l={type:"array",origin:"value",input:i,key:o,value:a};for(let c of u.issues)c.path?c.path.unshift(l):c.path=[l],e.issues?.push(c);if(e.issues||(e.issues=u.issues),r.abortEarly){e.typed=!1;break}}u.typed||(e.typed=!1),e.value.push(u.value)}!(e.issues&&r.abortEarly)&&this.items.length<i.length&&f(this,"type",e,r,{input:i[this.items.length],expected:"never",path:[{type:"array",origin:"value",input:i,key:this.items.length,value:i[this.items.length]}]})}else f(this,"type",e,r);return e}}}function _a(n){return{kind:"schema",type:"string",reference:_a,expects:"string",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return typeof t.value=="string"?t.typed=!0:f(this,"type",t,e),t}}}function wa(n){return{kind:"schema",type:"symbol",reference:wa,expects:"symbol",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return typeof t.value=="symbol"?t.typed=!0:f(this,"type",t,e),t}}}function Ca(n,t){return{kind:"schema",type:"tuple",reference:Ca,expects:"Array",async:!1,items:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){let i=e.value;if(Array.isArray(i)){e.typed=!0,e.value=[];for(let s=0;s<this.items.length;s++){let o=i[s],a=this.items[s]["~run"]({value:o},r);if(a.issues){let u={type:"array",origin:"value",input:i,key:s,value:o};for(let l of a.issues)l.path?l.path.unshift(u):l.path=[u],e.issues?.push(l);if(e.issues||(e.issues=a.issues),r.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value.push(a.value)}}else f(this,"type",e,r);return e}}}function ka(n,t){return{kind:"schema",type:"tuple",reference:ka,expects:"Array",async:!0,items:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){let i=e.value;if(Array.isArray(i)){e.typed=!0,e.value=[];let s=await Promise.all(this.items.map(async(o,a)=>{let u=i[a];return[a,u,await o["~run"]({value:u},r)]}));for(let[o,a,u]of s){if(u.issues){let l={type:"array",origin:"value",input:i,key:o,value:a};for(let c of u.issues)c.path?c.path.unshift(l):c.path=[l],e.issues?.push(c);if(e.issues||(e.issues=u.issues),r.abortEarly){e.typed=!1;break}}u.typed||(e.typed=!1),e.value.push(u.value)}}else f(this,"type",e,r);return e}}}function Ta(n,t,e){return{kind:"schema",type:"tuple_with_rest",reference:Ta,expects:"Array",async:!1,items:n,rest:t,message:e,get"~standard"(){return y(this)},"~run"(r,i){let s=r.value;if(Array.isArray(s)){r.typed=!0,r.value=[];for(let o=0;o<this.items.length;o++){let a=s[o],u=this.items[o]["~run"]({value:a},i);if(u.issues){let l={type:"array",origin:"value",input:s,key:o,value:a};for(let c of u.issues)c.path?c.path.unshift(l):c.path=[l],r.issues?.push(c);if(r.issues||(r.issues=u.issues),i.abortEarly){r.typed=!1;break}}u.typed||(r.typed=!1),r.value.push(u.value)}if(!r.issues||!i.abortEarly)for(let o=this.items.length;o<s.length;o++){let a=s[o],u=this.rest["~run"]({value:a},i);if(u.issues){let l={type:"array",origin:"value",input:s,key:o,value:a};for(let c of u.issues)c.path?c.path.unshift(l):c.path=[l],r.issues?.push(c);if(r.issues||(r.issues=u.issues),i.abortEarly){r.typed=!1;break}}u.typed||(r.typed=!1),r.value.push(u.value)}}else f(this,"type",r,i);return r}}}function Ia(n,t,e){return{kind:"schema",type:"tuple_with_rest",reference:Ia,expects:"Array",async:!0,items:n,rest:t,message:e,get"~standard"(){return y(this)},async"~run"(r,i){let s=r.value;if(Array.isArray(s)){r.typed=!0,r.value=[];let[o,a]=await Promise.all([Promise.all(this.items.map(async(u,l)=>{let c=s[l];return[l,c,await u["~run"]({value:c},i)]})),Promise.all(s.slice(this.items.length).map(async(u,l)=>[l+this.items.length,u,await this.rest["~run"]({value:u},i)]))]);for(let[u,l,c]of o){if(c.issues){let p={type:"array",origin:"value",input:s,key:u,value:l};for(let d of c.issues)d.path?d.path.unshift(p):d.path=[p],r.issues?.push(d);if(r.issues||(r.issues=c.issues),i.abortEarly){r.typed=!1;break}}c.typed||(r.typed=!1),r.value.push(c.value)}if(!r.issues||!i.abortEarly)for(let[u,l,c]of a){if(c.issues){let p={type:"array",origin:"value",input:s,key:u,value:l};for(let d of c.issues)d.path?d.path.unshift(p):d.path=[p],r.issues?.push(d);if(r.issues||(r.issues=c.issues),i.abortEarly){r.typed=!1;break}}c.typed||(r.typed=!1),r.value.push(c.value)}}else f(this,"type",r,i);return r}}}function Oa(n){return{kind:"schema",type:"undefined",reference:Oa,expects:"undefined",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return t.value===void 0?t.typed=!0:f(this,"type",t,e),t}}}function Aa(n,t){return{kind:"schema",type:"undefinedable",reference:Aa,expects:`(${n.expects} | undefined)`,async:!1,wrapped:n,default:t,get"~standard"(){return y(this)},"~run"(e,r){return e.value===void 0&&(this.default!==void 0&&(e.value=R(this,e,r)),e.value===void 0)?(e.typed=!0,e):this.wrapped["~run"](e,r)}}}function Sa(n,t){return{kind:"schema",type:"undefinedable",reference:Sa,expects:`(${n.expects} | undefined)`,async:!0,wrapped:n,default:t,get"~standard"(){return y(this)},async"~run"(e,r){return e.value===void 0&&(this.default!==void 0&&(e.value=await R(this,e,r)),e.value===void 0)?(e.typed=!0,e):this.wrapped["~run"](e,r)}}}function It(n){let t;if(n)for(let e of n)t?t.push(...e.issues):t=e.issues;return t}function Ra(n,t){return{kind:"schema",type:"union",reference:Ra,expects:G(n.map(e=>e.expects),"|"),async:!1,options:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){let i,s,o;for(let a of this.options){let u=a["~run"]({value:e.value},r);if(u.typed)if(u.issues)s?s.push(u):s=[u];else{i=u;break}else o?o.push(u):o=[u]}if(i)return i;if(s){if(s.length===1)return s[0];f(this,"type",e,r,{issues:It(s)}),e.typed=!0}else{if(o?.length===1)return o[0];f(this,"type",e,r,{issues:It(o)})}return e}}}function $a(n,t){return{kind:"schema",type:"union",reference:$a,expects:G(n.map(e=>e.expects),"|"),async:!0,options:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){let i,s,o;for(let a of this.options){let u=await a["~run"]({value:e.value},r);if(u.typed)if(u.issues)s?s.push(u):s=[u];else{i=u;break}else o?o.push(u):o=[u]}if(i)return i;if(s){if(s.length===1)return s[0];f(this,"type",e,r,{issues:It(s)}),e.typed=!0}else{if(o?.length===1)return o[0];f(this,"type",e,r,{issues:It(o)})}return e}}}function Da(){return{kind:"schema",type:"unknown",reference:Da,expects:"unknown",async:!1,get"~standard"(){return y(this)},"~run"(n){return n.typed=!0,n}}}function xa(n,t,e){return{kind:"schema",type:"variant",reference:xa,expects:"Object",async:!1,key:n,options:t,message:e,get"~standard"(){return y(this)},"~run"(r,i){let s=r.value;if(s&&typeof s=="object"){let o,a=0,u=this.key,l=[],c=(p,d)=>{for(let v of p.options){if(v.type==="variant")c(v,new Set(d).add(v.key));else{let b=!0,_=0;for(let g of d){let O=v.entries[g];if(g in s?O["~run"]({typed:!1,value:s[g]},{abortEarly:!0}).issues:O.type!=="exact_optional"&&O.type!=="optional"&&O.type!=="nullish"){b=!1,u!==g&&(a<_||a===_&&g in s&&!(u in s))&&(a=_,u=g,l=[]),u===g&&l.push(v.entries[g].expects);break}_++}if(b){let g=v["~run"]({value:s},i);(!o||!o.typed&&g.typed)&&(o=g)}}if(o&&!o.issues)break}};if(c(this,new Set([this.key])),o)return o;f(this,"type",r,i,{input:s[u],expected:G(l,"|"),path:[{type:"object",origin:"value",input:s,key:u,value:s[u]}]})}else f(this,"type",r,i);return r}}}function Ma(n,t,e){return{kind:"schema",type:"variant",reference:Ma,expects:"Object",async:!0,key:n,options:t,message:e,get"~standard"(){return y(this)},async"~run"(r,i){let s=r.value;if(s&&typeof s=="object"){let o,a=0,u=this.key,l=[],c=async(p,d)=>{for(let v of p.options){if(v.type==="variant")await c(v,new Set(d).add(v.key));else{let b=!0,_=0;for(let g of d){let O=v.entries[g];if(g in s?(await O["~run"]({typed:!1,value:s[g]},{abortEarly:!0})).issues:O.type!=="exact_optional"&&O.type!=="optional"&&O.type!=="nullish"){b=!1,u!==g&&(a<_||a===_&&g in s&&!(u in s))&&(a=_,u=g,l=[]),u===g&&l.push(v.entries[g].expects);break}_++}if(b){let g=await v["~run"]({value:s},i);(!o||!o.typed&&g.typed)&&(o=g)}}if(o&&!o.issues)break}};if(await c(this,new Set([this.key])),o)return o;f(this,"type",r,i,{input:s[u],expected:G(l,"|"),path:[{type:"object",origin:"value",input:s,key:u,value:s[u]}]})}else f(this,"type",r,i);return r}}}function At(n){return{kind:"schema",type:"void",reference:At,expects:"void",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return t.value===void 0?t.typed=!0:f(this,"type",t,e),t}}}function df(n,t){return Mn(Object.keys(n.entries),t)}function yf(n,t){return E(h({},n),{get"~standard"(){return y(this)},"~run"(e,r){return n["~run"](e,E(h({},r),{message:t}))}})}function mf(n,t){let e=h({},n.entries);for(let r of t)delete e[r];return E(h({},n),{entries:e,get"~standard"(){return y(this)}})}function Pa(n,t,e){let r=n["~run"]({value:t},Re(e));if(r.issues)throw new Q(r.issues);return r.value}async function Na(n,t,e){let r=await n["~run"]({value:t},Re(e));if(r.issues)throw new Q(r.issues);return r.value}function vf(n,t){let e=r=>Pa(n,r,t);return e.schema=n,e.config=t,e}function gf(n,t){let e=r=>Na(n,r,t);return e.schema=n,e.config=t,e}function Ef(n,t){let e={};for(let r in n.entries)e[r]=!t||t.includes(r)?nt(n.entries[r]):n.entries[r];return E(h({},n),{entries:e,get"~standard"(){return y(this)}})}function bf(n,t){let e={};for(let r in n.entries)e[r]=!t||t.includes(r)?xn(n.entries[r]):n.entries[r];return E(h({},n),{entries:e,get"~standard"(){return y(this)}})}function _f(n,t){let e={};for(let r of t)e[r]=n.entries[r];return E(h({},n),{entries:e,get"~standard"(){return y(this)}})}function wf(...n){return E(h({},n[0]),{pipe:n,get"~standard"(){return y(this)},"~run"(t,e){for(let r of n)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!e.abortEarly&&!e.abortPipeEarly)&&(t=r["~run"](t,e))}return t}})}function Cf(...n){return E(h({},n[0]),{pipe:n,async:!0,get"~standard"(){return y(this)},async"~run"(t,e){for(let r of n)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!e.abortEarly&&!e.abortPipeEarly)&&(t=await r["~run"](t,e))}return t}})}function kf(n,t,e){let r=Array.isArray(t)?t:void 0,i=Array.isArray(t)?e:t,s={};for(let o in n.entries)s[o]=!r||r.includes(o)?$n(n.entries[o],i):n.entries[o];return E(h({},n),{entries:s,get"~standard"(){return y(this)}})}function Tf(n,t,e){let r=Array.isArray(t)?t:void 0,i=Array.isArray(t)?e:t,s={};for(let o in n.entries)s[o]=!r||r.includes(o)?Dn(n.entries[o],i):n.entries[o];return E(h({},n),{entries:s,get"~standard"(){return y(this)}})}function ja(n,t,e){let r=n["~run"]({value:t},Re(e));return{typed:r.typed,success:!r.issues,output:r.value,issues:r.issues}}async function Fa(n,t,e){let r=await n["~run"]({value:t},Re(e));return{typed:r.typed,success:!r.issues,output:r.value,issues:r.issues}}function Pn(n,t){let e=r=>ja(n,r,t);return e.schema=n,e.config=t,e}function If(n,t){let e=r=>Fa(n,r,t);return e.schema=n,e.config=t,e}function Of(n){let t="";for(let e of n){t&&(t+=`
`),t+=`\xD7 ${e.message}`;let r=Rn(e);r&&(t+=`
  \u2192 at ${r}`)}return t}function Af(n){return n.wrapped}var Wa=dl(Ua(),1);function*Nn(n){if("pipe"in n)for(let t of n.pipe)yield*Nn(t);else"wrapped"in n?(yield n,yield*Nn(n.wrapped)):yield n}function qa(n,t,e){let r=E(h({},e),{environments:e?.environments??["default"]}),i={lazyMap:new Map},s=new r.handle(r,void 0,void 0,i);return oe(n,s),t(s)}function oe(n,t){t.begin(n);let e=Nn(n),r,i=[];for(let s of e)if(s.kind==="schema")if("wrapped"in s)i.push(s);else{if(r)continue;r=s,t.defineSchema(r)}else s.kind==="metadata"?t.metadata(s,"init"):s.kind==="validation"?t.validation(s):s.kind==="transformation"&&t.transformation(s);for(let s of i.reverse())t.wrappedSchema(s);switch(t.beforeSchemaType(r),r.type){case"lazy":{t.lazySchema(r);break}case"array":{t.arraySchema(r);break}case"tuple":case"tuple_with_rest":case"loose_tuple":case"strict_tuple":{t.tupleSchema(r);break}case"object":case"object_with_rest":case"loose_object":case"strict_object":{t.objectSchema(r);break}case"record":{t.recordSchema(r.key,r.value);break}case"literal":{t.defaultSchema(r);break}case"enum":case"picklist":{t.enumSchema(r);break}case"union":case"variant":{t.unionSchema(r);break}case"intersect":{t.intersectSchema(r);break}case"any":case"unknown":{t.anySchema(r);break}case"undefined":case"null":{t.undefinedSchema(r);break}case"string":case"number":case"boolean":{t.basicSchema(r);break}case"void":case"never":{t.voidSchema(r);break}case"custom":{t.customSchema(r);break}default:t.otherSchema(r)}t.afterSchemaType(r),t.end(n)}function jn(n=!0){return{kind:"metadata",type:"asControl",reference:jn,value:n}}function Fn(n){return(t,e)=>({kind:"metadata",type:n,reference:$f,value:t,workOn:e})}var $f=Fn("rawConfig");function Ln(n){return{kind:"metadata",type:"condition",reference:Ln,value:n}}function Vn(n=!0){return{kind:"metadata",type:"asVirtualGroup",reference:Vn,value:n}}function St(n,t){"pipe"in n?n.pipe.forEach(e=>{St(e,t)}):"wrapped"in n?St(n.wrapped,t):t(n)}function Df(n){let t=!1;return St(n,e=>{e.kind==="metadata"&&e.type==="asControl"&&(t=e.value)}),t}function Rt(n,t){for(t=t.slice();t.length;){let e=t[0];if(Df(n))return n;switch(n.type){case"object":case"object_with_rest":case"loose_object":case"strict_object":n=n.entries[e.key];break;case"array":{n=n.item;break}case"tuple":case"tuple_with_rest":case"loose_tuple":case"strict_tuple":{n=n.items[e.key];break}case"intersect":case"variant":case"union":{for(let i=0;i<n.options.length;i++){let s=n.options[i],o=Rt(s,t);if(o)return o}break}case"nullable":case"nullish":case"exact_optional":case"optional":case"undefinedable":case"non_nullable":case"non_nullish":case"non_optional":{let i=n.wrapped,s=Rt(n.wrapped,t);return s===i?i:s}default:return n}if(!n)return;t.shift()}return n}function Ba(n){let t,e,r;return St(n,i=>{if(i.kind==="metadata")switch(i.type){case"title":t=i.title;break;case"metadata":r=i.metadata;break;case"description":e=i.description;break;default:break}}),{title:t,description:e,metadata:r}}function xf(n){for(;"wrapped"in n;)n=n.wrapped;return n}function X(n){let t=xf(n);if("entries"in t){let e={},r=R(n);for(let i in t.entries){let s=r?.[i]??X(t.entries[i]);s!==void 0&&(e[i]=s)}return Object.keys(e).length?e:void 0}if("items"in t){let e=[];for(let r=0;r<t.items.length;r++){let i=t.items[r],s=X(i);s!==void 0&&(e[r]=s)}return e.length?e:void 0}if("options"in t){if(t.type==="intersect"){let e=t.options.slice().reduce((r,i)=>h(h({},r),X(i)),{});return Object.keys(e).length?e:void 0}if(t.type==="union"||t.type==="variant")for(let e of t.options){let r=X(e);if(r!==void 0)return r}}return R(n)}var Ga=class{key;fullPath=[];children=[];parent;type;isGroup;isObjectControl=!1;arrayChild;defaultValue;props;priority=0;childrenAsVirtualGroup=!1;undefinedable=!1;nullable=!1;globalConfig;callSchemaHandle;callDefineSchema;sourceSchema;lazyWrapped;context;afterSchemaTypeList=[];constructor(n,t,e,r){this.globalConfig=n,this.callSchemaHandle=t,this.callDefineSchema=e,t&&(this.context=t.context),r&&(this.context=r)}begin(n){this.sourceSchema=n}end(n){}defineSchema(n){this.type=n.type}beforeSchemaType(n){}tupleSchema(n){if(this.isObjectControl){this.defaultValue=X(this.sourceSchema);return}this.tupleDefault(n);for(let t=0;t<n.items.length;t++){let e=n.items[t];this.objectItemSchema(e,t)}n.type==="tuple_with_rest"&&this.restSchema(n.rest),this.afterTupleSchema(n)}tupleDefault(n){}afterTupleSchema(n){}objectSchema(n){if(this.isObjectControl){this.defaultValue=X(this.sourceSchema);return}this.objectDefault(n),this.isGroup??=!0;for(let t in n.entries){let e=n.entries[t];this.objectItemSchema(e,t)}n.type==="object_with_rest"&&this.restSchema(n.rest),this.afterObjectSchema(n)}objectDefault(n){}afterObjectSchema(n){}optionalWrapSchema(n){switch(n.type){case"undefinedable":case"optional":case"exact_optional":this.undefinedable=!0;break;case"nullable":this.nullable=!0;break;case"nullish":this.nullable=!0,this.undefinedable=!0;break;default:break}}nonOptionalSchema(n){switch(n.type){case"non_nullable":this.nullable=!1;break;case"non_nullish":this.nullable=!1,this.undefinedable=!1;break;case"non_optional":this.undefinedable=!1;break;default:break}}wrappedSchema(n){"default"in n?(this.optionalWrapSchema(n),this.defaultValue=n.default):(this.nonOptionalSchema(n),delete this.defaultValue)}recordSchema(n,t){}defaultSchema(n){}enumSchema(n){}voidSchema(n){}customSchema(n){}otherSchema(n){}afterSchemaType(n){this.afterSchemaTypeList.forEach(t=>{this.metadata(t,t.workOn)})}metadataDefaulthandle(n,t,e){}metadataHandle(n,t,e){if(!(this.globalConfig.environments!==t&&this.globalConfig.environments.every(r=>!t.includes(r)))){if(e==="init"&&"workOn"in n&&n.workOn){this.afterSchemaTypeList.push(n);return}switch(n.type){case"rawConfig":{n.value(this,this.globalConfig.context);break}case"title":{this.props??={},this.props.title=n.title;break}case"description":{this.props??={},this.props.description=n.description;break}case"metadata":{this.props??={},this.props.metadata=n.metadata;break}case"asControl":{this.isObjectControl=n.value,this.isGroup=!1;break}case"asVirtualGroup":{this.isGroup=!0,this.childrenAsVirtualGroup=n.value;break}case"condition":n.value.actions.forEach(r=>{this.metadataHandle(r,n.value.environments,e)});default:this.metadataDefaulthandle(n,t,e);break}}}metadata(n,t){this.metadataHandle(n,this.globalConfig.environments,t)}validation(n){}transformation(n){}lazySchema(n){let t=this.context.lazyMap.get(n);if(t)this.lazyWrapped=t;else{let e=n.getter(void 0);t=new this.globalConfig.handle(this.globalConfig,this,e),this.context.lazyMap.set(n,t),this.lazyWrapped=t,oe(e,t)}}arraySchema(n){if(this.isObjectControl)return;let t=new this.globalConfig.handle(this.globalConfig,this,n);oe(n.item,t),this.arrayChild=t}objectItemSchema(n,t){let e=new this.globalConfig.handle(this.globalConfig,this,n);e.key=t,e.fullPath=[...this.fullPath,t],e.setParent(this),oe(n,e)}restSchema(n){}anySchema(n){}undefinedSchema(n){}basicSchema(n){}intersectSchema(n){if(this.isObjectControl){this.defaultValue=X(this.sourceSchema);return}this.intersectBefore(n),n.options.forEach((t,e)=>{this.logicItemSchema(t,e,"intersect")})}intersectBefore(n){this.childrenAsVirtualGroup&&(this.type="intersect-group")}logicItemSchema(n,t,e){let r=new this.globalConfig.handle(this.globalConfig,this,n);r.fullPath=[...this.fullPath],r.setParent(this),oe(n,r)}unionSchema(n){if(this.isObjectControl){this.defaultValue=X(this.sourceSchema);return}this.unionBefore(n),n.options.forEach((t,e)=>{this.logicItemSchema(t,e,"union")})}unionBefore(n){}setParent(n){this.parent=n,n.children??=[],n.children.push(this)}};function Mf(n){return n.type==="object"||n.type==="loose_object"||n.type==="object_with_rest"||n.type==="strict_object"}function Pf(n){return n.type==="intersect"}function Un(n,t){if(Mf(n)){let e=h({},n.entries);for(let r in t)if(t[r]&&n.entries[r]){let i=t[r](n.entries[r]);e[r]=i}return E(h({},n),{entries:e,get"~standard"(){return y(this)}})}else if(Pf(n)){let e=[...n.options];for(let r=0;r<e.length;r++){let i=e[r];e[r]=Un(i,t)}return E(h({},n),{options:e,get"~standard"(){return y(this)}})}throw new Error("not object or intersect")}function za(n){var t,e,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(t=0;t<i;t++)n[t]&&(e=za(n[t]))&&(r&&(r+=" "),r+=e)}else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Nf(){for(var n,t,e=0,r="",i=arguments.length;e<i;e++)(n=arguments[e])&&(t=za(n))&&(r&&(r+=" "),r+=t);return r}var ue=Nf;function Bn(n,t){return(Array.isArray(t)?t:[t]).every((e,r)=>e===n[r])}function Xa(n,t,e){let r=!0,i=n();return Ie(()=>{let s=n();if(r){r=!1,B(i,s)||t();return}return t()},e)}function Gn(n,t,e){let r=e?.injector??C(F),i=new ar(t()),s=Xa(n,()=>{let o;try{o=t()}catch(a){$(()=>i.error(a));return}$(()=>i.next(o))},{injector:r,manualCleanup:!0});return r.get(ve).onDestroy(()=>{s.destroy(),i.complete()}),i.asObservable()}var Hn=(0,Wa.default)({proto:!1,circles:!1});function J(n){return Ut(n)?n():n}function Wn(n){return n===void 0||Array.isArray(n)?n:[n]}var it=class extends Array{#e;constructor(t){super(),this.#e=t}push(...t){let e=super.push(...t);return this.sort(this.#e),e}};function Ha(n){return n}var rt="VALID",me="INVALID",z="PENDING",De=class{emptyValue$$=m(()=>Hn(this.config$().emptyValue));shouldInclude$$=m(()=>this.valueNoError$$()&&(!this.selfDisabled$$()||this.selfDisabled$$()&&this.config$().disabledValue==="reserve"));injector;selfDisabled$$=m(()=>this.config$?.().disabled??!1);selfEnabled$$=m(()=>!this.selfDisabled$$());disabled$$=m(()=>(this.parent?.disabled$$()||this.selfDisabled$$())??!1);enabled$$=m(()=>!this.disabled$$());get disabled(){return this.disabled$$()}get enabled(){return!this.disabled$$()}enable(){this.config$.update(t=>(t=E(h({},t),{disabled:!1}),E(h({},t),{disabled:!1})))}disable(){this.config$.update(t=>E(h({},t),{disabled:!0}))}selfTouched$=I(!1);touched$$=m(()=>this.reduceChildren(this.selfTouched$(),(t,e)=>e||t.touched$$(),Ha));get touched(){return $(this.touched$$)}get untouched(){return!$(this.touched$$)}selfDirty$=I(!1);dirty$$=m(()=>this.reduceChildren(this.selfDirty$(),(t,e)=>e||t.dirty$$(),Ha));get dirty(){return $(this.dirty$$)}get pristine(){return!$(this.dirty$$)}#e=m(()=>this.config$().validators??[]);#t=m(()=>this.config$().asyncValidators??[]);syncError$$=vt(m(()=>{if(this.disabled$$())return;this.value$$();let e=this.#e().reduce((i,s)=>{let o=$(()=>s(this));return o&&(i=h(h({},i),o)),i},{}),r=this.#i();return r.success?Object.keys(e).length?e:void 0:E(h({},e),{valibot:r.issues})}));asyncErrorRes$$=m(()=>{let t=this.#t();if(t.length!==0)return $(()=>gt({params:()=>this.value$$(),loader:async()=>{let r=(await Promise.all(t.map(i=>$(()=>i(this))))).reduce((i,s)=>(s&&(i=h(h({},i),s)),i),{});return Object.keys(r).length?r:void 0},injector:this.injector}))});asyncError$$=m(()=>{if(this.disabled$$())return;let e=this.asyncErrorRes$$();if(e)return e.isLoading()?z:e.value()});rawError$$=m(()=>{if(this.disabled$$())return;let e=this.syncError$$(),r=this.asyncError$$();return r===z?z:e&&r?h(h({},e),r):e||r?e||r:void 0});valueNoError$$=m(()=>this.rawError$$()===void 0);get errors(){let t=this.rawError$$();return t===z?void 0:t}_parent;get parent(){return this._parent}get value(){return this.value$$()}required$$=m(()=>this.config$().required);schemaParser;constructor(t,e){this.injector=e,this.schemaParser=Pn(t)}#i=m(()=>this.schemaParser(this.value$$()));setParent(t){this._parent=t}get valid(){return this.status$$()===rt}get invalid(){return this.status$$()===me}get pending(){return this.status$$()===z}selfUpdateOn$$=m(()=>this.config$?.().updateOn);updateOn$$=m(()=>(this.selfUpdateOn$$()||this.parent?.updateOn$$())??"change");markAsTouched(){this.selfTouched$.set(!0)}markAllAsDirty(){this.markAsDirty(),this._forEachChild(t=>t.markAllAsDirty())}markAllAsTouched(){this.markAsTouched(),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(){this.selfTouched$.set(!1)}markAsDirty(){this.selfDirty$.set(!0)}markAsPristine(){this.selfDirty$.set(!1)}getRawValue(){return this.value}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r.find(i),this)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}config$=I({});initConfig(t){this.config$=t}find(t){return null}setControl(t,e){}reduceChildren(t,e,r){let i=this.children$$?.();if(!i)return t;let s=t;for(let o of i){if(r?.(s))break;s=e(o,s)}return s}#r;get valueChanges(){return this.#r??(this.#r=Gn(m(()=>({value:this.value$$(),disabled:this.disabled$$()})),this.value$$,{injector:this.injector}))}status$$=m(()=>this.disabled$$()?rt:this.rawError$$()?this.rawError$$()!==z?me:z:this.reduceChildren(rt,(t,e)=>e===me||t.status$$()===me?me:e===z||t.status$$()===z?z:rt,t=>t===me));#n;get statusChanges(){return this.#n??(this.#n=Gn(this.status$$,this.status$$,{injector:this.injector}))}},xe=class extends De{#e=m(()=>this.config$().deletionMode??"shrink");value$$=m(()=>{let t=[];for(let e of this.controls$())if(e&&e.shouldInclude$$())t.push(e.value$$());else{if(this.#e()==="shrink")continue;this.#e()==="mark"&&t.push(void 0)}return t.length===0?this.emptyValue$$():t});children$$=m(()=>this.controls$());controls$=I([]);get controls(){return this.controls$()}removeAt(t){let e=this._adjustIndex(t);this.controls$()[e]&&this.controls$.update(r=>(r=r.slice(),r.splice(e,1),r))}setControl(t,e){let r=this._adjustIndex(t);this.controls$.update(i=>(i=i.slice(),i[r]=e,i)),e.setParent(this)}get length(){return this.controls$().length}reset(t=[]){this._forEachChild((e,r)=>{e.reset(t[r])})}getRawValue(){return this.controls$().map(t=>t.getRawValue())}clear(){this.controls$().length<1||this.controls$.update(()=>[])}_adjustIndex(t){return t<0?Math.max(t+this.length,0):t}_forEachChild(t){this.controls$().forEach((e,r)=>{e&&t(e,r)})}find(t){return this.controls$()[this._adjustIndex(t)]}beforeUpdateList=[];updateValue(t=[]){B(t,this.value$$())||(this.beforeUpdateList.forEach(e=>e(t)),this.controls$().forEach((e,r)=>{e.updateValue(t[r])}))}},st=class extends De{children$$;#e=0;viewIndex$=I(0);modelValue$=I(void 0);modelValueToViewValueOrigin$$=m(()=>{let t=this.modelValue$(),e=this.config$?.().transfomer?.toView;return e?e(t,this):t});modelValueToViewValue$$=m(()=>(this.viewIndex$(),this.modelValueToViewValueOrigin$$()),{equal:()=>!1});value$$=I(void 0);reset(t=this.config$().defaultValue){this.updateValue(t),this.markAsPristine(),this.markAsUntouched()}_forEachChild(t){}#t=!0;setViewValue(t){this.#e++;let e=this.config$?.().transfomer?.toModel,r=e?e(t,this):t,i=this.schemaParser(r);i.success?(this.value$$.set(i.output),this.syncError$$.set(void 0)):this.syncError$$.set({valibot:i.issues}),this.markAllAsDirty()}updateValue(t){if(this.#t){this.#t=!1,t!==void 0&&!B(t,this.value$$())&&(this.modelValue$.set(t),this.value$$.set(t));return}B(t,this.value$$())||(this.viewIndex$.set(this.#e),this.modelValue$.set(t),this.value$$.set(t))}initConfig(t){super.initConfig(t),"defaultValue"in this.config$()&&(this.modelValue$.set(this.config$().defaultValue),this.value$$.set(this.config$().defaultValue))}},ot=class extends xe{activateIndex$=I(0);type=I("and");activateControl$=I(void 0);value$$=m(()=>this.getValue(!1));getActivateControls(){let t;if(this.activateControl$())t=this.activateControl$();else if(this.type()==="and")t=this.controls$();else if(this.type()==="or")t=[this.controls$()[this.activateIndex$()]];else throw new Error("");return t}getValue(t){let e=t?this.getActivateControls():this.getActivateControls().filter(s=>s.shouldInclude$$()),r=e[0];if(e.length===0)return this.emptyValue$$();if(e.length===1)return r.value;let i=e.reduce((s,o)=>h(h({},s),o.value$$()),{});return Object.keys(i).length?i:this.emptyValue$$()}getRawValue(){return this.getValue(!0)}updateValue(t){B(t,this.value$$())||this.controls$().forEach((e,r)=>{e.updateValue(t)})}};function jf(n){return n instanceof at}function Ja(n){return n instanceof xe}function Ff(n){return n instanceof st}function ut(n){return n instanceof ot}var at=class extends De{value$$=m(()=>{let t={},e=this._reduceChildren(t,(i,s,o)=>(s.shouldInclude$$()&&(i[o]=s.value),i)),r=h(h({},e),this.looseValue$$());return Object.keys(r).length?r:this.emptyValue$$()});children$$=m(()=>Object.values(this.controls$()));controls$=I({});get controls(){return this.controls$()}registerControl(t,e){return this.controls$()[t]?this.controls$()[t]:(this.controls$.update(r=>E(h({},r),{[t]:e})),e.setParent(this),e)}removeControl(t){this.controls$()[t]&&this.controls$.update(e=>(e=h({},e),delete e[t],e))}setControl(t,e){this.controls$.update(r=>(r=h({},r),delete r[t],r)),e&&this.registerControl(t,e)}reset(t={}){this._forEachChild((e,r)=>{e.reset(t?t[r]:void 0)})}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_forEachChild(t){Object.keys(this.controls$()).forEach(e=>{let r=this.controls$()[e];r&&t(r,e)})}_reduceChildren(t,e){let r=t;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}find(t){return this.controls$()[t]}looseValue$$=m(()=>{let t=this.#e();if(!t||ut(this.parent))return{};let e=this.controls$(),r={};for(let i in t)i in e||(r[i]=t[i]);return r});#e=I({});setInitValue(t){this.#e.set(t)}updateValue(t){if(!B(t,this.value$$())){for(let e in this.controls$())this.controls$()[e].updateValue(t?.[e]);if(!B(t,this.#e())){this.setInitValue(t);return}}}},ct=new S("PI_VIEW_CONFIG"),Xn=new S("PI_FORM_BUILDER_OPTIONS"),zn=new S("PI_FORM_BUILDER_ALIAS_MAP");function Dt(n){return n.isGroup}function Jn(n){return n.isArray}function Lf(n,t,e,r,i,s){let o;t.isLogicAnd||t.isLogicOr?o=ot:Dt(t)?o=at:Jn(t)||t.isTuple?o=xe:o=st;let a;return i?(a=new o(t.sourceSchema,s),ut(a)&&a.type.set(t.isLogicAnd?"and":"or"),a.initConfig(r)):(a=n.get([e]),a||(a=new o(t.sourceSchema,s),ut(a)&&a.type.set(t.isLogicAnd?"and":"or"),n.setControl?.(e,a),a.initConfig(r))),a}function $t(n){return Ut(n)?n():n}var ye={props:"merge",formConfig:"merge",renderConfig:"merge",inputs:"merge",outputs:"merge",wrappers:"replace",attributes:"merge"},xt=class extends Map{parent;constructor(t){super(),this.parent=t}get(t){let e=super.get(t);return e===void 0?this.parent?.get(t):e}};function*Ya(n){for(let t of n)!t.keyPath?.length&&t.fieldGroup?.().length?yield*Ya(t.fieldGroup()):t.keyPath?.length&&(yield t)}function qn(n,t,e,r,i){let s=Array.isArray(n)?n:typeof n=="number"?[n]:n.split("."),o=s[0],a;if(o==="#")t=r,a=[{field:r,level:1}];else if(o==="..")a=[{field:t.parent,level:1}];else if(typeof o=="string"&&o.startsWith("@")){let u=e.get(o.slice(1));!u&&i&&(u=i(o.slice(1),t)),a=[{field:u,level:1}]}else t.fieldGroup?a=Ya(t.fieldGroup()).filter(u=>u.keyPath&&Bn(s,u.keyPath)).map(u=>({field:u,level:u.keyPath?.length})):t.fieldArray&&(a=t.fieldArray().filter(u=>u.keyPath&&Bn(s,u.keyPath)).map(u=>({field:u,level:u.keyPath?.length})));if(a)for(let u of a){if(s.length===u.level)return u.field;let l=u.field.get(s.slice(u.level),i);if(l)return l}}var lt=class{#e=C(zn,{optional:!0})??new xt;#t=C(Xn);#i=C(F);#r=C(W);#n=C(ct,{optional:!0})??void 0;#s=[];buildRoot(t){let e=this.#a({type:"root",field:{fullPath:[]},form:void 0,resolvedField$:t.resolvedField$,append:()=>{}},t.field,0);this.allFieldInitHookCall()}allFieldInitHookCall(){let t=this.#s;this.#s=[],t.forEach(e=>e())}#o(t){t.type==="group"?this.#u(t):this.#c(t)}afterResolveConfig(t,e){}#a(t,e,r){let i,s=e.type,o;if(s){let D=this.#l(s);i=D.defaultConfig,o=D.define}let a=this.#n?.defaultConfigMergeStrategy,u=this.configMerge([this.#n?.defaultConfig?.inputs,i?.inputs,e.inputs],!1,typeof a=="string"?a:a?.inputs??ye.inputs),l=this.configMerge([this.#n?.defaultConfig?.outputs,i?.outputs,e.outputs],!1,typeof a=="string"?a:a?.outputs??ye.outputs),c=this.configMerge([this.#n?.defaultConfig?.attributes,i?.attributes,e.attributes],!1,typeof a=="string"?a:a?.attributes??ye.attributes),p=this.configMerge([this.#n?.defaultConfig?.wrappers,i?.wrappers,e.wrappers],!0,typeof a=="string"?a:a?.wrappers??ye.wrappers),d=this.configMerge([this.#n?.defaultConfig?.props,e.props],!1,typeof a=="string"?a:a?.props??ye.props),v=this.configMerge([this.#n?.defaultConfig?.formConfig,i?.formConfig,e.formConfig],!1,typeof a=="string"?a:a?.formConfig??ye.formConfig),b=this.configMerge([this.#n?.defaultConfig?.renderConfig,i?.renderConfig,e.renderConfig],!1,typeof a=="string"?a:a?.renderConfig??ye.renderConfig),_,g=e.key;ut(t.form)?g??=t.form.controls$().length:Ja(t.form)&&(g??=r);let O=t.type==="root";!e.nonFieldControl&&(g!==void 0||O)&&(_=Lf(t.form,e,g,v,O,this.#i));let q=this.#t.form$$,w={id:e.id,keyPath:Wn(g),get fullPath(){return[...w.parent.fullPath,...w.keyPath??[]]},form:{parent:t.form,control:_??(Dt(e)?t.form:void 0),get root(){return q()}},get:(D,Pe)=>$(()=>qn(D,w,this.#e,this.#t.resolvedField$(),Pe)),parent:t.field,origin:e,renderConfig:b,formConfig:v,props:d,context:this.#t.context(),priority:e.priority,hooks:e.hooks,alias:e.alias,inputs:u,outputs:l,attributes:c,define:o?E(h({},o),{inputs:u,outputs:l,attributes:c}):void 0,wrappers:p,wrappers$$:m(()=>this.#f(p()))};return w=this.afterResolveConfig(e,w)??w,e.movePath?this.moveViewField(e.movePath,w):t.append(w),e.alias&&this.#e.set(e.alias,w),w.hooks?.fieldResolved?.(w),O&&t.resolvedField$.set(w),Dt(e)||e.isLogicAnd||e.isLogicOr||e.isTuple?(w.fieldGroup=I(new it((D,Pe)=>D.priority-Pe.priority)),this.#o({type:"group",fields:e.children,field:w,form:_||t.form,append:D=>{w.fieldGroup().push(D)}})):Jn(e)&&this.#o({type:"array",templateField:e.arrayChild,field:w,form:_,append:D=>{}}),w.hooks?.allFieldsResolved&&this.#s.push(()=>{w.hooks.allFieldsResolved(w)}),w}#u(t){for(let r=0;r<t.fields.length;r++){let i=t.fields[r];this.#a(t,i,r)}let e=t.field;e.hooks?.afterChildrenInit?.(e)}createArrayItem(t,e,r){let i=this.constructor,s=F.create({providers:[i,{provide:zn,useValue:new xt(this.#e)},{provide:W,useFactory:()=>s}],parent:this.#r});this.#r.get(ve).onDestroy(()=>{a.injector?.destroy()});let o=s.get(i),a=o.#a(t,e,r);return this.#s.push(()=>o.allFieldInitHookCall()),a.injector=s.get(W),a}#c(t){let{templateField:e,form:r}=t;t.field.action={set:(i,s)=>{$(()=>{s=typeof s=="number"?s:t.field.fieldArray?.().length??0;let o=this.createArrayItem(t,e,s),a=[...t.field.fieldArray()];a[s]=o,t.field.fieldArray.set(a),this.allFieldInitHookCall(),o.form.control.updateValue(i)})},remove:i=>{$(()=>{let s=[...t.field.fieldArray()],[o]=s.splice(i,1);t.field.fieldArray.set(s),r.removeAt(i),o&&(o.injector.destroy(),o.injector=void 0)})}},t.field.fieldArray=I([]),t.field.hooks?.afterChildrenInit?.(t.field),r.beforeUpdateList.push(i=>{let s=r.controls$().length;if(s<i.length){let o=t.field.fieldArray().slice();for(let a=s;a<i.length;a++){let u=this.createArrayItem(t,t.templateField,a);o[a]=u}t.field.fieldArray.set(o)}else if(i.length<s){let o=t.field.fieldArray().slice();for(let a=t.field.fieldArray().length-1;a>=i.length;a--){let[u]=o.splice(a,1);r.removeAt(a),u&&(u.injector?.destroy(),u.injector=void 0)}t.field.fieldArray.set(o)}this.allFieldInitHookCall()})}#l(t){let e,r;if(typeof t=="string"){let i=this.#n?.types?.[t];if(!i)throw new Error(`define:\u672A\u6CE8\u518C[${t}]`);if(r=i,Object.keys(i).length)return e=h({},i),{define:h({},i),defaultConfig:r}}else return{define:{type:t}};return{define:e,defaultConfig:r}}configMerge(t,e,r){let i;return e?r==="merge"?i=t.filter(Boolean).flat().map(s=>$t(s)):i=t.reduce((s,o)=>$t(o)??s,[]):r==="merge"?i=t.reduce((s,o)=>h(h({},s),$t(o)),{}):i=t.reduce((s,o)=>$t(o)??s,{}),I(Hn(i))}moveViewField(t,e){let r=qn(t,e,this.#e,this.#t.resolvedField$(),(o,a)=>{let u=this.#t.form$$,l={alias:o,parent:a,get fullPath(){return a.fullPath},form:{parent:a.form.control??a.form.parent,control:void 0,get root(){return u()}},get:(c,p)=>qn(c,l,this.#e,this.#t.resolvedField$(),p),fieldGroup:I(new it((c,p)=>c.priority-p.priority)),priority:0,renderConfig:I({}),wrappers$$:I([])};if(this.#e.set(o,l),e===a)throw new Error("\u6DFB\u52A0\u4F4D\u7F6E\u4E0D\u53EF\u4E3A\u81EA\u8EAB");return a.fieldGroup().push(l),l});if(!r)throw new Error("\u79FB\u52A8\u89C6\u56FE\u9879\u5931\u8D25");let i=e.parent.fieldGroup?.().findIndex(o=>o===e);typeof i=="number"&&i!==-1&&e.parent.fieldGroup?.().splice(i,1);let s=e.fullPath.slice(r.fullPath.length);e.keyPath=s,e.parent=r,r.fieldGroup().push(e)}#f(t){return(t??[]).map(e=>{if(typeof e=="string"){let r=this.#n?.wrappers?.[e];if(!r)throw new Error(`wrapper:\u672A\u6CE8\u518C[${e}]`);return E(h({},r),{inputs:I(r.inputs),attributes:I(r.attributes)})}else if(typeof e.type=="string"){let r=this.#n?.wrappers?.[e.type];if(!r)throw new Error(`wrapper:\u672A\u6CE8\u518C[${e.type}]`);return{inputs:I(h(h({},r.inputs),e.inputs)),outputs:h(h({},r.outputs),e.outputs),attributes:I(h(h({},r.attributes),e.attributes)),type:r.type}}else return E(h({},e),{inputs:I(e.inputs),attributes:I(e.attributes)})})}};function Za(n){return{kind:"metadata",type:"layout",reference:Za,value:n}}var k=Fn("viewRawConfig");function Vf(n){return k(t=>{t.type=n})}var Uf=n=>k(t=>{t.hooks=n}),qf=n=>k(t=>{t.hooks=h(h({},t.hooks),n)}),Bf={position:"bottom"};function Y(n,t,e){e.hooks??={};for(let r in n){let i=e.hooks[r];e.hooks[r]=(...s)=>{t.position==="top"&&n[r](...s),i?.(...s),t.position==="bottom"&&n[r](...s)}}}var Gf=(n,t=Bf)=>k(e=>Y(n,t,e));function zf(n){return k(t=>{let e=t.hooks;e&&(n.forEach(r=>{delete e[r]}),t.hooks=e)})}function Hf(n){return!!n&&typeof n.then=="function"}function Wf(n){return!!n&&typeof n.subscribe=="function"}function Xf(n){return k(t=>{t.inputs=n})}function Jf(n){return k(t=>{let e=J(t.inputs);t.inputs=m(()=>h(h({},e),J(n)))})}function Yf(n){return k(t=>{let e=J(t.inputs);e&&(n.forEach(r=>{delete e[r]}),t.inputs=e)})}function Zf(n,t){return k(e=>{let r=Object.keys(n),i=t?.hookName??"fieldResolved";return e.inputs=h(h({},e.inputs),r.reduce((s,o)=>(s[o]=void 0,s),{})),Y({[i]:s=>{r.forEach(o=>{let a=n[o](s);Hf(a)?a.then(u=>{s.inputs.update(l=>(l=h({},l),l[o]=u,l))}):Wf(a)?a.subscribe({next:u=>{s.inputs.update(l=>(l=h({},l),l[o]=u,l))}}):s.inputs.update(u=>(u=h({},u),u[o]=a,u))})}},{position:t?.addPosition??"bottom"},e)})}function Kf(n,t){return k(e=>{let r=Object.keys(n),i=t?.hookName??"fieldResolved";return Y({[i]:s=>{let o=s.inputs;s.inputs=vt(m(()=>h(h({},o()),r.reduce((a,u)=>E(h({},a),{[u]:n[u]()}),{}))))}},{position:t?.addPosition??"bottom"},e)})}function Qf(n){return k(t=>{t.outputs=n})}function ep(n){return k(t=>{let e=t.outputs;t.outputs=h(h({},e),n)})}function tp(n){return k(t=>{let e=t.outputs;e&&(n.forEach(r=>{delete e[r]}),t.outputs=e)})}function Yn(n,t,e){n.outputs.update(r=>{r=h({},r);for(let i in t){let s=r[i];r[i]=(...o)=>{e.position==="top"&&t[i](...o,n),s?.(...o,n),e.position==="bottom"&&t[i](...o,n)}}return r})}var np={position:"bottom"},rp=(n,t=np)=>k(e=>{Y({allFieldsResolved:r=>{Yn(r,n,t)}},{position:"bottom"},e)});function Ka(n,t){Y({allFieldsResolved:e=>t(r=>{let i=[];for(let s of r){let o=s.list?e.get(s.list):e,a=new ur;Yn(e,{[s.output]:(...u)=>{a.next(u)}},{position:"bottom"}),i.push({subject:a,field:o})}return jt(i.map(({subject:s})=>s.pipe(mr(void 0)))).pipe(Lt(1),L(s=>({list:s,field:e,listenFields:i.map(o=>o.field)})))})},{position:"bottom"},n)}function ip(n){return k(t=>Ka(t,n))}function sp(n){return k(t=>{t.wrappers=n})}var op={position:"tail"};function up(n,t=op){return k(e=>{let r=Wn(n);e.wrappers??=[],t.position==="tail"?e.wrappers.push(...r):e.wrappers.unshift(...r)})}function ap(n){return k(t=>{if(!t.wrappers)return;let e=t.wrappers;for(let r=0;r<n.length;r++){let i=n[r];for(let s=0;s<e.length;s++){let o=e[s];if((typeof o=="string"?o:o.type)===i){e.splice(s,1);break}}}t.wrappers=e})}function lp(n){return k(t=>{t.alias=n})}function cp(n){return k(t=>{t.renderConfig=n})}function fp(n){return k(t=>{t.formConfig=h(h({},t.formConfig),n)})}function pp(n){return k(t=>{t.attributes=n})}function hp(n){return k(t=>{let e=J(t.attributes);t.attributes=m(()=>h(h({},e),J(n)))})}function dp(n){return k(t=>{let e=J(t.attributes);e&&(n.forEach(r=>{delete e[r]}),t.attributes=e)})}var yp=[void 0];function Mt(n,t={}){let e=(t.list??yp).map(r=>r?n.get(r).form.control:n.form.control);return jt(e.map(r=>t.skipInitValue?r.valueChanges.pipe(Lt(1)):r.valueChanges)).pipe(L(r=>({list:r,field:n,listenFields:r})))}function mp(n){return k(t=>{Y({allFieldsResolved:e=>{n(r=>Mt(e,r),e)}},{position:"bottom"},t)})}function vp(n){return k(t=>(Y({allFieldsResolved:e=>{n.listen(r=>Mt(e,r)).subscribe(r=>{e.renderConfig.update(i=>!!i.hidden!==r?E(h({},i),{hidden:r}):i),n.disabled!==void 0&&e.formConfig&&e.formConfig.update(i=>(i=h({},i),i.disabled=r?n.disabled:!1,i))})}},{position:"bottom"},t),t))}function gp(n){return k(t=>(Y({allFieldsResolved:e=>{n.listen(r=>Mt(e,r)).subscribe(r=>{e.formConfig().disabled!==r&&e.formConfig.update(i=>E(h({},i),{disabled:r}))})}},{position:"bottom"},t),t))}function Ep(n,t){return k(e=>{Y({fieldResolved:r=>{let i=r.wrappers();i?.length?typeof i[0]=="string"?i[0]={type:i[0],attributes:{class:ue(n)}}:i[0]=E(h({},i[0]),{attributes:E(h({},i[0].attributes),{class:t?ue(i[0].attributes?.class,n):ue(n)})}):r.attributes.update(s=>E(h({},s),{class:t?ue(s?.class,n):ue(n)}))}},{position:"bottom"},e)})}function bp(n,t){return k(e=>{e.attributes=E(h({},e.attributes),{class:t?ue(e.attributes?.class,n):ue(n)})})}function Qa(n=!0){return{kind:"metadata",type:"nonFieldControl",reference:Qa,value:n}}var Me=class extends Ga{inputs;outputs;wrappers;attributes;alias;movePath;renderConfig;formConfig={};id;isLogicAnd=!1;isLogicOr=!1;isArray=!1;isTuple=!1;nonFieldControl=!1;hooks;lazySchema(t){super.lazySchema(t),this.type=this.lazyWrapped.type}arraySchema(t){if(!this.isObjectControl){this.isArray=!0;let e=new this.globalConfig.handle(this.globalConfig,this,t);e.fullPath=[],oe(t.item,e),this.arrayChild=e}}defaultSchema(t){this.defaultValue=t.literal}tupleDefault(t){super.tupleDefault(t),this.isTuple=!0}enumSchema(t){this.props??={},this.props.options??=t.options}intersectBefore(t){this.childrenAsVirtualGroup?this.type==="intersect"&&(this.type="intersect-group"):this.isLogicAnd=!0}logicItemSchema(t,e,r){let i=new this.globalConfig.handle(this.globalConfig,this,t);this.childrenAsVirtualGroup?i.fullPath=[...this.fullPath]:(i.key=e,i.fullPath=[...this.fullPath,e]),i.setParent(this),oe(t,i)}unionBefore(t){this.childrenAsVirtualGroup||(this.isLogicOr=!0)}beforeSchemaType(t){super.beforeSchemaType(t),this.formConfig.required=!this.undefinedable&&!this.nullable}voidSchema(t){this.nonFieldControl=!0}metadataDefaulthandle(t,e){switch(t.type){case"viewRawConfig":{t.value(this,this.globalConfig.context);break}case"layout":{this.movePath=t.value.keyPath,this.priority=t.value.priority;break}case"nonFieldControl":{this.nonFieldControl=t.value;break}default:break}}end(t){super.end(t),this.formConfig.defaultValue=this.defaultValue}};function Zn(n,t){let e={form$$:m(()=>e.resolvedField$()?.form.control),resolvedField$:I(void 0),context:m(()=>t.context)},r=F.create({providers:[{provide:Xn,useValue:e},{provide:ct,useValue:t.fieldGlobalConfig},t.builder,{provide:W,useFactory:()=>r}],parent:t.injector});return t.registerOnDestroy?.(()=>{r.get(W).destroy()}),qa(n,i=>(r.get(t.builder).buildRoot({field:i,resolvedField$:e.resolvedField$}),e.resolvedField$()),E(h({},t),{handle:t?.handle??Me}))}var _p=nt(At());var il=n=>({$implicit:n}),Cp=(n,t)=>t.id||n;function kp(n,t){n&1&&ke(0)}function Tp(n,t){if(n&1&&be(0,kp,1,0,"ng-container",0),n&2){let e=t.$implicit,r=N();re("ngTemplateOutlet",r.fieldTemplateRef())("ngTemplateOutletContext",Kt(2,il,e))}}function Ip(n,t){if(n&1&&(ke(0,1),Z(1,"pure"),Z(2,"pure")),n&2){let e;N(3);let r=ce(2),i=ce(5),s=N().$implicit,o=N(),a=yt(1);re("ngComponentOutlet",r)("ngComponentOutletInputs",(e=Qt(1,7,o.groupInputsValue,s.inputs,s.fieldGroup(),a))==null?null:e())("ngComponentOutletOutputs",s.outputs())("ngComponentOutletWrappers",i)("ngComponentOutletField",s)("ngComponentOutletDirectives",s.directives)("ngComponentOutletTopDirectives",fe(2,12,o.topDirectives,s.renderConfig))}}function Op(n,t){if(n&1&&(we(0,Ip,3,15,"ng-container",1),Z(1,"pure")),n&2){let e=N(3).$implicit,r=N();Ce(fe(1,1,r.groupHidden,e)()?-1:0)}}function Ap(n,t){if(n&1&&(ke(0,1),Z(1,"pure"),Z(2,"pure")),n&2){let e;N(2);let r=ce(2),i=ce(5),s=N().$implicit,o=N(),a=yt(1);re("ngComponentOutlet",r)("ngComponentOutletInputs",(e=Qt(1,7,o.groupInputsValue,s.inputs,s.fieldArray(),a))==null?null:e())("ngComponentOutletOutputs",s.outputs())("ngComponentOutletWrappers",i)("ngComponentOutletField",s)("ngComponentOutletDirectives",s.directives)("ngComponentOutletTopDirectives",fe(2,12,o.topDirectives,s.renderConfig))}}function Sp(n,t){if(n&1&&(ke(0,2),Z(1,"pure")),n&2){N(2);let e=ce(2),r=ce(5),i=N().$implicit,s=N();re("ngComponentOutlet",e)("ngComponentOutletInputs",i.inputs())("ngComponentOutletOutputs",i.outputs())("ngComponentOutletFormControl",i.form.control)("ngComponentOutletWrappers",r)("ngComponentOutletField",i)("ngComponentOutletDirectives",i.directives)("ngComponentOutletTopDirectives",fe(1,9,s.topDirectives,i.renderConfig))("ngComponentOutletContent",i.contents)}}function Rp(n,t){if(n&1&&we(0,Op,2,4)(1,Ap,3,15,"ng-container",1)(2,Sp,2,12,"ng-container",2),n&2){let e=N(2).$implicit;Ce(e.fieldGroup?0:e.fieldArray?1:2)}}function $p(n,t){if(n&1&&(mt(0),Z(1,"pure"),mt(2)(3),Z(4,"pure"),mt(5),we(6,Rp,3,1)),n&2){let e=N().$implicit,r=N(),i=fe(1,1,r.resolvedComponent,e.define);Fe(2);let s=Zt(i.value()),o=fe(4,5,r.resolvedWrapper,e.wrappers$$());Fe(3),Zt(o.value()),Fe(),Ce(s?6:-1)}}function Dp(n,t){if(n&1&&we(0,$p,7,9),n&2){let r=t.$implicit.renderConfig();Ce(r!=null&&r.hidden?-1:0)}}function xp(n,t){n&1&&ke(0)}function Mp(n,t){if(n&1&&be(0,xp,1,0,"ng-container",3),n&2){N();let e=yt(1);re("ngTemplateOutlet",e)("ngTemplateOutletContext",Kt(2,il,t))}}var Pp=(()=>{class n{fields=j.required();fieldTemplateRef=j.required();static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ve({type:n,inputs:{fields:[1,"fields"],fieldTemplateRef:[1,"fieldTemplateRef"]}})}return n})(),cy=(()=>{class n extends Pp{static \u0275fac=(()=>{let e;return function(i){return(e||(e=ht(n)))(i||n)}})();static \u0275cmp=le({type:n,selectors:[["piying-view-group"]],features:[Wt],decls:2,vars:0,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,i){r&1&&Fr(0,Tp,1,4,"ng-container",null,Cp),r&2&&Lr(i.fields())},dependencies:[tn],encapsulation:2,changeDetection:0})}return n})(),sl=new S("PI_VIEW_FIELD_TOKEN"),Np=new S("PI_COMPONENT_LIST"),Qn=new S("PI_COMPONENT_INDEX"),jp=new S("PI_COMPONENT_LIST_LISTEN"),Fp=[],Lp={directives:"merge",formConfig:"merge",inputs:"merge",outputs:"merge",props:"merge",renderConfig:"merge",wrappers:"replace",attributes:"merge"};function el(n){return E(h({},n),{inputs:Object.keys(n.inputs()??{}).join(","),attributes:Object.keys(n.attributes()??{}).join(","),directives:n.directives?n.directives.map(t=>E(h({},t),{inputs:`${t.inputs?Object.keys(t.inputs()).join(","):""}`})):void 0,contents:n.contents?.map(t=>E(h({},t),{text:!!t.text}))})}var tl=new RegExp(`(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=(["']?)([^\\]"']*)\\5)?\\])|(\\))|(\\s*,\\s*)`,"g"),ae=function(n){return n[n.ALL=0]="ALL",n[n.NOT=1]="NOT",n[n.TAG=2]="TAG",n[n.PREFIX=3]="PREFIX",n[n.ATTRIBUTE=4]="ATTRIBUTE",n[n.ATTRIBUTE_STRING=5]="ATTRIBUTE_STRING",n[n.ATTRIBUTE_VALUE=6]="ATTRIBUTE_VALUE",n[n.NOT_END=7]="NOT_END",n[n.SEPARATOR=8]="SEPARATOR",n}(ae||{}),er=class n{element=null;classNames=[];attrs=[];notSelectors=[];static parse(t){let e=[],r=(u,l)=>{l.notSelectors.length>0&&!l.element&&l.classNames.length==0&&l.attrs.length==0&&(l.element="*"),u.push(l)},i=new n,s,o=i,a=!1;for(tl.lastIndex=0;s=tl.exec(t);){if(s[ae.NOT]){if(a)throw new Error("Nesting :not in a selector is not allowed");a=!0,o=new n,i.notSelectors.push(o)}let u=s[ae.TAG];if(u){let c=s[ae.PREFIX];c==="#"?o.addAttribute("id",u.slice(1)):c==="."?o.addClassName(u.slice(1)):o.setElement(u)}let l=s[ae.ATTRIBUTE];if(l&&o.addAttribute(o.unescapeAttribute(l),s[ae.ATTRIBUTE_VALUE]),s[ae.NOT_END]&&(a=!1,o=i),s[ae.SEPARATOR]){if(a)throw new Error("Multiple selectors in :not are not supported");r(e,i),i=o=new n}}return r(e,i),e}unescapeAttribute(t){let e="",r=!1;for(let i=0;i<t.length;i++){let s=t.charAt(i);if(s==="\\"){r=!0;continue}if(s==="$"&&!r)throw new Error(`Error in attribute selector "${t}". Unescaped "$" is not supported. Please escape with "\\$".`);r=!1,e+=s}return e}escapeAttribute(t){return t.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}setElement(t=null){this.element=t}addAttribute(t,e=""){this.attrs.push(t,e&&e.toLowerCase()||"")}addClassName(t){this.classNames.push(t.toLowerCase())}toString(){let t=this.element||"";if(this.classNames&&this.classNames.forEach(e=>t+=`.${e}`),this.attrs)for(let e=0;e<this.attrs.length;e+=2){let r=this.escapeAttribute(this.attrs[e]),i=this.attrs[e+1];t+=`[${r}${i?"="+i:""}]`}return this.notSelectors.forEach(e=>t+=`:not(${e})`),t}},ee=function(n){return n[n.NOT=1]="NOT",n[n.ATTRIBUTE=2]="ATTRIBUTE",n[n.ELEMENT=4]="ELEMENT",n[n.CLASS=8]="CLASS",n}(ee||{});function Vp(n){let t=n.classNames&&n.classNames.length?[ee.CLASS,...n.classNames]:[];return[n.element&&n.element!=="*"?n.element:"",...n.attrs,...t]}function Up(n){let t=n.classNames&&n.classNames.length?[ee.CLASS,...n.classNames]:[];return n.element?[ee.NOT|ee.ELEMENT,n.element,...n.attrs,...t]:n.attrs.length?[ee.NOT|ee.ATTRIBUTE,...n.attrs,...t]:n.classNames&&n.classNames.length?[ee.NOT|ee.CLASS,...n.classNames]:[]}function qp(n){let t=Vp(n),e=n.notSelectors&&n.notSelectors.length?n.notSelectors.map(r=>Up(r)):[];return t.concat(...e)}function Bp(n){return n?er.parse(n).map(qp):[]}function Gp(n,t){let e=0,r=[],i=[],s=[],o=[],a=[],u;if(typeof n.type=="string")u=n.type;else{let p=en(n.type);u=n.selector??p.selector,i.push(n.type)}if(!u)throw new Error("\u672A\u627E\u5230\u5143\u7D20\u5BF9\u5E94\u7684\u9009\u62E9\u5668");let l=n.attributes?.();if(l)for(let p in l)r.push(p,l[p]);let c=[n,...t];for(let p=0;p<c.length;p++){let d=c[p];if(p>0){i.push(d.type);let b=d.type.\u0275dir.selectors,_=d.selector??b.find(g=>g.length===3&&g[0]===""&&g[2]==="")[1];(d.inputs&&!(_ in d.inputs())||!d.inputs)&&(d.model&&!(_ in d.model)||!d.model)&&r.push(_,"")}if(d.inputs){s[p]={signal:d.inputs,keyList:[]};for(let v in d.inputs())e++,s[p].keyList.push(v)}for(let v in d.outputs)o.push({eventName:v,listenerFn:d.outputs[v]});for(let v in d.model)e++,a.push({key:v,eventName:`${v}Change`,signal:d.model[v]})}return r.push(3),r.push(...new Set([...o.map(({eventName:p})=>p),...a.map(({eventName:p})=>p)])),r.push(...new Set([...s.flatMap(p=>p.keyList),...a.map(({key:p})=>p)])),{vars:e,consts:[["el",""],r],directiveList:i,propertyList:s,listenerList:o,modelList:a,elementTag:u}}var Kn=["el"],zp=0;function Hp(n,t){let e=Gp(n,t),r,i;n.contents?.length&&(r=new Array(n.contents.length).fill("*"));function s(o,a){o&1&&(Vr(0,e.elementTag,1,0),e.listenerList.reduce((u,l)=>u(l.eventName,l.listenerFn),Jt),e.modelList.reduce((u,l)=>u(l.eventName,c=>{Wr(l.signal,c)}),Jt),n.contents?.length&&n.contents.forEach((u,l)=>{u.select?Ue(l+2,l,["ngProjectAs",u.select,5,Bp(u.select)[0]],u.text?(c,p)=>{c&1&&Gr(0),c&2&&zr(u.text())}:void 0,u.text?1:void 0,u.text?1:void 0):Ue(l+1,l)}),Ur()),o&2&&(e.propertyList.reduce((u,{signal:l,keyList:c})=>{let p=l();return c.reduce((d,v)=>d(v,p[v]),u)},re),e.modelList.reduce((u,l)=>u(l.key,l.signal),Hr))}return class tr{templateRef=qe.required(Ht);componentInstance=qe("el");elementRef=qe("el",{read:Ne});directiveRefList=t.map(({type:a})=>qe("el",{read:a}));static \u0275fac=a=>new(a||tr);static \u0275cmp=le({type:tr,selectors:[[`d-${zp++}`]],ngContentSelectors:r,decls:1,vars:0,consts:e.consts,template:(a,u)=>{a&1&&(r&&dt(r),be(0,s,2+(n.contents?.length??0),e.vars,"ng-template"))},viewQuery:(a,u)=>{a&1&&(Te(u.templateRef,Ht,5),Te(u.componentInstance,Kn,5),Te(u.elementRef,Kn,5,Ne),t.forEach(({type:l},c)=>{Te(u.directiveRefList[c],Kn,5,l)})),a&2&&Yt(3+t.length)},dependencies:e.directiveList,encapsulation:2,changeDetection:0})}}var Wp={},Xp=(()=>{class n{#e=C(Qn,{optional:!0});#t;#i;#r;destroyComponentFn;fieldComponentInstance;fieldElementRef;fieldDirectiveRefList;#n;#s(e){this.#n=m(()=>$(()=>el(e)))}setFieldData(e,r){this.#e=r}#o;#a;#u=I(0);createComponent(e,r){this.destroyComponentFn?.(),this.#r=r,this.#t=new Pr;let i=e[this.#e];this.#i=i,this.#o={inputs:m(()=>(this.#u(),this.#i.inputs()??Wp)),directiveList:this.#i?.directives?.map((u,l)=>u.inputs?m(()=>(this.#u(),this.#i.directives[l].inputs())):void 0)},this.#a=i.contents?.map((u,l)=>u.text?E(h({},u),{text:m(()=>(this.#u(),this.#i.contents[l].text()))}):u),this.#s(i);let s=Hp(E(h({},i),{inputs:this.#o.inputs,contents:this.#a}),i.directives?.map((u,l)=>E(h({},u),{inputs:this.#o.directiveList[l]}))??[]),o=F.create({providers:[{provide:Np,useValue:e},{provide:Qn,useValue:this.#e+1},{provide:jp,useValue:this.#t}],parent:i.injector??r.injector}),a=ni(s,{elementInjector:o,environmentInjector:o.get(W),projectableNodes:i.contents?.map(({nodes:u})=>u).filter(Boolean)});if(r.createEmbeddedView(a.instance.templateRef()),this.fieldComponentInstance=a.instance.componentInstance(),this.fieldElementRef=a.instance.elementRef(),this.fieldDirectiveRefList=a.instance.directiveRefList.map(u=>u()),this.destroyComponentFn=()=>{r.clear(),a.destroy(),this.#t.unsubscribe()},e.length===this.#e+1){let u=o.get(sl)();u.hooks?.afterCreateComponent?.(u)}}update(e){let r=e[this.#e],i=el(r);B(i,this.#n())?(this.#i=r,this.#u.update(o=>o+1),this.#t.next(e)):this.createComponent(e,this.#r)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ve({type:n})}return n})();function Jp(n,t){if(typeof n=="string")n=n.trim().split(/\s+/);else if(!n)return t??[];return typeof t=="string"&&(t=t.trim().split(/\s+/)),new Set([...n,...t??[]])}var nr=class extends nn{field;constructor(t){super(),this.field=t}control=this;get value(){return this.field().value}get valid(){return this.field().valid}get invalid(){return!this.field().valid}get pending(){return!1}get disabled(){return this.field().disabled}get enabled(){return!this.field().disabled}get errors(){return this.field().errors??null}get pristine(){return!0}get dirty(){return!1}get touched(){return this.field().touched}get untouched(){return!this.field().touched}get submitted(){return!1}viewToModelUpdate(t){}get valueChanges(){return this.field().valueChanges}get statusChanges(){return this.field().statusChanges}hasValidator(t){return ci.required===t?this.field().required$$():!1}},Yp={provide:nn,useFactory:()=>C(ol).ngControl},ol=(()=>{class n{fieldControl=j.required();cvaArray=C(li);injector=C(F);get cva(){return this.cvaArray[0]}#e;get ngControl(){return this.#e??=new nr(()=>this.fieldControl())}ngOnInit(){let e=this.cva,r,i=!1;e.registerOnChange(o=>{this.fieldControl().disabled$$()||(r=o,i=!0,this.fieldControl().updateOn$$()==="change"&&this.fieldControl().setViewValue(o))}),e.registerOnTouched(()=>{this.fieldControl().markAsTouched(),i&&this.fieldControl().updateOn$$()==="blur"&&(this.fieldControl().setViewValue(r),i=!1)});let s=Ie(()=>{let o=this.fieldControl().modelValueToViewValue$$();$(()=>{e.writeValue(o)})},{injector:this.injector});if(this.cva.writeValue(this.fieldControl().modelValueToViewValue$$()),this.disposeList.push(()=>s.destroy()),e.setDisabledState){let o=Ie(()=>{let a=this.fieldControl().disabled$$();$(()=>{e.setDisabledState(a)})},{injector:this.injector});e.setDisabledState(this.fieldControl().disabled$$()),this.disposeList.push(()=>o.destroy())}}disposeList=[];clear(){this.disposeList.forEach(e=>e()),this.disposeList=[]}ngOnDestroy(){this.clear()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ve({type:n,selectors:[["","fieldControl",""]],inputs:{fieldControl:[1,"fieldControl"]},standalone:!1,features:[Xr([Yp])]})}return n})(),Zp=(()=>{class n extends Xp{ngComponentOutlet=j();ngComponentOutletInputs=j();ngComponentOutletOutputs=j();ngComponentOutletInjector=j();ngComponentOutletContent=j();ngComponentOutletFormControl=j();ngComponentOutletWrappers=j();ngComponentOutletTopDirectives=j();ngComponentOutletDirectives=j();ngComponentOutletField=j.required();#e=C(Sr);#t=m(()=>this.ngComponentOutletWrappers()?.map(e=>E(h({},e),{type:e.type.component,module:e.type.module})));#i=m(()=>this.ngComponentOutletOutputs(),{equal:B});#r;#n=m(()=>{this.#r?.();let e=this.ngComponentOutletInjector()||this.#o,r=this.ngComponentOutlet()?.type.module;if(!r)return;let i=$r(r,e);return this.#r=()=>{i.destroy(),this.#r=void 0},i});#s=m(()=>{let e=this.#n()?.injector??(this.ngComponentOutletInjector()||this.#o);return F.create({providers:[{provide:sl,useValue:this.ngComponentOutletField},{provide:Qn,useValue:0}],parent:e}).get(F)});#o=C(F);#a=m(()=>{let e=this.ngComponentOutletFormControl();return e?{type:ol,inputs:m(()=>({fieldControl:e}))}:void 0});#u=m(()=>{let e=this.ngComponentOutletDirectives(),r=this.#a();return r?[...e?.()??[],r]:e?.()});#c=m(()=>{let e=this.ngComponentOutlet();if(!e)return;let r=this.#u();return E(h({},e),{type:e.type.component,module:e.type.module,inputs:this.ngComponentOutletInputs,directives:r?r.map(i=>{let s=i.outputs;return s?E(h({},i),{outputs:s}):i}):void 0,outputs:this.#i(),contents:this.ngComponentOutletContent()})});#l=m(()=>{let e=this.#c();if(!e)return Fp;let r=this.#s(),i=[...this.#t()??[],e],s=this.ngComponentOutletTopDirectives();if(i[0]=E(h({},i[0]),{injector:r}),s){let o=i[0].directives?.findIndex(a=>a.type===s[0].type);if(typeof o=="number"&&o!==-1){let u=s.pop().inputs,l=i[0].directives?.[o]?.inputs;i[0].directives[o].inputs=m(()=>{let c=J(l)?.ngClass,p=J(u)?.ngClass;return{ngClass:Jp(c,p)}})}i[0]=E(h({},i[0]),{directives:i[0].directives?[...i[0].directives,...s]:[...s]})}return i});#f;ngOnChanges(){let e=this.#l();if(!e.length)return this.destroyComponentFn?.();if(this.#f)this.#f!==e&&this.update(e);else{let r=this.ngComponentOutletField();r.hooks?.beforeCreateComponent?.(r),this.setFieldData(this.ngComponentOutletField,0),this.createComponent(e,this.#e)}this.#f=e}ngOnDestroy(){this.#r?.(),this.destroyComponentFn?.()}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ht(n)))(i||n)}})();static \u0275dir=Ve({type:n,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:[1,"ngComponentOutlet"],ngComponentOutletInputs:[1,"ngComponentOutletInputs"],ngComponentOutletOutputs:[1,"ngComponentOutletOutputs"],ngComponentOutletInjector:[1,"ngComponentOutletInjector"],ngComponentOutletContent:[1,"ngComponentOutletContent"],ngComponentOutletFormControl:[1,"ngComponentOutletFormControl"],ngComponentOutletWrappers:[1,"ngComponentOutletWrappers"],ngComponentOutletTopDirectives:[1,"ngComponentOutletTopDirectives"],ngComponentOutletDirectives:[1,"ngComponentOutletDirectives"],ngComponentOutletField:[1,"ngComponentOutletField"]},exportAs:["ngComponentOutlet"],features:[Wt,qt]})}return n})();function nl(n){return!!en(n)}function rl(n,t){let e=new Map,r=new Map;return i=>$(()=>{if(!i)return{value:m(()=>{})};let s=!1,o=(n?[i]:i).map(a=>{if(r.has(a))return r.get(a);if(e.has(a))return s=!0,e.get(a);let u=a,l=u.type;if(typeof l=="string"||nl(l)){let c=E(h({},u),{type:{component:l}});return r.set(a,c),c}else if(typeof l=="function"){s=!0;let c=l().then(p=>{let d=E(h({},u),{type:nl(p)?{component:p}:p});return r.set(a,d),e.delete(a),d});return e.set(a,c),c}else return u});return s?gt({loader:async()=>n?o[0]:Promise.all(o),injector:t}):{value:m(()=>n?o[0]:o)}})}function Kp(n,t,e,r){let i=!0;return Ie(()=>{let s=t.value$$();i?(B(s,n)||r(s),i=!1):r(s)},{injector:e})}var Qp=(()=>{class n extends lt{#e=C(ct,{optional:!0})??void 0;afterResolveConfig(e,r){let i=e,s=e.type,o,a,u=this.#e?.defaultConfigMergeStrategy;if(s){let c=this.#t(s);a=c.define,o=c.defaultConfig}let l=this.configMerge([o?.directives,i.directives],!0,typeof u=="string"?u:u?.directives??Lp.directives);return E(h({},r),{contents:i.contents?.sort((c,p)=>c.nodes&&p.nodes?0:c.nodes?-1:1),directives:l})}#t(e){let r,i;if(typeof e=="string"){let s=this.#e?.types?.[e];if(!s)throw new Error(`\u672A\u6CE8\u518C${e}`);i=s,Object.keys(s).length&&(r=h({},s))}else r={type:e};return{define:r,defaultConfig:i}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ht(n)))(i||n)}})();static \u0275prov=x({token:n,factory:n.\u0275fac})}return n})(),rr=class extends Me{contents;directives},eh=(()=>{class n{transform(e,...r){return e(...r)}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=xr({name:"pure",type:n,pure:!0})}return n})(),th={builder:Qp,handle:rr},fy=(()=>{class n{schema=j.required();model=j(void 0);modelChange=Zr();options=j();form$$=m(()=>this.resolvedField$()?.form.control);#e;ngOnChanges(e){let r=this.#i();(this.#e!==r||"model"in e)&&this.#t(),this.#e=r}#t=m(()=>{let e=this.model();$(()=>this.#c(e))});#i=m(()=>(this.schema(),$(()=>this.#a())));#r=C(F);#n=C(W);#s;resolvedField$=I(void 0);#o=[];#a(){this.#u();let e=Dr([],this.#n);this.#s=e;let r=Zn(this.schema(),E(h(h({},th),this.options()),{injector:e,registerOnDestroy:i=>{e.get(ve).onDestroy(()=>{i()})}}));if(this.resolvedField$.set(r),r.form.control){let i=Kp(this.model(),r.form.control,this.#r,s=>{$(()=>{r.form.control?.valueNoError$$()&&this.modelChange.emit(s)})});this.#o.push(()=>i.destroy())}return r}#u(e=!1){this.#o.forEach(r=>r()),this.#o=[],!e&&this.#s&&(this.#s.destroy(),this.#s=void 0)}#c(e){if(!this.resolvedField$())return;this.resolvedField$().form.control?.updateValue(e)}groupInputsValue=(e,r,i)=>m(()=>E(h({},e()),{fields:r,fieldTemplateRef:i}));resolvedComponent=rl(!0,this.#r);resolvedWrapper=rl(!1,this.#r);topDirectives=e=>[{type:si,inputs:m(()=>({ngClass:e().ngClass??""}))}];groupHidden=e=>m(()=>this.#l(e));#l(e){return e.fieldGroup?e.fieldGroup().length?e.fieldGroup().every(r=>this.#l(r)):!0:!e.define||!!e.renderConfig().hidden}ngOnDestroy(){this.#u(!0)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=le({type:n,selectors:[["piying-view"]],inputs:{schema:[1,"schema"],model:[1,"model"],options:[1,"options"]},outputs:{modelChange:"modelChange"},features:[qt],decls:3,vars:1,consts:[["dynamicComponent",""],[3,"ngComponentOutlet","ngComponentOutletInputs","ngComponentOutletOutputs","ngComponentOutletWrappers","ngComponentOutletField","ngComponentOutletDirectives","ngComponentOutletTopDirectives"],[3,"ngComponentOutlet","ngComponentOutletInputs","ngComponentOutletOutputs","ngComponentOutletFormControl","ngComponentOutletWrappers","ngComponentOutletField","ngComponentOutletDirectives","ngComponentOutletTopDirectives","ngComponentOutletContent"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,i){if(r&1&&(be(0,Dp,1,1,"ng-template",null,0,Jr),we(2,Mp,1,4,"ng-container")),r&2){let s;Fe(2),Ce((s=i.resolvedField$())?2:-1,s)}},dependencies:[Zp,eh,tn],encapsulation:2,changeDetection:0})}return n})();var Pt;function nh(){if(Pt===void 0&&(Pt=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(Pt=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Pt}function ft(n){return nh()?.createHTML(n)||n}function ul(n){return Error(`Unable to find icon with the name "${n}"`)}function rh(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function al(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function ll(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var te=class{url;svgText;options;svgElement;constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}},fl=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,r,i,s){this._httpClient=e,this._sanitizer=r,this._errorHandler=s,this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,s){return this._addSvgIconConfig(e,r,new te(i,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,s){let o=this._sanitizer.sanitize(V.HTML,i);if(!o)throw ll(i);let a=ft(o);return this._addSvgIconConfig(e,r,new te("",a,s))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new te(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){let s=this._sanitizer.sanitize(V.HTML,r);if(!s)throw ll(r);let o=ft(s);return this._addSvgIconSetConfig(e,new te("",o,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let r=this._sanitizer.sanitize(V.RESOURCE_URL,e);if(!r)throw al(e);let i=this._cachedIconsByUrl.get(r);return i?H(Nt(i)):this._loadSvgIconFromConfig(new te(e,null)).pipe(pt(s=>this._cachedIconsByUrl.set(r,s)),L(s=>Nt(s)))}getNamedSvgIcon(e,r=""){let i=cl(r,e),s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,e),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);let o=this._iconSetConfigs.get(r);return o?this._getSvgFromIconSetConfigs(e,o):lr(ul(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?H(Nt(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(L(r=>Nt(r)))}_getSvgFromIconSetConfigs(e,r){let i=this._extractIconWithNameFromAnySet(e,r);if(i)return H(i);let s=r.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(pr(a=>{let l=`Loading icon set URL: ${this._sanitizer.sanitize(V.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),H(null)})));return cr(s).pipe(L(()=>{let o=this._extractIconWithNameFromAnySet(e,r);if(!o)throw ul(e);return o}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){let s=r[i];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){let o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,e,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(pt(r=>e.svgText=r),L(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?H(null):this._fetchIcon(e).pipe(pt(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){let s=e.querySelector(`[id="${r}"]`);if(!s)return null;let o=s.cloneNode(!0);if(o.removeAttribute("id"),o.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(o,i);if(o.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(o),i);let a=this._svgElementFromString(ft("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,i)}_svgElementFromString(e){let r=this._document.createElement("DIV");r.innerHTML=e;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){let r=this._svgElementFromString(ft("<svg></svg>")),i=e.attributes;for(let s=0;s<i.length;s++){let{name:o,value:a}=i[s];o!=="id"&&r.setAttribute(o,a)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){let{url:r,options:i}=e,s=i?.withCredentials??!1;if(!this._httpClient)throw rh();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let o=this._sanitizer.sanitize(V.RESOURCE_URL,r);if(!o)throw al(r);let a=this._inProgressUrlFetches.get(o);if(a)return a;let u=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(L(l=>ft(l)),Ft(()=>this._inProgressUrlFetches.delete(o)),yr());return this._inProgressUrlFetches.set(o,u),u}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(cl(e,r),i),this}_addSvgIconSetConfig(e,r){let i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){let r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){let s=this._resolvers[i](r,e);if(s)return ih(s)?new te(s.url,null,s.options):new te(s,null)}}static \u0275fac=function(r){return new(r||n)(T(bn,8),T(wn),T(P,8),T(ne))};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Nt(n){return n.cloneNode(!0)}function cl(n,t){return n+":"+t}function ih(n){return!!(n.url&&n.options)}var sh=["*"],oh=new S("MAT_ICON_DEFAULT_OPTIONS"),uh=new S("mat-icon-location",{providedIn:"root",factory:ah});function ah(){let n=C(P),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var pl=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],lh=pl.map(n=>`[${n}]`).join(", "),ch=/^url\(['"]?#(.*?)['"]?\)$/,Ry=(()=>{class n{_elementRef=C(Ne);_iconRegistry=C(fl);_location=C(uh);_errorHandler=C(ne);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=or.EMPTY;constructor(){let e=C(new Yr("aria-hidden"),{optional:!0}),r=C(oh,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=e.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(o=>{s.setAttribute(o.name,`url('${e}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(e){let r=e.querySelectorAll(lh),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)pl.forEach(o=>{let a=r[s],u=a.getAttribute(o),l=u?u.match(ch):null;if(l){let c=i.get(a);c||(c=[],i.set(a,c)),c.push({name:o,value:l[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(dr(1)).subscribe(s=>this._setSvgElement(s),s=>{let o=`Error retrieving icon ${r}:${i}! ${s.message}`;this._errorHandler.handleError(new Error(o))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=le({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(jr("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Br(i.color?"mat-"+i.color:""),qr("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",ti],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:sh,decls:1,vars:0,template:function(r,i){r&1&&(dt(),Ue(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})();export{Al as a,Id as b,Od as c,Ad as d,B as e,au as f,ku as g,Su as h,Lu as i,ua as j,aa as k,nt as l,Mn as m,_a as n,wf as o,La as p,Vn as q,Vf as r,Xf as s,Zf as t,mp as u,vp as v,Ep as w,bp as x,_p as y,wp as z,Pp as A,cy as B,sl as C,Qp as D,fy as E,Ry as F};
