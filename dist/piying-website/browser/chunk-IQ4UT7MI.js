import{h as N}from"./chunk-DX4ELQQY.js";import{Qa as k,Sa as M}from"./chunk-HKGO6R2O.js";import"./chunk-OACPY33P.js";import{$ as f,Ab as r,Bb as c,Fb as A,Hb as D,Hd as W,Jb as d,Lb as s,Pa as l,Vb as F,Xb as u,bb as b,ea as g,fa as _,fb as y,fc as R,gb as x,sa as h,sb as v,uc as m,wb as C,xb as I,yb as L,zb as T}from"./chunk-ODFYLKZL.js";var O=n=>({$implicit:n});function w(n,t){n&1&&A(0)}function S(n,t){if(n&1){let e=D();r(0,"div",1),x(1,w,1,0,"ng-container",3),r(2,"button",4),d("click",function(){let o=g(e).$index,a=s();return _(a.remove(o))}),r(3,"mat-icon"),u(4,"remove"),c()()()}if(n&2){let e=t.$implicit,i=t.$count,o=s();l(),T("ngTemplateOutlet",o.fieldTemplateRef())("ngTemplateOutletContext",R(5,O,e));let a=o.minLength()?i<=o.minLength():!1;l(),F("btn-disabled",a),v("aria-disabled",a?"true":"")}}var p=class n extends k{defaultLength=m();initItem=m();minLength=m();field=f(M);ngOnInit(){let t=Math.max(0,(this.defaultLength()||0)-(this.field().form.control.value||[]).length);for(let e=0;e<t;e++)this.field().action.set(this.initItem()?.(e),e)}remove(t){this.field().action.remove(t)}add(){this.field().action.set(this.initItem()?.(void 0))}static \u0275fac=(()=>{let t;return function(i){return(t||(t=h(n)))(i||n)}})();static \u0275cmp=b({type:n,selectors:[["array-rw"]],inputs:{defaultLength:[1,"defaultLength"],initItem:[1,"initItem"],minLength:[1,"minLength"]},features:[y],decls:6,vars:0,consts:[[1,"flex","flex-col","gap-2"],[1,"flex","items-center","gap-2","*:first:flex-1"],[1,"btn",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"btn","btn-circle","btn-soft","btn-error",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0),I(1,S,5,7,"div",1,C),r(3,"button",2),d("click",function(){return i.add()}),r(4,"mat-icon"),u(5,"add"),c()()()),e&2&&(l(),L(i.field().fieldArray()))},dependencies:[N,W],encapsulation:2})};export{p as default};
