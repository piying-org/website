import{$ as kt,$a as de,$b as En,A as Rr,Aa as fn,Ba as ke,Bb as yn,Bc as $t,C as $r,Ca as Te,Cc as Dt,D as Dr,Da as Gr,Db as j,Dc as Si,E as xr,Ea as zr,Eb as It,Ec as Ri,Fa as Hr,Fb as Je,Ga as Wr,H as Mr,Ha as Xr,Hc as $i,I as wt,Ia as Jr,Ic as wn,Ja as Yr,Jb as Re,Ka as U,Kb as mn,Lb as Ot,Mb as fi,N as Pr,Na as He,Nb as pi,O as on,Oa as We,Ob as hi,P as Nr,Pb as di,Q as jr,Ra as pn,Rb as yi,S as Ct,Sb as mi,Ta as Zr,Tb as At,U as P,Ub as vn,Vb as me,W as D,Wa as Kr,Wb as vi,Xa as Qr,Xb as gn,Y as S,Yb as ee,Z as I,Za as ei,_ as k,_a as ti,_b as ve,a as h,aa as Fr,ab as Xe,ac as gi,b as _,ba as W,bb as ni,c as kr,ca as Lr,cb as hn,d as Vl,db as Ie,dc as M,e as Tr,eb as ri,ec as g,f as Ul,fa as L,fb as ii,fc as $e,g as Ir,ga as N,gb as ye,gc as St,ha as he,hc as Rt,i as rn,ia as oe,ic as Ei,jb as si,jc as bi,kb as dn,kc as F,l as Or,la as un,lb as oi,lc as Ye,m as Ar,ma as A,mb as Oe,nb as Ae,nc as _i,oc as wi,pa as Vr,pc as Ci,q as H,qa as an,qb as ui,qc as ki,r as Sr,ra as Tt,rb as ai,rc as Ti,sb as ue,sc as bn,ta as Ge,tb as li,tc as Ze,u as V,ua as Ur,ub as ci,uc as Ii,v as sn,va as ln,vc as Oi,wa as qr,xa as ze,ya as cn,yb as Se,yc as Ai,za as Br,zc as _n}from"./chunk-FALGJD55.js";var dl=Vl((Fy,hl)=>{"use strict";hl.exports=gp;function Le(n){return n instanceof Buffer?Buffer.from(n):new n.constructor(n.buffer.slice(),n.byteOffset,n.length)}function gp(n){if(n=n||{},n.circles)return Ep(n);let t=new Map;if(t.set(Date,o=>new Date(o)),t.set(Map,(o,a)=>new Map(r(Array.from(o),a))),t.set(Set,(o,a)=>new Set(r(Array.from(o),a))),n.constructorHandlers)for(let o of n.constructorHandlers)t.set(o[0],o[1]);let e=null;return n.proto?s:i;function r(o,a){let u=Object.keys(o),l=new Array(u.length);for(let c=0;c<u.length;c++){let f=u[c],d=o[f];typeof d!="object"||d===null?l[f]=d:d.constructor!==Object&&(e=t.get(d.constructor))?l[f]=e(d,a):ArrayBuffer.isView(d)?l[f]=Le(d):l[f]=a(d)}return l}function i(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return r(o,i);if(o.constructor!==Object&&(e=t.get(o.constructor)))return e(o,i);let a={};for(let u in o){if(Object.hasOwnProperty.call(o,u)===!1)continue;let l=o[u];typeof l!="object"||l===null?a[u]=l:l.constructor!==Object&&(e=t.get(l.constructor))?a[u]=e(l,i):ArrayBuffer.isView(l)?a[u]=Le(l):a[u]=i(l)}return a}function s(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return r(o,s);if(o.constructor!==Object&&(e=t.get(o.constructor)))return e(o,s);let a={};for(let u in o){let l=o[u];typeof l!="object"||l===null?a[u]=l:l.constructor!==Object&&(e=t.get(l.constructor))?a[u]=e(l,s):ArrayBuffer.isView(l)?a[u]=Le(l):a[u]=s(l)}return a}}function Ep(n){let t=[],e=[],r=new Map;if(r.set(Date,u=>new Date(u)),r.set(Map,(u,l)=>new Map(s(Array.from(u),l))),r.set(Set,(u,l)=>new Set(s(Array.from(u),l))),n.constructorHandlers)for(let u of n.constructorHandlers)r.set(u[0],u[1]);let i=null;return n.proto?a:o;function s(u,l){let c=Object.keys(u),f=new Array(c.length);for(let d=0;d<c.length;d++){let v=c[d],E=u[v];if(typeof E!="object"||E===null)f[v]=E;else if(E.constructor!==Object&&(i=r.get(E.constructor)))f[v]=i(E,l);else if(ArrayBuffer.isView(E))f[v]=Le(E);else{let b=t.indexOf(E);b!==-1?f[v]=e[b]:f[v]=l(E)}}return f}function o(u){if(typeof u!="object"||u===null)return u;if(Array.isArray(u))return s(u,o);if(u.constructor!==Object&&(i=r.get(u.constructor)))return i(u,o);let l={};t.push(u),e.push(l);for(let c in u){if(Object.hasOwnProperty.call(u,c)===!1)continue;let f=u[c];if(typeof f!="object"||f===null)l[c]=f;else if(f.constructor!==Object&&(i=r.get(f.constructor)))l[c]=i(f,o);else if(ArrayBuffer.isView(f))l[c]=Le(f);else{let d=t.indexOf(f);d!==-1?l[c]=e[d]:l[c]=o(f)}}return t.pop(),e.pop(),l}function a(u){if(typeof u!="object"||u===null)return u;if(Array.isArray(u))return s(u,a);if(u.constructor!==Object&&(i=r.get(u.constructor)))return i(u,a);let l={};t.push(u),e.push(l);for(let c in u){let f=u[c];if(typeof f!="object"||f===null)l[c]=f;else if(f.constructor!==Object&&(i=r.get(f.constructor)))l[c]=i(f,a);else if(ArrayBuffer.isView(f))l[c]=Le(f);else{let d=t.indexOf(f);d!==-1?l[c]=e[d]:l[c]=a(f)}}return t.pop(),e.pop(),l}}});var Mt=new S(""),On=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,s){return this._findPluginFor(r).addEventListener(e,r,i,s)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new P(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(I(Mt),I(ye))};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})(),Ke=class{_doc;constructor(t){this._doc=t}manager},Cn="ng-app-id";function Di(n){for(let t of n)t.remove()}function xi(n,t){let e=t.createElement("style");return e.textContent=n,e}function ql(n,t,e,r){let i=n.head?.querySelectorAll(`style[${Cn}="${t}"],link[${Cn}="${t}"]`);if(i)for(let s of i)s.removeAttribute(Cn),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&e.set(s.textContent,{usage:0,elements:[s]})}function Tn(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var An=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,r,i,s={}){this.doc=e,this.appId=r,this.nonce=i,ql(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,xi);r?.forEach(i=>this.addUsage(i,this.external,Tn))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let s=r.get(e);s?s.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(Di(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Di(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,xi(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,Tn(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(I(N),I(ln),I(cn,8),I(ze))};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})(),kn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Sn=/%COMP%/g;var Pi="%COMP%",Bl=`_nghost-${Pi}`,Gl=`_ngcontent-${Pi}`,zl=!0,Hl=new S("",{providedIn:"root",factory:()=>zl});function Wl(n){return Gl.replace(Sn,n)}function Xl(n){return Bl.replace(Sn,n)}function Ni(n,t){return t.map(e=>e.replace(Sn,n))}var Rn=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,s,o,a,u,l=null,c=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=c,this.platformIsServer=!1,this.defaultRenderer=new Qe(e,o,u,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(e,r);return i instanceof xt?i.applyToHost(e):i instanceof et&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,f=this.platformIsServer,d=this.tracingService;switch(r.encapsulation){case fn.Emulated:s=new xt(u,l,r,this.appId,c,o,a,f,d);break;case fn.ShadowDom:return new In(u,l,e,r,o,a,this.nonce,f,d);default:s=new et(u,l,r,c,o,a,f,d);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(I(On),I(An),I(ln),I(Hl),I(N),I(ze),I(ye),I(cn),I(ri,8))};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})(),Qe=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i,s){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(kn[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Mi(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(Mi(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new P(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let s=kn[i];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=kn[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(We.DashCase|We.Important)?t.style.setProperty(e,r,i&We.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&We.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if(typeof t=="string"&&(t=Ze().getGlobalEventTarget(this.doc,t),!t))throw new P(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(t,e,s)),this.eventManager.addEventListener(t,e,s,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function Mi(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var In=class extends Qe{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,i,s,o,a,u,l){super(t,s,o,u,l),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=i.styles;c=Ni(i.id,c);for(let d of c){let v=document.createElement("style");a&&v.setAttribute("nonce",a),v.textContent=d,this.shadowRoot.appendChild(v)}let f=i.getExternalStyles?.();if(f)for(let d of f){let v=Tn(d,s);a&&v.setAttribute("nonce",a),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},et=class extends Qe{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,s,o,a,u,l){super(t,s,o,a,u),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let c=r.styles;this.styles=l?Ni(l,c):c,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},xt=class extends et{contentAttr;hostAttr;constructor(t,e,r,i,s,o,a,u,l){let c=i+"-"+r.id;super(t,e,r,s,o,a,u,l,c),this.contentAttr=Wl(c),this.hostAttr=Xl(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}};var Pt=class n extends Oi{supportsDOMEvents=!0;static makeCurrent(){Ii(new n)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Yl();return e==null?null:Zl(e)}resetBaseElement(){tt=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return $t(document.cookie,t)}},tt=null;function Yl(){return tt=tt||document.head.querySelector("base"),tt?tt.getAttribute("href"):null}function Zl(n){return new URL(n,document.baseURI).pathname}var Kl=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})(),Fi=(()=>{class n extends Ke{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,s){return e.addEventListener(r,i,s),()=>this.removeEventListener(e,r,i,s)}removeEventListener(e,r,i,s){return e.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(I(N))};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})(),ji=["alt","control","meta","shift"],Ql={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ec={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Li=(()=>{class n extends Ke{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ze().onAndCancel(e,o.domEventName,a,s))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),ji.forEach(l=>{let c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(e,r){let i=Ql[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(i=e.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ji.forEach(o=>{if(o!==i){let a=ec[o];a(e)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(e,r,i){return s=>{n.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(I(N))};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})();function tc(n,t){return _i(h({rootComponent:n},nc(t)))}function nc(n){return{appProviders:[...uc,...n?.providers??[]],platformProviders:oc}}function rc(){Pt.makeCurrent()}function ic(){return new oe}function sc(){return Ur(document),document}var oc=[{provide:ze,useValue:Si},{provide:qr,useValue:rc,multi:!0},{provide:N,useFactory:sc}];var uc=[{provide:Fr,useValue:"root"},{provide:oe,useFactory:ic},{provide:Mt,useClass:Fi,multi:!0,deps:[N]},{provide:Mt,useClass:Li,multi:!0,deps:[N]},Rn,An,On,{provide:Zr,useExisting:Rn},{provide:Dt,useClass:Kl},[]];var Me=class{},Pe=class{},X=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),s=e.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let i=(t.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let s=t.value;if(!s)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}addHeaderEntry(t,e){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(s=>s.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Ft=class{encodeKey(t){return Vi(t)}encodeValue(t){return Vi(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function ac(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],u=e.get(o)||[];u.push(a),e.set(o,u)}),e}var lc=/%(\d[a-f0-9])/gi,cc={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Vi(n){return encodeURIComponent(n).replace(lc,(t,e)=>cc[e]??t)}function Nt(n){return`${n}`}var te=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Ft,t.fromString){if(t.fromObject)throw new P(2805,!1);this.map=ac(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],i=Array.isArray(r)?r.map(Nt):[Nt(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Nt(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(Nt(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Lt=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function fc(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Ui(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function qi(n){return typeof Blob<"u"&&n instanceof Blob}function Bi(n){return typeof FormData<"u"&&n instanceof FormData}function pc(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var nt="Content-Type",Vt="Accept",jn="X-Request-URL",Hi="text/plain",Wi="application/json",Xi=`${Wi}, ${Hi}, */*`,xe=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,r,i){this.url=e,this.method=t.toUpperCase();let s;if(fc(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s){if(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,this.keepalive=!!s.keepalive,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),s.priority&&(this.priority=s.priority),s.cache&&(this.cache=s.cache),s.credentials&&(this.credentials=s.credentials),typeof s.timeout=="number"){if(s.timeout<1||!Number.isInteger(s.timeout))throw new Error("");this.timeout=s.timeout}s.mode&&(this.mode=s.mode),s.redirect&&(this.redirect=s.redirect),this.transferCache=s.transferCache}if(this.headers??=new X,this.context??=new Lt,!this.params)this.params=new te,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),u=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Ui(this.body)||qi(this.body)||Bi(this.body)||pc(this.body)?this.body:this.body instanceof te?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Bi(this.body)?null:qi(this.body)?this.body.type||null:Ui(this.body)?null:typeof this.body=="string"?Hi:this.body instanceof te?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Wi:null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=t.keepalive??this.keepalive,o=t.priority||this.priority,a=t.cache||this.cache,u=t.mode||this.mode,l=t.redirect||this.redirect,c=t.credentials||this.credentials,f=t.transferCache??this.transferCache,d=t.timeout??this.timeout,v=t.body!==void 0?t.body:this.body,E=t.withCredentials??this.withCredentials,b=t.reportProgress??this.reportProgress,m=t.headers||this.headers,w=t.params||this.params,R=t.context??this.context;return t.setHeaders!==void 0&&(m=Object.keys(t.setHeaders).reduce((C,T)=>C.set(T,t.setHeaders[T]),m)),t.setParams&&(w=Object.keys(t.setParams).reduce((C,T)=>C.set(T,t.setParams[T]),w)),new n(e,r,v,{params:w,headers:m,context:R,reportProgress:b,responseType:i,withCredentials:E,transferCache:f,keepalive:s,cache:a,priority:o,timeout:d,mode:u,redirect:l,credentials:c})}},ne=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ne||{}),Ne=class{headers;status;statusText;url;ok;type;constructor(t,e=200,r="OK"){this.headers=t.headers||new X,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},rt=class n extends Ne{constructor(t={}){super(t)}type=ne.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ge=class n extends Ne{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=ne.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Y=class extends Ne{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Ji=200,hc=204;function xn(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect}}var qt=(()=>{class n{handler;constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof xe)s=e;else{let u;i.headers instanceof X?u=i.headers:u=new X(i.headers);let l;i.params&&(i.params instanceof te?l=i.params:l=new te({fromObject:i.params})),s=new xe(e,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials})}let o=H(s).pipe(xr(u=>this.handler.handle(u)));if(e instanceof xe||i.observe==="events")return o;let a=o.pipe($r(u=>u instanceof ge));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(V(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new P(2806,!1);return u.body}));case"blob":return a.pipe(V(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new P(2807,!1);return u.body}));case"text":return a.pipe(V(u=>{if(u.body!==null&&typeof u.body!="string")throw new P(2808,!1);return u.body}));case"json":default:return a.pipe(V(u=>u.body))}case"response":return a;default:throw new P(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new te().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,xn(i,r))}post(e,r,i={}){return this.request("POST",e,xn(i,r))}put(e,r,i={}){return this.request("PUT",e,xn(i,r))}static \u0275fac=function(r){return new(r||n)(I(Me))};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})(),dc=/^\)\]\}',?\n/;function Gi(n){if(n.url)return n.url;let t=jn.toLocaleLowerCase();return n.headers.get(t)}var Yi=new S(""),jt=(()=>{class n{fetchImpl=k(Mn,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=k(ye);destroyRef=k(he);destroyed=!1;constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0})}handle(e){return new rn(r=>{let i=new AbortController;this.doRequest(e,i.signal,r).then(Pn,o=>r.error(new Y({error:o})));let s;return e.timeout&&(s=this.ngZone.runOutsideAngular(()=>setTimeout(()=>{i.signal.aborted||i.abort(new DOMException("signal timed out","TimeoutError"))},e.timeout))),()=>{s!==void 0&&clearTimeout(s),i.abort()}})}async doRequest(e,r,i){let s=this.createRequestInit(e),o;try{let v=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,h({signal:r},s)));yc(v),i.next({type:ne.Sent}),o=await v}catch(v){i.error(new Y({error:v,status:v.status??0,statusText:v.statusText,url:e.urlWithParams,headers:v.headers}));return}let a=new X(o.headers),u=o.statusText,l=Gi(o)??e.urlWithParams,c=o.status,f=null;if(e.reportProgress&&i.next(new rt({headers:a,status:c,statusText:u,url:l})),o.body){let v=o.headers.get("content-length"),E=[],b=o.body.getReader(),m=0,w,R,C=typeof Zone<"u"&&Zone.current,T=!1;if(await this.ngZone.runOutsideAngular(async()=>{for(;;){if(this.destroyed){await b.cancel(),T=!0;break}let{done:pe,value:Be}=await b.read();if(pe)break;if(E.push(Be),m+=Be.length,e.reportProgress){R=e.responseType==="text"?(R??"")+(w??=new TextDecoder).decode(Be,{stream:!0}):void 0;let Cr=()=>i.next({type:ne.DownloadProgress,total:v?+v:void 0,loaded:m,partialText:R});C?C.run(Cr):Cr()}}}),T){i.complete();return}let z=this.concatChunks(E,m);try{let pe=o.headers.get(nt)??"";f=this.parseBody(e,z,pe)}catch(pe){i.error(new Y({error:pe,headers:new X(o.headers),status:o.status,statusText:o.statusText,url:Gi(o)??e.urlWithParams}));return}}c===0&&(c=f?Ji:0),c>=200&&c<300?(i.next(new ge({body:f,headers:a,status:c,statusText:u,url:l})),i.complete()):i.error(new Y({error:f,headers:a,status:c,statusText:u,url:l}))}parseBody(e,r,i){switch(e.responseType){case"json":let s=new TextDecoder().decode(r).replace(dc,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(e){let r={},i;if(i=e.credentials,e.withCredentials&&(i="include"),e.headers.forEach((s,o)=>r[s]=o.join(",")),e.headers.has(Vt)||(r[Vt]=Xi),!e.headers.has(nt)){let s=e.detectContentTypeHeader();s!==null&&(r[nt]=s)}return{body:e.serializeBody(),method:e.method,headers:r,credentials:i,keepalive:e.keepalive,cache:e.cache,priority:e.priority,mode:e.mode,redirect:e.redirect}}concatChunks(e,r){let i=new Uint8Array(r),s=0;for(let o of e)i.set(o,s),s+=o.length;return i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})(),Mn=class{};function Pn(){}function yc(n){n.then(Pn,Pn)}function mc(n,t){return t(n)}function vc(n,t,e){return(r,i)=>Lr(e,()=>t(r,s=>n(s,i)))}var Zi=new S(""),Fn=new S(""),Ki=new S("",{providedIn:"root",factory:()=>!0});var Ut=(()=>{class n extends Me{backend;injector;chain=null;pendingTasks=k(Vr);contributeToStability=k(Ki);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Zi),...this.injector.get(Fn,[])]));this.chain=r.reduceRight((i,s)=>vc(i,s,this.injector),mc)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(wt(r))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(I(Pe),I(W))};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})();var gc=/^\)\]\}',?\n/,Ec=RegExp(`^${jn}:`,"m");function bc(n){return"responseURL"in n&&n.responseURL?n.responseURL:Ec.test(n.getAllResponseHeaders())?n.getResponseHeader(jn):null}var Nn=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new P(-2800,!1);let r=this.xhrFactory;return H(null).pipe(jr(()=>new rn(s=>{let o=r.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((m,w)=>o.setRequestHeader(m,w.join(","))),e.headers.has(Vt)||o.setRequestHeader(Vt,Xi),!e.headers.has(nt)){let m=e.detectContentTypeHeader();m!==null&&o.setRequestHeader(nt,m)}if(e.timeout&&(o.timeout=e.timeout),e.responseType){let m=e.responseType.toLowerCase();o.responseType=m!=="json"?m:"text"}let a=e.serializeBody(),u=null,l=()=>{if(u!==null)return u;let m=o.statusText||"OK",w=new X(o.getAllResponseHeaders()),R=bc(o)||e.url;return u=new rt({headers:w,status:o.status,statusText:m,url:R}),u},c=()=>{let{headers:m,status:w,statusText:R,url:C}=l(),T=null;w!==hc&&(T=typeof o.response>"u"?o.responseText:o.response),w===0&&(w=T?Ji:0);let z=w>=200&&w<300;if(e.responseType==="json"&&typeof T=="string"){let pe=T;T=T.replace(gc,"");try{T=T!==""?JSON.parse(T):null}catch(Be){T=pe,z&&(z=!1,T={error:Be,text:T})}}z?(s.next(new ge({body:T,headers:m,status:w,statusText:R,url:C||void 0})),s.complete()):s.error(new Y({error:T,headers:m,status:w,statusText:R,url:C||void 0}))},f=m=>{let{url:w}=l(),R=new Y({error:m,status:o.status||0,statusText:o.statusText||"Unknown Error",url:w||void 0});s.error(R)},d=f;e.timeout&&(d=m=>{let{url:w}=l(),R=new Y({error:new DOMException("Request timed out","TimeoutError"),status:o.status||0,statusText:o.statusText||"Request timeout",url:w||void 0});s.error(R)});let v=!1,E=m=>{v||(s.next(l()),v=!0);let w={type:ne.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(w.total=m.total),e.responseType==="text"&&o.responseText&&(w.partialText=o.responseText),s.next(w)},b=m=>{let w={type:ne.UploadProgress,loaded:m.loaded};m.lengthComputable&&(w.total=m.total),s.next(w)};return o.addEventListener("load",c),o.addEventListener("error",f),o.addEventListener("timeout",d),o.addEventListener("abort",f),e.reportProgress&&(o.addEventListener("progress",E),a!==null&&o.upload&&o.upload.addEventListener("progress",b)),o.send(a),s.next({type:ne.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",c),o.removeEventListener("timeout",d),e.reportProgress&&(o.removeEventListener("progress",E),a!==null&&o.upload&&o.upload.removeEventListener("progress",b)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(r){return new(r||n)(I(Dt))};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})(),Qi=new S(""),_c="XSRF-TOKEN",wc=new S("",{providedIn:"root",factory:()=>_c}),Cc="X-XSRF-TOKEN",kc=new S("",{providedIn:"root",factory:()=>Cc}),it=class{},Tc=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r){this.doc=e,this.cookieName=r}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=$t(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||n)(I(N),I(wc))};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})();function Ic(n,t){let e=n.url.toLowerCase();if(!k(Qi)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let r=k(it).getToken(),i=k(kc);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),t(n)}var Ln=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Ln||{});function Oc(n,t){return{\u0275kind:n,\u0275providers:t}}function Ac(...n){let t=[qt,Nn,Ut,{provide:Me,useExisting:Ut},{provide:Pe,useFactory:()=>k(Yi,{optional:!0})??k(Nn)},{provide:Zi,useValue:Ic,multi:!0},{provide:Qi,useValue:!0},{provide:it,useClass:Tc}];for(let e of n)t.push(...e.\u0275providers);return kt(t)}function Sc(){return Oc(Ln.Fetch,[jt,{provide:Yi,useExisting:jt},{provide:Pe,useExisting:jt}])}var Rc=new S(""),$c="b",Dc="h",xc="s",Mc="st",Pc="u",Nc="rt",Vn=new S(""),jc=["GET","HEAD"];function Fc(n,t){let v=k(Vn),{isCacheActive:e}=v,r=kr(v,["isCacheActive"]),{transferCache:i,method:s}=n;if(!e||i===!1||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!jc.includes(s)||!r.includeRequestsWithAuthHeaders&&Lc(n)||r.filter?.(n)===!1)return t(n);let o=k(Br);if(k(Rc,{optional:!0}))throw new P(2803,!1);let u=n.url,l=Vc(n,u),c=o.get(l,null),f=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(f=i.includeHeaders),c){let{[$c]:E,[Nc]:b,[Dc]:m,[xc]:w,[Mc]:R,[Pc]:C}=c,T=E;switch(b){case"arraybuffer":T=new TextEncoder().encode(E).buffer;break;case"blob":T=new Blob([E]);break}let z=new X(m);return H(new ge({body:T,headers:z,status:w,statusText:R,url:C}))}return t(n)}function Lc(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function es(n){return[...n.keys()].sort().map(t=>`${t}=${n.getAll(t)}`).join("&")}function Vc(n,t){let{params:e,method:r,responseType:i}=n,s=es(e),o=n.serializeBody();o instanceof URLSearchParams?o=es(o):typeof o!="string"&&(o="");let a=[r,i,t,o,s].join("|"),u=Uc(a);return u}function Uc(n){let t=0;for(let e of n)t=Math.imul(31,t)+e.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function ts(n){return[{provide:Vn,useFactory:()=>(Qr("NgHttpTransferCache"),h({isCacheActive:!0},n))},{provide:Fn,useValue:Fc,multi:!0},{provide:si,multi:!0,useFactory:()=>{let t=k(dn),e=k(Vn);return()=>{t.whenStable().then(()=>{e.isCacheActive=!1})}}}]}var ky=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(I(N))};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Un=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=I(Gc),i},providedIn:"root"})}return n})(),Gc=(()=>{class n extends Un{_doc;constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case U.NONE:return r;case U.HTML:return Te(r,"HTML")?ke(r):Yr(this._doc,String(r)).toString();case U.STYLE:return Te(r,"Style")?ke(r):r;case U.SCRIPT:if(Te(r,"Script"))return ke(r);throw new P(5200,!1);case U.URL:return Te(r,"URL")?ke(r):Jr(String(r));case U.RESOURCE_URL:if(Te(r,"ResourceURL"))return ke(r);throw new P(5201,!1);default:throw new P(5202,!1)}}bypassSecurityTrustHtml(e){return Gr(e)}bypassSecurityTrustStyle(e){return zr(e)}bypassSecurityTrustScript(e){return Hr(e)}bypassSecurityTrustUrl(e){return Wr(e)}bypassSecurityTrustResourceUrl(e){return Xr(e)}static \u0275fac=function(r){return new(r||n)(I(N))};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bt=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n[n.IncrementalHydration=4]="IncrementalHydration",n}(Bt||{});function zc(n,t=[],e={}){return{\u0275kind:n,\u0275providers:t}}function Ty(){return zc(Bt.EventReplay,wi())}function Iy(...n){let t=[],e=new Set;for(let{\u0275providers:i,\u0275kind:s}of n)e.add(s),i.length&&t.push(i);let r=e.has(Bt.HttpTransferCacheOptions);return kt([[],Ci(),e.has(Bt.NoHttpTransferCache)||r?[]:ts({}),t])}var Wc=Object.getOwnPropertyNames,Xc=Object.getOwnPropertySymbols,Jc=Object.prototype.hasOwnProperty;function ns(n,t){return function(r,i,s){return n(r,i,s)&&t(r,i,s)}}function Gt(n){return function(e,r,i){if(!e||!r||typeof e!="object"||typeof r!="object")return n(e,r,i);var s=i.cache,o=s.get(e),a=s.get(r);if(o&&a)return o===r&&a===e;s.set(e,r),s.set(r,e);var u=n(e,r,i);return s.delete(e),s.delete(r),u}}function rs(n){return Wc(n).concat(Xc(n))}var Yc=Object.hasOwn||function(n,t){return Jc.call(n,t)};function Ee(n,t){return n===t||!n&&!t&&n!==n&&t!==t}var Zc="__v",Kc="__o",Qc="_owner",is=Object.getOwnPropertyDescriptor,ss=Object.keys;function ef(n,t,e){var r=n.length;if(t.length!==r)return!1;for(;r-- >0;)if(!e.equals(n[r],t[r],r,r,n,t,e))return!1;return!0}function tf(n,t){return Ee(n.getTime(),t.getTime())}function nf(n,t){return n.name===t.name&&n.message===t.message&&n.cause===t.cause&&n.stack===t.stack}function rf(n,t){return n===t}function os(n,t,e){var r=n.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),s=n.entries(),o,a,u=0;(o=s.next())&&!o.done;){for(var l=t.entries(),c=!1,f=0;(a=l.next())&&!a.done;){if(i[f]){f++;continue}var d=o.value,v=a.value;if(e.equals(d[0],v[0],u,f,n,t,e)&&e.equals(d[1],v[1],d[0],v[0],n,t,e)){c=i[f]=!0;break}f++}if(!c)return!1;u++}return!0}var sf=Ee;function of(n,t,e){var r=ss(n),i=r.length;if(ss(t).length!==i)return!1;for(;i-- >0;)if(!cs(n,t,e,r[i]))return!1;return!0}function st(n,t,e){var r=rs(n),i=r.length;if(rs(t).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=r[i],!cs(n,t,e,s)||(o=is(n,s),a=is(t,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function uf(n,t){return Ee(n.valueOf(),t.valueOf())}function af(n,t){return n.source===t.source&&n.flags===t.flags}function us(n,t,e){var r=n.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),s=n.values(),o,a;(o=s.next())&&!o.done;){for(var u=t.values(),l=!1,c=0;(a=u.next())&&!a.done;){if(!i[c]&&e.equals(o.value,a.value,o.value,a.value,n,t,e)){l=i[c]=!0;break}c++}if(!l)return!1}return!0}function lf(n,t){var e=n.length;if(t.length!==e)return!1;for(;e-- >0;)if(n[e]!==t[e])return!1;return!0}function cf(n,t){return n.hostname===t.hostname&&n.pathname===t.pathname&&n.protocol===t.protocol&&n.port===t.port&&n.hash===t.hash&&n.username===t.username&&n.password===t.password}function cs(n,t,e,r){return(r===Qc||r===Kc||r===Zc)&&(n.$$typeof||t.$$typeof)?!0:Yc(t,r)&&e.equals(n[r],t[r],r,r,n,t,e)}var ff="[object Arguments]",pf="[object Boolean]",hf="[object Date]",df="[object Error]",yf="[object Map]",mf="[object Number]",vf="[object Object]",gf="[object RegExp]",Ef="[object Set]",bf="[object String]",_f="[object URL]",wf=Array.isArray,as=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,ls=Object.assign,Cf=Object.prototype.toString.call.bind(Object.prototype.toString);function kf(n){var t=n.areArraysEqual,e=n.areDatesEqual,r=n.areErrorsEqual,i=n.areFunctionsEqual,s=n.areMapsEqual,o=n.areNumbersEqual,a=n.areObjectsEqual,u=n.arePrimitiveWrappersEqual,l=n.areRegExpsEqual,c=n.areSetsEqual,f=n.areTypedArraysEqual,d=n.areUrlsEqual;return function(E,b,m){if(E===b)return!0;if(E==null||b==null)return!1;var w=typeof E;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?o(E,b,m):w==="function"?i(E,b,m):!1;var R=E.constructor;if(R!==b.constructor)return!1;if(R===Object)return a(E,b,m);if(wf(E))return t(E,b,m);if(as!=null&&as(E))return f(E,b,m);if(R===Date)return e(E,b,m);if(R===RegExp)return l(E,b,m);if(R===Map)return s(E,b,m);if(R===Set)return c(E,b,m);var C=Cf(E);return C===hf?e(E,b,m):C===gf?l(E,b,m):C===yf?s(E,b,m):C===Ef?c(E,b,m):C===vf?typeof E.then!="function"&&typeof b.then!="function"&&a(E,b,m):C===_f?d(E,b,m):C===df?r(E,b,m):C===ff?a(E,b,m):C===pf||C===mf||C===bf?u(E,b,m):!1}}function Tf(n){var t=n.circular,e=n.createCustomConfig,r=n.strict,i={areArraysEqual:r?st:ef,areDatesEqual:tf,areErrorsEqual:nf,areFunctionsEqual:rf,areMapsEqual:r?ns(os,st):os,areNumbersEqual:sf,areObjectsEqual:r?st:of,arePrimitiveWrappersEqual:uf,areRegExpsEqual:af,areSetsEqual:r?ns(us,st):us,areTypedArraysEqual:r?st:lf,areUrlsEqual:cf};if(e&&(i=ls({},i,e(i))),t){var s=Gt(i.areArraysEqual),o=Gt(i.areMapsEqual),a=Gt(i.areObjectsEqual),u=Gt(i.areSetsEqual);i=ls({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:u})}return i}function If(n){return function(t,e,r,i,s,o,a){return n(t,e,a)}}function Of(n){var t=n.circular,e=n.comparator,r=n.createState,i=n.equals,s=n.strict;if(r)return function(u,l){var c=r(),f=c.cache,d=f===void 0?t?new WeakMap:void 0:f,v=c.meta;return e(u,l,{cache:d,equals:i,meta:v,strict:s})};if(t)return function(u,l){return e(u,l,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(u,l){return e(u,l,o)}}var B=ae(),Ay=ae({strict:!0}),Sy=ae({circular:!0}),Ry=ae({circular:!0,strict:!0}),$y=ae({createInternalComparator:function(){return Ee}}),Dy=ae({strict:!0,createInternalComparator:function(){return Ee}}),xy=ae({circular:!0,createInternalComparator:function(){return Ee}}),My=ae({circular:!0,createInternalComparator:function(){return Ee},strict:!0});function ae(n){n===void 0&&(n={});var t=n.circular,e=t===void 0?!1:t,r=n.createInternalComparator,i=n.createState,s=n.strict,o=s===void 0?!1:s,a=Tf(n),u=kf(a),l=r?r(u):If(u);return Of({circular:e,comparator:u,createState:i,equals:l,strict:o})}var fh={};Tr(fh,{AbstractControl:()=>Ve,CoreSchemaHandle:()=>qe,FieldArray:()=>Ue,FieldControl:()=>yt,FieldGroup:()=>gt,FieldLogicGroup:()=>mt,FormBuilder:()=>Et,INVALID:()=>Ce,NFCSchema:()=>ch,PENDING:()=>J,PI_FORM_BUILDER_ALIAS_MAP:()=>cr,PI_FORM_BUILDER_OPTIONS_TOKEN:()=>hr,PI_VIEW_CONFIG_TOKEN:()=>bt,SortedArray:()=>dt,VALID:()=>ht,arrayStartsWith:()=>ar,asControl:()=>nr,asVirtualGroup:()=>sr,changeObject:()=>or,clone:()=>fr,componentClass:()=>lh,condition:()=>ir,convert:()=>mr,disableWhen:()=>uh,effectListen:()=>_l,formConfig:()=>eh,getDefaults:()=>Z,getSchemaByIssuePath:()=>Yt,getSchemaMetadata:()=>ml,hideWhen:()=>oh,isArray:()=>dr,isFieldArray:()=>wl,isFieldControl:()=>Op,isFieldGroup:()=>Ip,isFieldLogicGroup:()=>vt,isGroup:()=>Kt,layout:()=>kl,mergeHooks:()=>xp,mergeHooksFn:()=>Q,mergeOutputFn:()=>yr,mergeOutputs:()=>Hp,nonFieldControl:()=>Il,outputChange:()=>Wp,outputChangeFn:()=>Tl,patchAsyncInputs:()=>Vp,patchAttributes:()=>nh,patchHooks:()=>$p,patchInputs:()=>Fp,patchInputsSignal:()=>Up,patchOutputs:()=>Bp,patchWrappers:()=>Yp,rawConfig:()=>O,removeAttributes:()=>rh,removeHooks:()=>Mp,removeInputs:()=>Lp,removeOutputs:()=>Gp,removeWrappers:()=>Zp,renderConfig:()=>Qp,setAlias:()=>Kp,setAttributes:()=>th,setComponent:()=>Sp,setHooks:()=>Rp,setInputs:()=>jp,setOutputs:()=>qp,setWrappers:()=>Xp,toArray:()=>pr,toObservable:()=>lr,topClass:()=>ah,unWrapSignal:()=>K,valueChange:()=>sh,valueChangeFn:()=>en});var pl={};Tr(pl,{BASE64_REGEX:()=>vs,BIC_REGEX:()=>gs,CUID2_REGEX:()=>Es,DECIMAL_REGEX:()=>bs,DIGITS_REGEX:()=>_s,EMAIL_REGEX:()=>ws,EMOJI_REGEX:()=>Cs,HEXADECIMAL_REGEX:()=>ks,HEX_COLOR_REGEX:()=>Ts,IMEI_REGEX:()=>Is,IPV4_REGEX:()=>Os,IPV6_REGEX:()=>As,IP_REGEX:()=>Ss,ISO_DATE_REGEX:()=>Rs,ISO_DATE_TIME_REGEX:()=>$s,ISO_TIMESTAMP_REGEX:()=>Ms,ISO_TIME_REGEX:()=>Ds,ISO_TIME_SECOND_REGEX:()=>xs,ISO_WEEK_REGEX:()=>Ps,MAC48_REGEX:()=>Ns,MAC64_REGEX:()=>js,MAC_REGEX:()=>Fs,NANO_ID_REGEX:()=>Ls,OCTAL_REGEX:()=>Vs,RFC_EMAIL_REGEX:()=>Us,SLUG_REGEX:()=>qs,ULID_REGEX:()=>Bs,UUID_REGEX:()=>Gs,ValiError:()=>re,_addIssue:()=>p,_getByteCount:()=>lt,_getGraphemeCount:()=>ct,_getLastMetadata:()=>Wt,_getStandardProps:()=>y,_getWordCount:()=>ft,_isLuhnAlgo:()=>Xn,_isValidObjectKey:()=>_e,_joinExpects:()=>G,_stringify:()=>$,any:()=>Zu,args:()=>ds,argsAsync:()=>ys,array:()=>Ku,arrayAsync:()=>Qu,assert:()=>Hf,awaitAsync:()=>ms,base64:()=>zs,bic:()=>Hs,bigint:()=>ea,blob:()=>ta,boolean:()=>na,brand:()=>Ws,bytes:()=>Xs,check:()=>Js,checkAsync:()=>Ys,checkItems:()=>Zs,checkItemsAsync:()=>Ks,config:()=>Wf,creditCard:()=>Qs,cuid2:()=>eo,custom:()=>ra,customAsync:()=>ia,date:()=>sa,decimal:()=>to,deleteGlobalConfig:()=>Sf,deleteGlobalMessage:()=>$f,deleteSchemaMessage:()=>xf,deleteSpecificMessage:()=>Pf,description:()=>no,digits:()=>ro,email:()=>io,emoji:()=>so,empty:()=>oo,endsWith:()=>uo,entries:()=>ao,entriesFromList:()=>jf,entriesFromObjects:()=>Ff,enum:()=>oa,enum_:()=>oa,everyItem:()=>lo,exactOptional:()=>ua,exactOptionalAsync:()=>aa,excludes:()=>co,fallback:()=>Xf,fallbackAsync:()=>Jf,file:()=>la,filterItems:()=>fo,findItem:()=>po,finite:()=>ho,flatten:()=>Yf,flavor:()=>yo,forward:()=>Zf,forwardAsync:()=>Kf,function:()=>ca,function_:()=>ca,getDefault:()=>x,getDefaults:()=>Gn,getDefaultsAsync:()=>zn,getDescription:()=>Qf,getDotPath:()=>Jn,getFallback:()=>q,getFallbacks:()=>Hn,getFallbacksAsync:()=>Wn,getGlobalConfig:()=>Fe,getGlobalMessage:()=>fs,getMetadata:()=>ep,getSchemaMessage:()=>ps,getSpecificMessage:()=>hs,getTitle:()=>tp,graphemes:()=>mo,gtValue:()=>vo,hash:()=>go,hexColor:()=>bo,hexadecimal:()=>Eo,imei:()=>_o,includes:()=>wo,instance:()=>fa,integer:()=>Co,intersect:()=>pa,intersectAsync:()=>ha,ip:()=>ko,ipv4:()=>To,ipv6:()=>Io,is:()=>np,isOfKind:()=>Lf,isOfType:()=>Vf,isValiError:()=>Uf,isoDate:()=>Oo,isoDateTime:()=>Ao,isoTime:()=>So,isoTimeSecond:()=>Ro,isoTimestamp:()=>$o,isoWeek:()=>Do,keyof:()=>rp,lazy:()=>da,lazyAsync:()=>ya,length:()=>xo,literal:()=>ma,looseObject:()=>va,looseObjectAsync:()=>ga,looseTuple:()=>Ea,looseTupleAsync:()=>ba,ltValue:()=>Mo,mac:()=>Po,mac48:()=>No,mac64:()=>jo,map:()=>_a,mapAsync:()=>wa,mapItems:()=>Fo,maxBytes:()=>Lo,maxEntries:()=>Vo,maxGraphemes:()=>Uo,maxLength:()=>qo,maxSize:()=>Bo,maxValue:()=>Go,maxWords:()=>zo,message:()=>ip,metadata:()=>Ho,mimeType:()=>Wo,minBytes:()=>Xo,minEntries:()=>Jo,minGraphemes:()=>Yo,minLength:()=>Zo,minSize:()=>Ko,minValue:()=>Qo,minWords:()=>eu,multipleOf:()=>tu,nan:()=>Ca,nanoid:()=>nu,never:()=>ka,nonEmpty:()=>ru,nonNullable:()=>Ta,nonNullableAsync:()=>Ia,nonNullish:()=>Oa,nonNullishAsync:()=>Aa,nonOptional:()=>Yn,nonOptionalAsync:()=>Zn,normalize:()=>iu,notBytes:()=>su,notEntries:()=>ou,notGraphemes:()=>uu,notLength:()=>au,notSize:()=>lu,notValue:()=>cu,notValues:()=>fu,notWords:()=>pu,null:()=>Sa,null_:()=>Sa,nullable:()=>Ra,nullableAsync:()=>$a,nullish:()=>Da,nullishAsync:()=>xa,number:()=>Ma,object:()=>Pa,objectAsync:()=>Na,objectWithRest:()=>ja,objectWithRestAsync:()=>Fa,octal:()=>hu,omit:()=>sp,optional:()=>pt,optionalAsync:()=>Kn,parse:()=>al,parseAsync:()=>ll,parseJson:()=>du,parser:()=>op,parserAsync:()=>up,partial:()=>ap,partialAsync:()=>lp,partialCheck:()=>mu,partialCheckAsync:()=>vu,pick:()=>cp,picklist:()=>Qn,pipe:()=>fp,pipeAsync:()=>pp,promise:()=>La,rawCheck:()=>gu,rawCheckAsync:()=>Eu,rawTransform:()=>bu,rawTransformAsync:()=>_u,readonly:()=>wu,record:()=>Va,recordAsync:()=>Ua,reduceItems:()=>Cu,regex:()=>ku,required:()=>hp,requiredAsync:()=>dp,returns:()=>Tu,returnsAsync:()=>Iu,rfcEmail:()=>Ou,safeInteger:()=>Au,safeParse:()=>cl,safeParseAsync:()=>fl,safeParser:()=>er,safeParserAsync:()=>yp,set:()=>qa,setAsync:()=>Ba,setGlobalConfig:()=>Af,setGlobalMessage:()=>Rf,setSchemaMessage:()=>Df,setSpecificMessage:()=>Mf,size:()=>Su,slug:()=>Ru,someItem:()=>$u,sortItems:()=>Du,startsWith:()=>xu,strictObject:()=>Ga,strictObjectAsync:()=>za,strictTuple:()=>Ha,strictTupleAsync:()=>Wa,string:()=>Xa,stringifyJson:()=>Mu,summarize:()=>mp,symbol:()=>Ja,title:()=>Pu,toLowerCase:()=>Nu,toMaxValue:()=>ju,toMinValue:()=>Fu,toUpperCase:()=>Lu,transform:()=>Vu,transformAsync:()=>Uu,trim:()=>qu,trimEnd:()=>Bu,trimStart:()=>Gu,tuple:()=>Ya,tupleAsync:()=>Za,tupleWithRest:()=>Ka,tupleWithRestAsync:()=>Qa,ulid:()=>zu,undefined:()=>el,undefined_:()=>el,undefinedable:()=>tl,undefinedableAsync:()=>nl,union:()=>rl,unionAsync:()=>il,unknown:()=>sl,unwrap:()=>vp,url:()=>Hu,uuid:()=>Wu,value:()=>Xu,values:()=>Ju,variant:()=>ol,variantAsync:()=>ul,void:()=>Xt,void_:()=>Xt,words:()=>Yu});var je;function Af(n){je=h(h({},je),n)}function Fe(n){return{lang:n?.lang??je?.lang,message:n?.message,abortEarly:n?.abortEarly??je?.abortEarly,abortPipeEarly:n?.abortPipeEarly??je?.abortPipeEarly}}function Sf(){je=void 0}var ut;function Rf(n,t){ut||(ut=new Map),ut.set(t,n)}function fs(n){return ut?.get(n)}function $f(n){ut?.delete(n)}var at;function Df(n,t){at||(at=new Map),at.set(t,n)}function ps(n){return at?.get(n)}function xf(n){at?.delete(n)}var be;function Mf(n,t,e){be||(be=new Map),be.get(n)||be.set(n,new Map),be.get(n).set(e,t)}function hs(n,t){return be?.get(n)?.get(t)}function Pf(n,t){be?.get(n)?.delete(t)}function $(n){let t=typeof n;return t==="string"?`"${n}"`:t==="number"||t==="bigint"||t==="boolean"?`${n}`:t==="object"||t==="function"?(n&&Object.getPrototypeOf(n)?.constructor?.name)??"null":t}function p(n,t,e,r,i){let s=i&&"input"in i?i.input:e.value,o=i?.expected??n.expects??null,a=i?.received??$(s),u={kind:n.kind,type:n.type,input:s,expected:o,received:a,message:`Invalid ${t}: ${o?`Expected ${o} but r`:"R"}eceived ${a}`,requirement:n.requirement,path:i?.path,issues:i?.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},l=n.kind==="schema",c=i?.message??n.message??hs(n.reference,u.lang)??(l?ps(u.lang):null)??r.message??fs(u.lang);c!==void 0&&(u.message=typeof c=="function"?c(u):c),l&&(e.typed=!1),e.issues?e.issues.push(u):e.issues=[u]}var qn;function lt(n){return qn||(qn=new TextEncoder),qn.encode(n).length}var Bn;function ct(n){Bn||(Bn=new Intl.Segmenter);let t=Bn.segment(n),e=0;for(let r of t)e++;return e}function Wt(n,t){if("pipe"in n){let e=[];for(let r=n.pipe.length-1;r>=0;r--){let i=n.pipe[r];if(i.kind==="schema"&&"pipe"in i)e.push(i);else if(i.kind==="metadata"&&i.type===t)return i[t]}for(let r of e){let i=Wt(r,t);if(i!==void 0)return i}}}function y(n){return{version:1,vendor:"valibot",validate(t){return n["~run"]({value:t},Fe())}}}var ot;function ft(n,t){ot||(ot=new Map),ot.get(n)||ot.set(n,new Intl.Segmenter(n,{granularity:"word"}));let e=ot.get(n).segment(t),r=0;for(let i of e)i.isWordLike&&r++;return r}var Nf=/\D/gu;function Xn(n){let t=n.replace(Nf,""),e=t.length,r=1,i=0;for(;e;){let s=+t[--e];r^=1,i+=r?[0,2,4,6,8,1,3,5,7,9][s]:s}return i%10===0}function _e(n,t){return Object.hasOwn(n,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function G(n,t){let e=[...new Set(n)];return e.length>1?`(${e.join(` ${t} `)})`:e[0]??"never"}function jf(n,t){let e={};for(let r of n)e[r]=t;return e}function Ff(n){let t={};for(let e of n)Object.assign(t,e.entries);return t}function Jn(n){if(n.path){let t="";for(let e of n.path)if(typeof e.key=="string"||typeof e.key=="number")t?t+=`.${e.key}`:t+=e.key;else return null;return t}return null}function Lf(n,t){return t.kind===n}function Vf(n,t){return t.type===n}function Uf(n){return n instanceof re}var re=class extends Error{constructor(n){super(n[0].message),this.name="ValiError",this.issues=n}};function ds(n){return{kind:"transformation",type:"args",reference:ds,async:!1,schema:n,"~run"(t,e){let r=t.value;return t.value=(...i)=>{let s=this.schema["~run"]({value:i},e);if(s.issues)throw new re(s.issues);return r(...s.value)},t}}}function ys(n){return{kind:"transformation",type:"args",reference:ys,async:!1,schema:n,"~run"(t,e){let r=t.value;return t.value=async(...i)=>{let s=await n["~run"]({value:i},e);if(s.issues)throw new re(s.issues);return r(...s.value)},t}}}function ms(){return{kind:"transformation",type:"await",reference:ms,async:!0,async"~run"(n){return n.value=await n.value,n}}}var vs=/^(?:[\da-z+/]{4})*(?:[\da-z+/]{2}==|[\da-z+/]{3}=)?$/iu,gs=/^[A-Z]{6}(?!00)[\dA-Z]{2}(?:[\dA-Z]{3})?$/u,Es=/^[a-z][\da-z]*$/u,bs=/^[+-]?(?:\d*\.)?\d+$/u,_s=/^\d+$/u,ws=/^[\w+-]+(?:\.[\w+-]+)*@[\da-z]+(?:[.-][\da-z]+)*\.[a-z]{2,}$/iu,Cs=new RegExp("^(?:[\\u{1F1E6}-\\u{1F1FF}]{2}|\\u{1F3F4}[\\u{E0061}-\\u{E007A}]{2}[\\u{E0030}-\\u{E0039}\\u{E0061}-\\u{E007A}]{1,3}\\u{E007F}|(?:\\p{Emoji}\\uFE0F\\u20E3?|\\p{Emoji_Modifier_Base}\\p{Emoji_Modifier}?|\\p{Emoji_Presentation})(?:\\u200D(?:\\p{Emoji}\\uFE0F\\u20E3?|\\p{Emoji_Modifier_Base}\\p{Emoji_Modifier}?|\\p{Emoji_Presentation}))*)+$","u"),ks=/^(?:0[hx])?[\da-fA-F]+$/u,Ts=/^#(?:[\da-fA-F]{3,4}|[\da-fA-F]{6}|[\da-fA-F]{8})$/u,Is=/^\d{15}$|^\d{2}-\d{6}-\d{6}-\d$/u,Os=/^(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])(?:\.(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])){3}$/u,As=/^(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:|(?:[\da-f]{1,4}:){1,6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,5}(?::[\da-f]{1,4}){1,2}|(?:[\da-f]{1,4}:){1,4}(?::[\da-f]{1,4}){1,3}|(?:[\da-f]{1,4}:){1,3}(?::[\da-f]{1,4}){1,4}|(?:[\da-f]{1,4}:){1,2}(?::[\da-f]{1,4}){1,5}|[\da-f]{1,4}:(?::[\da-f]{1,4}){1,6}|:(?:(?::[\da-f]{1,4}){1,7}|:)|fe80:(?::[\da-f]{0,4}){0,4}%[\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d)|(?:[\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d))$/iu,Ss=/^(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])(?:\.(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])){3}$|^(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:|(?:[\da-f]{1,4}:){1,6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,5}(?::[\da-f]{1,4}){1,2}|(?:[\da-f]{1,4}:){1,4}(?::[\da-f]{1,4}){1,3}|(?:[\da-f]{1,4}:){1,3}(?::[\da-f]{1,4}){1,4}|(?:[\da-f]{1,4}:){1,2}(?::[\da-f]{1,4}){1,5}|[\da-f]{1,4}:(?::[\da-f]{1,4}){1,6}|:(?:(?::[\da-f]{1,4}){1,7}|:)|fe80:(?::[\da-f]{0,4}){0,4}%[\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d)|(?:[\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d))$/iu,Rs=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])$/u,$s=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])[T ](?:0\d|1\d|2[0-3]):[0-5]\d$/u,Ds=/^(?:0\d|1\d|2[0-3]):[0-5]\d$/u,xs=/^(?:0\d|1\d|2[0-3])(?::[0-5]\d){2}$/u,Ms=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])[T ](?:0\d|1\d|2[0-3])(?::[0-5]\d){2}(?:\.\d{1,9})?(?:Z|[+-](?:0\d|1\d|2[0-3])(?::?[0-5]\d)?)$/u,Ps=/^\d{4}-W(?:0[1-9]|[1-4]\d|5[0-3])$/u,Ns=/^(?:[\da-f]{2}:){5}[\da-f]{2}$|^(?:[\da-f]{2}-){5}[\da-f]{2}$|^(?:[\da-f]{4}\.){2}[\da-f]{4}$/iu,js=/^(?:[\da-f]{2}:){7}[\da-f]{2}$|^(?:[\da-f]{2}-){7}[\da-f]{2}$|^(?:[\da-f]{4}\.){3}[\da-f]{4}$|^(?:[\da-f]{4}:){3}[\da-f]{4}$/iu,Fs=/^(?:[\da-f]{2}:){5}[\da-f]{2}$|^(?:[\da-f]{2}-){5}[\da-f]{2}$|^(?:[\da-f]{4}\.){2}[\da-f]{4}$|^(?:[\da-f]{2}:){7}[\da-f]{2}$|^(?:[\da-f]{2}-){7}[\da-f]{2}$|^(?:[\da-f]{4}\.){3}[\da-f]{4}$|^(?:[\da-f]{4}:){3}[\da-f]{4}$/iu,Ls=/^[\w-]+$/u,Vs=/^(?:0o)?[0-7]+$/u,Us=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,qs=/^[\da-z]+(?:[-_][\da-z]+)*$/u,Bs=/^[\da-hjkmnp-tv-zA-HJKMNP-TV-Z]{26}$/u,Gs=/^[\da-f]{8}(?:-[\da-f]{4}){3}-[\da-f]{12}$/iu;function zs(n){return{kind:"validation",type:"base64",reference:zs,async:!1,expects:null,requirement:vs,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"Base64",t,e),t}}}function Hs(n){return{kind:"validation",type:"bic",reference:Hs,async:!1,expects:null,requirement:gs,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"BIC",t,e),t}}}function Ws(n){return{kind:"transformation",type:"brand",reference:Ws,async:!1,name:n,"~run"(t){return t}}}function Xs(n,t){return{kind:"validation",type:"bytes",reference:Xs,async:!1,expects:`${n}`,requirement:n,message:t,"~run"(e,r){if(e.typed){let i=lt(e.value);i!==this.requirement&&p(this,"bytes",e,r,{received:`${i}`})}return e}}}function Js(n,t){return{kind:"validation",type:"check",reference:Js,async:!1,expects:null,requirement:n,message:t,"~run"(e,r){return e.typed&&!this.requirement(e.value)&&p(this,"input",e,r),e}}}function Ys(n,t){return{kind:"validation",type:"check",reference:Ys,async:!0,expects:null,requirement:n,message:t,async"~run"(e,r){return e.typed&&!await this.requirement(e.value)&&p(this,"input",e,r),e}}}function Zs(n,t){return{kind:"validation",type:"check_items",reference:Zs,async:!1,expects:null,requirement:n,message:t,"~run"(e,r){if(e.typed)for(let i=0;i<e.value.length;i++){let s=e.value[i];this.requirement(s,i,e.value)||p(this,"item",e,r,{input:s,path:[{type:"array",origin:"value",input:e.value,key:i,value:s}]})}return e}}}function Ks(n,t){return{kind:"validation",type:"check_items",reference:Ks,async:!0,expects:null,requirement:n,message:t,async"~run"(e,r){if(e.typed){let i=await Promise.all(e.value.map(this.requirement));for(let s=0;s<e.value.length;s++)if(!i[s]){let o=e.value[s];p(this,"item",e,r,{input:o,path:[{type:"array",origin:"value",input:e.value,key:s,value:o}]})}}return e}}}var qf=/^(?:\d{14,19}|\d{4}(?: \d{3,6}){2,4}|\d{4}(?:-\d{3,6}){2,4})$/u,Bf=/[- ]/gu,Gf=[/^3[47]\d{13}$/u,/^3(?:0[0-5]|[68]\d)\d{11,13}$/u,/^6(?:011|5\d{2})\d{12,15}$/u,/^(?:2131|1800|35\d{3})\d{11}$/u,/^5[1-5]\d{2}|(?:222\d|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720)\d{12}$/u,/^(?:6[27]\d{14,17}|81\d{14,17})$/u,/^4\d{12}(?:\d{3,6})?$/u];function Qs(n){return{kind:"validation",type:"credit_card",reference:Qs,async:!1,expects:null,requirement(t){let e;return qf.test(t)&&(e=t.replace(Bf,""))&&Gf.some(r=>r.test(e))&&Xn(e)},message:n,"~run"(t,e){return t.typed&&!this.requirement(t.value)&&p(this,"credit card",t,e),t}}}function eo(n){return{kind:"validation",type:"cuid2",reference:eo,async:!1,expects:null,requirement:Es,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"Cuid2",t,e),t}}}function to(n){return{kind:"validation",type:"decimal",reference:to,async:!1,expects:null,requirement:bs,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"decimal",t,e),t}}}function no(n){return{kind:"metadata",type:"description",reference:no,description:n}}function ro(n){return{kind:"validation",type:"digits",reference:ro,async:!1,expects:null,requirement:_s,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"digits",t,e),t}}}function io(n){return{kind:"validation",type:"email",reference:io,expects:null,async:!1,requirement:ws,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"email",t,e),t}}}function so(n){return{kind:"validation",type:"emoji",reference:so,async:!1,expects:null,requirement:Cs,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"emoji",t,e),t}}}function oo(n){return{kind:"validation",type:"empty",reference:oo,async:!1,expects:"0",message:n,"~run"(t,e){return t.typed&&t.value.length>0&&p(this,"length",t,e,{received:`${t.value.length}`}),t}}}function uo(n,t){return{kind:"validation",type:"ends_with",reference:uo,async:!1,expects:`"${n}"`,requirement:n,message:t,"~run"(e,r){return e.typed&&!e.value.endsWith(this.requirement)&&p(this,"end",e,r,{received:`"${e.value.slice(-this.requirement.length)}"`}),e}}}function ao(n,t){return{kind:"validation",type:"entries",reference:ao,async:!1,expects:`${n}`,requirement:n,message:t,"~run"(e,r){if(!e.typed)return e;let i=Object.keys(e.value).length;return e.typed&&i!==this.requirement&&p(this,"entries",e,r,{received:`${i}`}),e}}}function lo(n,t){return{kind:"validation",type:"every_item",reference:lo,async:!1,expects:null,requirement:n,message:t,"~run"(e,r){return e.typed&&!e.value.every(this.requirement)&&p(this,"item",e,r),e}}}function co(n,t){let e=$(n);return{kind:"validation",type:"excludes",reference:co,async:!1,expects:`!${e}`,requirement:n,message:t,"~run"(r,i){return r.typed&&r.value.includes(this.requirement)&&p(this,"content",r,i,{received:e}),r}}}function fo(n){return{kind:"transformation",type:"filter_items",reference:fo,async:!1,operation:n,"~run"(t){return t.value=t.value.filter(this.operation),t}}}function po(n){return{kind:"transformation",type:"find_item",reference:po,async:!1,operation:n,"~run"(t){return t.value=t.value.find(this.operation),t}}}function ho(n){return{kind:"validation",type:"finite",reference:ho,async:!1,expects:null,requirement:Number.isFinite,message:n,"~run"(t,e){return t.typed&&!this.requirement(t.value)&&p(this,"finite",t,e),t}}}function yo(n){return{kind:"transformation",type:"flavor",reference:yo,async:!1,name:n,"~run"(t){return t}}}function mo(n,t){return{kind:"validation",type:"graphemes",reference:mo,async:!1,expects:`${n}`,requirement:n,message:t,"~run"(e,r){if(e.typed){let i=ct(e.value);i!==this.requirement&&p(this,"graphemes",e,r,{received:`${i}`})}return e}}}function vo(n,t){return{kind:"validation",type:"gt_value",reference:vo,async:!1,expects:`>${n instanceof Date?n.toJSON():$(n)}`,requirement:n,message:t,"~run"(e,r){return e.typed&&!(e.value>this.requirement)&&p(this,"value",e,r,{received:e.value instanceof Date?e.value.toJSON():$(e.value)}),e}}}var zf={md4:32,md5:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8,adler32:8};function go(n,t){return{kind:"validation",type:"hash",reference:go,expects:null,async:!1,requirement:RegExp(n.map(e=>`^[a-f0-9]{${zf[e]}}$`).join("|"),"iu"),message:t,"~run"(e,r){return e.typed&&!this.requirement.test(e.value)&&p(this,"hash",e,r),e}}}function Eo(n){return{kind:"validation",type:"hexadecimal",reference:Eo,async:!1,expects:null,requirement:ks,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"hexadecimal",t,e),t}}}function bo(n){return{kind:"validation",type:"hex_color",reference:bo,async:!1,expects:null,requirement:Ts,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"hex color",t,e),t}}}function _o(n){return{kind:"validation",type:"imei",reference:_o,async:!1,expects:null,requirement(t){return Is.test(t)&&Xn(t)},message:n,"~run"(t,e){return t.typed&&!this.requirement(t.value)&&p(this,"IMEI",t,e),t}}}function wo(n,t){let e=$(n);return{kind:"validation",type:"includes",reference:wo,async:!1,expects:e,requirement:n,message:t,"~run"(r,i){return r.typed&&!r.value.includes(this.requirement)&&p(this,"content",r,i,{received:`!${e}`}),r}}}function Co(n){return{kind:"validation",type:"integer",reference:Co,async:!1,expects:null,requirement:Number.isInteger,message:n,"~run"(t,e){return t.typed&&!this.requirement(t.value)&&p(this,"integer",t,e),t}}}function ko(n){return{kind:"validation",type:"ip",reference:ko,async:!1,expects:null,requirement:Ss,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"IP",t,e),t}}}function To(n){return{kind:"validation",type:"ipv4",reference:To,async:!1,expects:null,requirement:Os,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"IPv4",t,e),t}}}function Io(n){return{kind:"validation",type:"ipv6",reference:Io,async:!1,expects:null,requirement:As,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"IPv6",t,e),t}}}function Oo(n){return{kind:"validation",type:"iso_date",reference:Oo,async:!1,expects:null,requirement:Rs,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"date",t,e),t}}}function Ao(n){return{kind:"validation",type:"iso_date_time",reference:Ao,async:!1,expects:null,requirement:$s,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"date-time",t,e),t}}}function So(n){return{kind:"validation",type:"iso_time",reference:So,async:!1,expects:null,requirement:Ds,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"time",t,e),t}}}function Ro(n){return{kind:"validation",type:"iso_time_second",reference:Ro,async:!1,expects:null,requirement:xs,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"time-second",t,e),t}}}function $o(n){return{kind:"validation",type:"iso_timestamp",reference:$o,async:!1,expects:null,requirement:Ms,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"timestamp",t,e),t}}}function Do(n){return{kind:"validation",type:"iso_week",reference:Do,async:!1,expects:null,requirement:Ps,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"week",t,e),t}}}function xo(n,t){return{kind:"validation",type:"length",reference:xo,async:!1,expects:`${n}`,requirement:n,message:t,"~run"(e,r){return e.typed&&e.value.length!==this.requirement&&p(this,"length",e,r,{received:`${e.value.length}`}),e}}}function Mo(n,t){return{kind:"validation",type:"lt_value",reference:Mo,async:!1,expects:`<${n instanceof Date?n.toJSON():$(n)}`,requirement:n,message:t,"~run"(e,r){return e.typed&&!(e.value<this.requirement)&&p(this,"value",e,r,{received:e.value instanceof Date?e.value.toJSON():$(e.value)}),e}}}function Po(n){return{kind:"validation",type:"mac",reference:Po,async:!1,expects:null,requirement:Fs,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"MAC",t,e),t}}}function No(n){return{kind:"validation",type:"mac48",reference:No,async:!1,expects:null,requirement:Ns,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"48-bit MAC",t,e),t}}}function jo(n){return{kind:"validation",type:"mac64",reference:jo,async:!1,expects:null,requirement:js,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"64-bit MAC",t,e),t}}}function Fo(n){return{kind:"transformation",type:"map_items",reference:Fo,async:!1,operation:n,"~run"(t){return t.value=t.value.map(this.operation),t}}}function Lo(n,t){return{kind:"validation",type:"max_bytes",reference:Lo,async:!1,expects:`<=${n}`,requirement:n,message:t,"~run"(e,r){if(e.typed){let i=lt(e.value);i>this.requirement&&p(this,"bytes",e,r,{received:`${i}`})}return e}}}function Vo(n,t){return{kind:"validation",type:"max_entries",reference:Vo,async:!1,expects:`<=${n}`,requirement:n,message:t,"~run"(e,r){if(!e.typed)return e;let i=Object.keys(e.value).length;return e.typed&&i>this.requirement&&p(this,"entries",e,r,{received:`${i}`}),e}}}function Uo(n,t){return{kind:"validation",type:"max_graphemes",reference:Uo,async:!1,expects:`<=${n}`,requirement:n,message:t,"~run"(e,r){if(e.typed){let i=ct(e.value);i>this.requirement&&p(this,"graphemes",e,r,{received:`${i}`})}return e}}}function qo(n,t){return{kind:"validation",type:"max_length",reference:qo,async:!1,expects:`<=${n}`,requirement:n,message:t,"~run"(e,r){return e.typed&&e.value.length>this.requirement&&p(this,"length",e,r,{received:`${e.value.length}`}),e}}}function Bo(n,t){return{kind:"validation",type:"max_size",reference:Bo,async:!1,expects:`<=${n}`,requirement:n,message:t,"~run"(e,r){return e.typed&&e.value.size>this.requirement&&p(this,"size",e,r,{received:`${e.value.size}`}),e}}}function Go(n,t){return{kind:"validation",type:"max_value",reference:Go,async:!1,expects:`<=${n instanceof Date?n.toJSON():$(n)}`,requirement:n,message:t,"~run"(e,r){return e.typed&&!(e.value<=this.requirement)&&p(this,"value",e,r,{received:e.value instanceof Date?e.value.toJSON():$(e.value)}),e}}}function zo(n,t,e){return{kind:"validation",type:"max_words",reference:zo,async:!1,expects:`<=${t}`,locales:n,requirement:t,message:e,"~run"(r,i){if(r.typed){let s=ft(this.locales,r.value);s>this.requirement&&p(this,"words",r,i,{received:`${s}`})}return r}}}function Ho(n){return{kind:"metadata",type:"metadata",reference:Ho,metadata:n}}function Wo(n,t){return{kind:"validation",type:"mime_type",reference:Wo,async:!1,expects:G(n.map(e=>`"${e}"`),"|"),requirement:n,message:t,"~run"(e,r){return e.typed&&!this.requirement.includes(e.value.type)&&p(this,"MIME type",e,r,{received:`"${e.value.type}"`}),e}}}function Xo(n,t){return{kind:"validation",type:"min_bytes",reference:Xo,async:!1,expects:`>=${n}`,requirement:n,message:t,"~run"(e,r){if(e.typed){let i=lt(e.value);i<this.requirement&&p(this,"bytes",e,r,{received:`${i}`})}return e}}}function Jo(n,t){return{kind:"validation",type:"min_entries",reference:Jo,async:!1,expects:`>=${n}`,requirement:n,message:t,"~run"(e,r){if(!e.typed)return e;let i=Object.keys(e.value).length;return e.typed&&i<this.requirement&&p(this,"entries",e,r,{received:`${i}`}),e}}}function Yo(n,t){return{kind:"validation",type:"min_graphemes",reference:Yo,async:!1,expects:`>=${n}`,requirement:n,message:t,"~run"(e,r){if(e.typed){let i=ct(e.value);i<this.requirement&&p(this,"graphemes",e,r,{received:`${i}`})}return e}}}function Zo(n,t){return{kind:"validation",type:"min_length",reference:Zo,async:!1,expects:`>=${n}`,requirement:n,message:t,"~run"(e,r){return e.typed&&e.value.length<this.requirement&&p(this,"length",e,r,{received:`${e.value.length}`}),e}}}function Ko(n,t){return{kind:"validation",type:"min_size",reference:Ko,async:!1,expects:`>=${n}`,requirement:n,message:t,"~run"(e,r){return e.typed&&e.value.size<this.requirement&&p(this,"size",e,r,{received:`${e.value.size}`}),e}}}function Qo(n,t){return{kind:"validation",type:"min_value",reference:Qo,async:!1,expects:`>=${n instanceof Date?n.toJSON():$(n)}`,requirement:n,message:t,"~run"(e,r){return e.typed&&!(e.value>=this.requirement)&&p(this,"value",e,r,{received:e.value instanceof Date?e.value.toJSON():$(e.value)}),e}}}function eu(n,t,e){return{kind:"validation",type:"min_words",reference:eu,async:!1,expects:`>=${t}`,locales:n,requirement:t,message:e,"~run"(r,i){if(r.typed){let s=ft(this.locales,r.value);s<this.requirement&&p(this,"words",r,i,{received:`${s}`})}return r}}}function tu(n,t){return{kind:"validation",type:"multiple_of",reference:tu,async:!1,expects:`%${n}`,requirement:n,message:t,"~run"(e,r){return e.typed&&e.value%this.requirement!=0&&p(this,"multiple",e,r),e}}}function nu(n){return{kind:"validation",type:"nanoid",reference:nu,async:!1,expects:null,requirement:Ls,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"Nano ID",t,e),t}}}function ru(n){return{kind:"validation",type:"non_empty",reference:ru,async:!1,expects:"!0",message:n,"~run"(t,e){return t.typed&&t.value.length===0&&p(this,"length",t,e,{received:"0"}),t}}}function iu(n){return{kind:"transformation",type:"normalize",reference:iu,async:!1,form:n,"~run"(t){return t.value=t.value.normalize(this.form),t}}}function su(n,t){return{kind:"validation",type:"not_bytes",reference:su,async:!1,expects:`!${n}`,requirement:n,message:t,"~run"(e,r){if(e.typed){let i=lt(e.value);i===this.requirement&&p(this,"bytes",e,r,{received:`${i}`})}return e}}}function ou(n,t){return{kind:"validation",type:"not_entries",reference:ou,async:!1,expects:`!${n}`,requirement:n,message:t,"~run"(e,r){if(!e.typed)return e;let i=Object.keys(e.value).length;return e.typed&&i===this.requirement&&p(this,"entries",e,r,{received:`${i}`}),e}}}function uu(n,t){return{kind:"validation",type:"not_graphemes",reference:uu,async:!1,expects:`!${n}`,requirement:n,message:t,"~run"(e,r){if(e.typed){let i=ct(e.value);i===this.requirement&&p(this,"graphemes",e,r,{received:`${i}`})}return e}}}function au(n,t){return{kind:"validation",type:"not_length",reference:au,async:!1,expects:`!${n}`,requirement:n,message:t,"~run"(e,r){return e.typed&&e.value.length===this.requirement&&p(this,"length",e,r,{received:`${e.value.length}`}),e}}}function lu(n,t){return{kind:"validation",type:"not_size",reference:lu,async:!1,expects:`!${n}`,requirement:n,message:t,"~run"(e,r){return e.typed&&e.value.size===this.requirement&&p(this,"size",e,r,{received:`${e.value.size}`}),e}}}function cu(n,t){return{kind:"validation",type:"not_value",reference:cu,async:!1,expects:n instanceof Date?`!${n.toJSON()}`:`!${$(n)}`,requirement:n,message:t,"~run"(e,r){return e.typed&&this.requirement<=e.value&&this.requirement>=e.value&&p(this,"value",e,r,{received:e.value instanceof Date?e.value.toJSON():$(e.value)}),e}}}function fu(n,t){return{kind:"validation",type:"not_values",reference:fu,async:!1,expects:`!${G(n.map(e=>e instanceof Date?e.toJSON():$(e)),"|")}`,requirement:n,message:t,"~run"(e,r){return e.typed&&this.requirement.some(i=>i<=e.value&&i>=e.value)&&p(this,"value",e,r,{received:e.value instanceof Date?e.value.toJSON():$(e.value)}),e}}}function pu(n,t,e){return{kind:"validation",type:"not_words",reference:pu,async:!1,expects:`!${t}`,locales:n,requirement:t,message:e,"~run"(r,i){if(r.typed){let s=ft(this.locales,r.value);s===this.requirement&&p(this,"words",r,i,{received:`${s}`})}return r}}}function hu(n){return{kind:"validation",type:"octal",reference:hu,async:!1,expects:null,requirement:Vs,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"octal",t,e),t}}}function du(n,t){return{kind:"transformation",type:"parse_json",reference:du,config:n,message:t,async:!1,"~run"(e,r){try{e.value=JSON.parse(e.value,this.config?.reviver)}catch(i){if(i instanceof Error)p(this,"JSON",e,r,{received:`"${i.message}"`}),e.typed=!1;else throw i}return e}}}function yu(n,t){if(n.issues)for(let e of t)for(let r of n.issues){let i=!1,s=Math.min(e.length,r.path?.length??0);for(let o=0;o<s;o++)if(e[o]!==r.path[o].key&&(e[o]!=="$"||r.path[o].type!=="array")){i=!0;break}if(!i)return!1}return!0}function mu(n,t,e){return{kind:"validation",type:"partial_check",reference:mu,async:!1,expects:null,paths:n,requirement:t,message:e,"~run"(r,i){return(r.typed||yu(r,n))&&!this.requirement(r.value)&&p(this,"input",r,i),r}}}function vu(n,t,e){return{kind:"validation",type:"partial_check",reference:vu,async:!0,expects:null,paths:n,requirement:t,message:e,async"~run"(r,i){return(r.typed||yu(r,n))&&!await this.requirement(r.value)&&p(this,"input",r,i),r}}}function gu(n){return{kind:"validation",type:"raw_check",reference:gu,async:!1,expects:null,"~run"(t,e){return n({dataset:t,config:e,addIssue:r=>p(this,r?.label??"input",t,e,r)}),t}}}function Eu(n){return{kind:"validation",type:"raw_check",reference:Eu,async:!0,expects:null,async"~run"(t,e){return await n({dataset:t,config:e,addIssue:r=>p(this,r?.label??"input",t,e,r)}),t}}}function bu(n){return{kind:"transformation",type:"raw_transform",reference:bu,async:!1,"~run"(t,e){let r=n({dataset:t,config:e,addIssue:i=>p(this,i?.label??"input",t,e,i),NEVER:null});return t.issues?t.typed=!1:t.value=r,t}}}function _u(n){return{kind:"transformation",type:"raw_transform",reference:_u,async:!0,async"~run"(t,e){let r=await n({dataset:t,config:e,addIssue:i=>p(this,i?.label??"input",t,e,i),NEVER:null});return t.issues?t.typed=!1:t.value=r,t}}}function wu(){return{kind:"transformation",type:"readonly",reference:wu,async:!1,"~run"(n){return n}}}function Cu(n,t){return{kind:"transformation",type:"reduce_items",reference:Cu,async:!1,operation:n,initial:t,"~run"(e){return e.value=e.value.reduce(this.operation,this.initial),e}}}function ku(n,t){return{kind:"validation",type:"regex",reference:ku,async:!1,expects:`${n}`,requirement:n,message:t,"~run"(e,r){return e.typed&&!this.requirement.test(e.value)&&p(this,"format",e,r),e}}}function Tu(n){return{kind:"transformation",type:"returns",reference:Tu,async:!1,schema:n,"~run"(t,e){let r=t.value;return t.value=(...i)=>{let s=this.schema["~run"]({value:r(...i)},e);if(s.issues)throw new re(s.issues);return s.value},t}}}function Iu(n){return{kind:"transformation",type:"returns",reference:Iu,async:!1,schema:n,"~run"(t,e){let r=t.value;return t.value=async(...i)=>{let s=await this.schema["~run"]({value:await r(...i)},e);if(s.issues)throw new re(s.issues);return s.value},t}}}function Ou(n){return{kind:"validation",type:"rfc_email",reference:Ou,expects:null,async:!1,requirement:Us,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"email",t,e),t}}}function Au(n){return{kind:"validation",type:"safe_integer",reference:Au,async:!1,expects:null,requirement:Number.isSafeInteger,message:n,"~run"(t,e){return t.typed&&!this.requirement(t.value)&&p(this,"safe integer",t,e),t}}}function Su(n,t){return{kind:"validation",type:"size",reference:Su,async:!1,expects:`${n}`,requirement:n,message:t,"~run"(e,r){return e.typed&&e.value.size!==this.requirement&&p(this,"size",e,r,{received:`${e.value.size}`}),e}}}function Ru(n){return{kind:"validation",type:"slug",reference:Ru,async:!1,expects:null,requirement:qs,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"slug",t,e),t}}}function $u(n,t){return{kind:"validation",type:"some_item",reference:$u,async:!1,expects:null,requirement:n,message:t,"~run"(e,r){return e.typed&&!e.value.some(this.requirement)&&p(this,"item",e,r),e}}}function Du(n){return{kind:"transformation",type:"sort_items",reference:Du,async:!1,operation:n,"~run"(t){return t.value=t.value.sort(this.operation),t}}}function xu(n,t){return{kind:"validation",type:"starts_with",reference:xu,async:!1,expects:`"${n}"`,requirement:n,message:t,"~run"(e,r){return e.typed&&!e.value.startsWith(this.requirement)&&p(this,"start",e,r,{received:`"${e.value.slice(0,this.requirement.length)}"`}),e}}}function Mu(n,t){return{kind:"transformation",type:"stringify_json",reference:Mu,message:t,config:n,async:!1,"~run"(e,r){try{let i=JSON.stringify(e.value,this.config?.replacer,this.config?.space);i===void 0&&(p(this,"JSON",e,r),e.typed=!1),e.value=i}catch(i){if(i instanceof Error)p(this,"JSON",e,r,{received:`"${i.message}"`}),e.typed=!1;else throw i}return e}}}function Pu(n){return{kind:"metadata",type:"title",reference:Pu,title:n}}function Nu(){return{kind:"transformation",type:"to_lower_case",reference:Nu,async:!1,"~run"(n){return n.value=n.value.toLowerCase(),n}}}function ju(n){return{kind:"transformation",type:"to_max_value",reference:ju,async:!1,requirement:n,"~run"(t){return t.value=t.value>this.requirement?this.requirement:t.value,t}}}function Fu(n){return{kind:"transformation",type:"to_min_value",reference:Fu,async:!1,requirement:n,"~run"(t){return t.value=t.value<this.requirement?this.requirement:t.value,t}}}function Lu(){return{kind:"transformation",type:"to_upper_case",reference:Lu,async:!1,"~run"(n){return n.value=n.value.toUpperCase(),n}}}function Vu(n){return{kind:"transformation",type:"transform",reference:Vu,async:!1,operation:n,"~run"(t){return t.value=this.operation(t.value),t}}}function Uu(n){return{kind:"transformation",type:"transform",reference:Uu,async:!0,operation:n,async"~run"(t){return t.value=await this.operation(t.value),t}}}function qu(){return{kind:"transformation",type:"trim",reference:qu,async:!1,"~run"(n){return n.value=n.value.trim(),n}}}function Bu(){return{kind:"transformation",type:"trim_end",reference:Bu,async:!1,"~run"(n){return n.value=n.value.trimEnd(),n}}}function Gu(){return{kind:"transformation",type:"trim_start",reference:Gu,async:!1,"~run"(n){return n.value=n.value.trimStart(),n}}}function zu(n){return{kind:"validation",type:"ulid",reference:zu,async:!1,expects:null,requirement:Bs,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"ULID",t,e),t}}}function Hu(n){return{kind:"validation",type:"url",reference:Hu,async:!1,expects:null,requirement(t){try{return new URL(t),!0}catch{return!1}},message:n,"~run"(t,e){return t.typed&&!this.requirement(t.value)&&p(this,"URL",t,e),t}}}function Wu(n){return{kind:"validation",type:"uuid",reference:Wu,async:!1,expects:null,requirement:Gs,message:n,"~run"(t,e){return t.typed&&!this.requirement.test(t.value)&&p(this,"UUID",t,e),t}}}function Xu(n,t){return{kind:"validation",type:"value",reference:Xu,async:!1,expects:n instanceof Date?n.toJSON():$(n),requirement:n,message:t,"~run"(e,r){return e.typed&&!(this.requirement<=e.value&&this.requirement>=e.value)&&p(this,"value",e,r,{received:e.value instanceof Date?e.value.toJSON():$(e.value)}),e}}}function Ju(n,t){return{kind:"validation",type:"values",reference:Ju,async:!1,expects:`${G(n.map(e=>e instanceof Date?e.toJSON():$(e)),"|")}`,requirement:n,message:t,"~run"(e,r){return e.typed&&!this.requirement.some(i=>i<=e.value&&i>=e.value)&&p(this,"value",e,r,{received:e.value instanceof Date?e.value.toJSON():$(e.value)}),e}}}function Yu(n,t,e){return{kind:"validation",type:"words",reference:Yu,async:!1,expects:`${t}`,locales:n,requirement:t,message:e,"~run"(r,i){if(r.typed){let s=ft(this.locales,r.value);s!==this.requirement&&p(this,"words",r,i,{received:`${s}`})}return r}}}function Hf(n,t){let e=n["~run"]({value:t},{abortEarly:!0}).issues;if(e)throw new re(e)}function Wf(n,t){return _(h({},n),{get"~standard"(){return y(this)},"~run"(e,r){return n["~run"](e,h(h({},r),t))}})}function q(n,t,e){return typeof n.fallback=="function"?n.fallback(t,e):n.fallback}function Xf(n,t){return _(h({},n),{fallback:t,get"~standard"(){return y(this)},"~run"(e,r){let i=n["~run"](e,r);return i.issues?{typed:!0,value:q(this,i,r)}:i}})}function Jf(n,t){return _(h({},n),{fallback:t,async:!0,get"~standard"(){return y(this)},async"~run"(e,r){let i=await n["~run"](e,r);return i.issues?{typed:!0,value:await q(this,i,r)}:i}})}function Yf(n){let t={};for(let e of n)if(e.path){let r=Jn(e);r?(t.nested||(t.nested={}),t.nested[r]?t.nested[r].push(e.message):t.nested[r]=[e.message]):t.other?t.other.push(e.message):t.other=[e.message]}else t.root?t.root.push(e.message):t.root=[e.message];return t}function Zf(n,t){return _(h({},n),{"~run"(e,r){let i=e.issues&&[...e.issues];if(e=n["~run"](e,r),e.issues){for(let s of e.issues)if(!i?.includes(s)){let o=e.value;for(let a of t){let u=o[a],l={type:"unknown",origin:"value",input:o,key:a,value:u};if(s.path?s.path.push(l):s.path=[l],!u)break;o=u}}}return e}})}function Kf(n,t){return _(h({},n),{async:!0,async"~run"(e,r){let i=e.issues&&[...e.issues];if(e=await n["~run"](e,r),e.issues){for(let s of e.issues)if(!i?.includes(s)){let o=e.value;for(let a of t){let u=o[a],l={type:"unknown",origin:"value",input:o,key:a,value:u};if(s.path?s.path.push(l):s.path=[l],!u)break;o=u}}}return e}})}function x(n,t,e){return typeof n.default=="function"?n.default(t,e):n.default}function Gn(n){if("entries"in n){let t={};for(let e in n.entries)t[e]=Gn(n.entries[e]);return t}return"items"in n?n.items.map(Gn):x(n)}async function zn(n){return"entries"in n?Object.fromEntries(await Promise.all(Object.entries(n.entries).map(async([t,e])=>[t,await zn(e)]))):"items"in n?Promise.all(n.items.map(zn)):x(n)}function Qf(n){return Wt(n,"description")}function Hn(n){if("entries"in n){let t={};for(let e in n.entries)t[e]=Hn(n.entries[e]);return t}return"items"in n?n.items.map(Hn):q(n)}async function Wn(n){return"entries"in n?Object.fromEntries(await Promise.all(Object.entries(n.entries).map(async([t,e])=>[t,await Wn(e)]))):"items"in n?Promise.all(n.items.map(Wn)):q(n)}function ep(n){let t={};function e(r){if("pipe"in r)for(let i of r.pipe)i.kind==="schema"&&"pipe"in i?e(i):i.kind==="metadata"&&i.type==="metadata"&&Object.assign(t,i.metadata)}return e(n),t}function tp(n){return Wt(n,"title")}function np(n,t){return!n["~run"]({value:t},{abortEarly:!0}).issues}function Zu(){return{kind:"schema",type:"any",reference:Zu,expects:"any",async:!1,get"~standard"(){return y(this)},"~run"(n){return n.typed=!0,n}}}function Ku(n,t){return{kind:"schema",type:"array",reference:Ku,expects:"Array",async:!1,item:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){let i=e.value;if(Array.isArray(i)){e.typed=!0,e.value=[];for(let s=0;s<i.length;s++){let o=i[s],a=this.item["~run"]({value:o},r);if(a.issues){let u={type:"array",origin:"value",input:i,key:s,value:o};for(let l of a.issues)l.path?l.path.unshift(u):l.path=[u],e.issues?.push(l);if(e.issues||(e.issues=a.issues),r.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value.push(a.value)}}else p(this,"type",e,r);return e}}}function Qu(n,t){return{kind:"schema",type:"array",reference:Qu,expects:"Array",async:!0,item:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){let i=e.value;if(Array.isArray(i)){e.typed=!0,e.value=[];let s=await Promise.all(i.map(o=>this.item["~run"]({value:o},r)));for(let o=0;o<s.length;o++){let a=s[o];if(a.issues){let u={type:"array",origin:"value",input:i,key:o,value:i[o]};for(let l of a.issues)l.path?l.path.unshift(u):l.path=[u],e.issues?.push(l);if(e.issues||(e.issues=a.issues),r.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value.push(a.value)}}else p(this,"type",e,r);return e}}}function ea(n){return{kind:"schema",type:"bigint",reference:ea,expects:"bigint",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return typeof t.value=="bigint"?t.typed=!0:p(this,"type",t,e),t}}}function ta(n){return{kind:"schema",type:"blob",reference:ta,expects:"Blob",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return t.value instanceof Blob?t.typed=!0:p(this,"type",t,e),t}}}function na(n){return{kind:"schema",type:"boolean",reference:na,expects:"boolean",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return typeof t.value=="boolean"?t.typed=!0:p(this,"type",t,e),t}}}function ra(n,t){return{kind:"schema",type:"custom",reference:ra,expects:"unknown",async:!1,check:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){return this.check(e.value)?e.typed=!0:p(this,"type",e,r),e}}}function ia(n,t){return{kind:"schema",type:"custom",reference:ia,expects:"unknown",async:!0,check:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){return await this.check(e.value)?e.typed=!0:p(this,"type",e,r),e}}}function sa(n){return{kind:"schema",type:"date",reference:sa,expects:"Date",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return t.value instanceof Date?isNaN(t.value)?p(this,"type",t,e,{received:'"Invalid Date"'}):t.typed=!0:p(this,"type",t,e),t}}}function oa(n,t){let e=[];for(let r in n)(`${+r}`!==r||typeof n[r]!="string"||!Object.is(n[n[r]],+r))&&e.push(n[r]);return{kind:"schema",type:"enum",reference:oa,expects:G(e.map($),"|"),async:!1,enum:n,options:e,message:t,get"~standard"(){return y(this)},"~run"(r,i){return this.options.includes(r.value)?r.typed=!0:p(this,"type",r,i),r}}}function ua(n,t){return{kind:"schema",type:"exact_optional",reference:ua,expects:n.expects,async:!1,wrapped:n,default:t,get"~standard"(){return y(this)},"~run"(e,r){return this.wrapped["~run"](e,r)}}}function aa(n,t){return{kind:"schema",type:"exact_optional",reference:aa,expects:n.expects,async:!0,wrapped:n,default:t,get"~standard"(){return y(this)},async"~run"(e,r){return this.wrapped["~run"](e,r)}}}function la(n){return{kind:"schema",type:"file",reference:la,expects:"File",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return t.value instanceof File?t.typed=!0:p(this,"type",t,e),t}}}function ca(n){return{kind:"schema",type:"function",reference:ca,expects:"Function",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return typeof t.value=="function"?t.typed=!0:p(this,"type",t,e),t}}}function fa(n,t){return{kind:"schema",type:"instance",reference:fa,expects:n.name,async:!1,class:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){return e.value instanceof this.class?e.typed=!0:p(this,"type",e,r),e}}}function zt(n,t){if(typeof n==typeof t){if(n===t||n instanceof Date&&t instanceof Date&&+n==+t)return{value:n};if(n&&t&&n.constructor===Object&&t.constructor===Object){for(let e in t)if(e in n){let r=zt(n[e],t[e]);if(r.issue)return r;n[e]=r.value}else n[e]=t[e];return{value:n}}if(Array.isArray(n)&&Array.isArray(t)&&n.length===t.length){for(let e=0;e<n.length;e++){let r=zt(n[e],t[e]);if(r.issue)return r;n[e]=r.value}return{value:n}}}return{issue:!0}}function pa(n,t){return{kind:"schema",type:"intersect",reference:pa,expects:G(n.map(e=>e.expects),"&"),async:!1,options:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){if(this.options.length){let i=e.value,s;e.typed=!0;for(let o of this.options){let a=o["~run"]({value:i},r);if(a.issues&&(e.issues?e.issues.push(...a.issues):e.issues=a.issues,r.abortEarly)){e.typed=!1;break}a.typed||(e.typed=!1),e.typed&&(s?s.push(a.value):s=[a.value])}if(e.typed){e.value=s[0];for(let o=1;o<s.length;o++){let a=zt(e.value,s[o]);if(a.issue){p(this,"type",e,r,{received:"unknown"});break}e.value=a.value}}}else p(this,"type",e,r);return e}}}function ha(n,t){return{kind:"schema",type:"intersect",reference:ha,expects:G(n.map(e=>e.expects),"&"),async:!0,options:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){if(this.options.length){let i=e.value,s;e.typed=!0;let o=await Promise.all(this.options.map(a=>a["~run"]({value:i},r)));for(let a of o){if(a.issues&&(e.issues?e.issues.push(...a.issues):e.issues=a.issues,r.abortEarly)){e.typed=!1;break}a.typed||(e.typed=!1),e.typed&&(s?s.push(a.value):s=[a.value])}if(e.typed){e.value=s[0];for(let a=1;a<s.length;a++){let u=zt(e.value,s[a]);if(u.issue){p(this,"type",e,r,{received:"unknown"});break}e.value=u.value}}}else p(this,"type",e,r);return e}}}function da(n){return{kind:"schema",type:"lazy",reference:da,expects:"unknown",async:!1,getter:n,get"~standard"(){return y(this)},"~run"(t,e){return this.getter(t.value)["~run"](t,e)}}}function ya(n){return{kind:"schema",type:"lazy",reference:ya,expects:"unknown",async:!0,getter:n,get"~standard"(){return y(this)},async"~run"(t,e){return(await this.getter(t.value))["~run"](t,e)}}}function ma(n,t){return{kind:"schema",type:"literal",reference:ma,expects:$(n),async:!1,literal:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){return e.value===this.literal?e.typed=!0:p(this,"type",e,r),e}}}function va(n,t){return{kind:"schema",type:"loose_object",reference:va,expects:"Object",async:!1,entries:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){let i=e.value;if(i&&typeof i=="object"){e.typed=!0,e.value={};for(let s in this.entries){let o=this.entries[s];if(s in i||(o.type==="exact_optional"||o.type==="optional"||o.type==="nullish")&&o.default!==void 0){let a=s in i?i[s]:x(o),u=o["~run"]({value:a},r);if(u.issues){let l={type:"object",origin:"value",input:i,key:s,value:a};for(let c of u.issues)c.path?c.path.unshift(l):c.path=[l],e.issues?.push(c);if(e.issues||(e.issues=u.issues),r.abortEarly){e.typed=!1;break}}u.typed||(e.typed=!1),e.value[s]=u.value}else if(o.fallback!==void 0)e.value[s]=q(o);else if(o.type!=="exact_optional"&&o.type!=="optional"&&o.type!=="nullish"&&(p(this,"key",e,r,{input:void 0,expected:`"${s}"`,path:[{type:"object",origin:"key",input:i,key:s,value:i[s]}]}),r.abortEarly))break}if(!e.issues||!r.abortEarly)for(let s in i)_e(i,s)&&!(s in this.entries)&&(e.value[s]=i[s])}else p(this,"type",e,r);return e}}}function ga(n,t){return{kind:"schema",type:"loose_object",reference:ga,expects:"Object",async:!0,entries:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){let i=e.value;if(i&&typeof i=="object"){e.typed=!0,e.value={};let s=await Promise.all(Object.entries(this.entries).map(async([o,a])=>{if(o in i||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){let u=o in i?i[o]:await x(a);return[o,u,a,await a["~run"]({value:u},r)]}return[o,i[o],a,null]}));for(let[o,a,u,l]of s)if(l){if(l.issues){let c={type:"object",origin:"value",input:i,key:o,value:a};for(let f of l.issues)f.path?f.path.unshift(c):f.path=[c],e.issues?.push(f);if(e.issues||(e.issues=l.issues),r.abortEarly){e.typed=!1;break}}l.typed||(e.typed=!1),e.value[o]=l.value}else if(u.fallback!==void 0)e.value[o]=await q(u);else if(u.type!=="exact_optional"&&u.type!=="optional"&&u.type!=="nullish"&&(p(this,"key",e,r,{input:void 0,expected:`"${o}"`,path:[{type:"object",origin:"key",input:i,key:o,value:a}]}),r.abortEarly))break;if(!e.issues||!r.abortEarly)for(let o in i)_e(i,o)&&!(o in this.entries)&&(e.value[o]=i[o])}else p(this,"type",e,r);return e}}}function Ea(n,t){return{kind:"schema",type:"loose_tuple",reference:Ea,expects:"Array",async:!1,items:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){let i=e.value;if(Array.isArray(i)){e.typed=!0,e.value=[];for(let s=0;s<this.items.length;s++){let o=i[s],a=this.items[s]["~run"]({value:o},r);if(a.issues){let u={type:"array",origin:"value",input:i,key:s,value:o};for(let l of a.issues)l.path?l.path.unshift(u):l.path=[u],e.issues?.push(l);if(e.issues||(e.issues=a.issues),r.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value.push(a.value)}if(!e.issues||!r.abortEarly)for(let s=this.items.length;s<i.length;s++)e.value.push(i[s])}else p(this,"type",e,r);return e}}}function ba(n,t){return{kind:"schema",type:"loose_tuple",reference:ba,expects:"Array",async:!0,items:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){let i=e.value;if(Array.isArray(i)){e.typed=!0,e.value=[];let s=await Promise.all(this.items.map(async(o,a)=>{let u=i[a];return[a,u,await o["~run"]({value:u},r)]}));for(let[o,a,u]of s){if(u.issues){let l={type:"array",origin:"value",input:i,key:o,value:a};for(let c of u.issues)c.path?c.path.unshift(l):c.path=[l],e.issues?.push(c);if(e.issues||(e.issues=u.issues),r.abortEarly){e.typed=!1;break}}u.typed||(e.typed=!1),e.value.push(u.value)}if(!e.issues||!r.abortEarly)for(let o=this.items.length;o<i.length;o++)e.value.push(i[o])}else p(this,"type",e,r);return e}}}function _a(n,t,e){return{kind:"schema",type:"map",reference:_a,expects:"Map",async:!1,key:n,value:t,message:e,get"~standard"(){return y(this)},"~run"(r,i){let s=r.value;if(s instanceof Map){r.typed=!0,r.value=new Map;for(let[o,a]of s){let u=this.key["~run"]({value:o},i);if(u.issues){let c={type:"map",origin:"key",input:s,key:o,value:a};for(let f of u.issues)f.path?f.path.unshift(c):f.path=[c],r.issues?.push(f);if(r.issues||(r.issues=u.issues),i.abortEarly){r.typed=!1;break}}let l=this.value["~run"]({value:a},i);if(l.issues){let c={type:"map",origin:"value",input:s,key:o,value:a};for(let f of l.issues)f.path?f.path.unshift(c):f.path=[c],r.issues?.push(f);if(r.issues||(r.issues=l.issues),i.abortEarly){r.typed=!1;break}}(!u.typed||!l.typed)&&(r.typed=!1),r.value.set(u.value,l.value)}}else p(this,"type",r,i);return r}}}function wa(n,t,e){return{kind:"schema",type:"map",reference:wa,expects:"Map",async:!0,key:n,value:t,message:e,get"~standard"(){return y(this)},async"~run"(r,i){let s=r.value;if(s instanceof Map){r.typed=!0,r.value=new Map;let o=await Promise.all([...s].map(([a,u])=>Promise.all([a,u,this.key["~run"]({value:a},i),this.value["~run"]({value:u},i)])));for(let[a,u,l,c]of o){if(l.issues){let f={type:"map",origin:"key",input:s,key:a,value:u};for(let d of l.issues)d.path?d.path.unshift(f):d.path=[f],r.issues?.push(d);if(r.issues||(r.issues=l.issues),i.abortEarly){r.typed=!1;break}}if(c.issues){let f={type:"map",origin:"value",input:s,key:a,value:u};for(let d of c.issues)d.path?d.path.unshift(f):d.path=[f],r.issues?.push(d);if(r.issues||(r.issues=c.issues),i.abortEarly){r.typed=!1;break}}(!l.typed||!c.typed)&&(r.typed=!1),r.value.set(l.value,c.value)}}else p(this,"type",r,i);return r}}}function Ca(n){return{kind:"schema",type:"nan",reference:Ca,expects:"NaN",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return Number.isNaN(t.value)?t.typed=!0:p(this,"type",t,e),t}}}function ka(n){return{kind:"schema",type:"never",reference:ka,expects:"never",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return p(this,"type",t,e),t}}}function Ta(n,t){return{kind:"schema",type:"non_nullable",reference:Ta,expects:"!null",async:!1,wrapped:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){return e.value!==null&&(e=this.wrapped["~run"](e,r)),e.value===null&&p(this,"type",e,r),e}}}function Ia(n,t){return{kind:"schema",type:"non_nullable",reference:Ia,expects:"!null",async:!0,wrapped:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){return e.value!==null&&(e=await this.wrapped["~run"](e,r)),e.value===null&&p(this,"type",e,r),e}}}function Oa(n,t){return{kind:"schema",type:"non_nullish",reference:Oa,expects:"(!null & !undefined)",async:!1,wrapped:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){return e.value===null||e.value===void 0||(e=this.wrapped["~run"](e,r)),(e.value===null||e.value===void 0)&&p(this,"type",e,r),e}}}function Aa(n,t){return{kind:"schema",type:"non_nullish",reference:Aa,expects:"(!null & !undefined)",async:!0,wrapped:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){return e.value===null||e.value===void 0||(e=await this.wrapped["~run"](e,r)),(e.value===null||e.value===void 0)&&p(this,"type",e,r),e}}}function Yn(n,t){return{kind:"schema",type:"non_optional",reference:Yn,expects:"!undefined",async:!1,wrapped:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){return e.value!==void 0&&(e=this.wrapped["~run"](e,r)),e.value===void 0&&p(this,"type",e,r),e}}}function Zn(n,t){return{kind:"schema",type:"non_optional",reference:Zn,expects:"!undefined",async:!0,wrapped:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){return e.value!==void 0&&(e=await this.wrapped["~run"](e,r)),e.value===void 0&&p(this,"type",e,r),e}}}function Sa(n){return{kind:"schema",type:"null",reference:Sa,expects:"null",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return t.value===null?t.typed=!0:p(this,"type",t,e),t}}}function Ra(n,t){return{kind:"schema",type:"nullable",reference:Ra,expects:`(${n.expects} | null)`,async:!1,wrapped:n,default:t,get"~standard"(){return y(this)},"~run"(e,r){return e.value===null&&(this.default!==void 0&&(e.value=x(this,e,r)),e.value===null)?(e.typed=!0,e):this.wrapped["~run"](e,r)}}}function $a(n,t){return{kind:"schema",type:"nullable",reference:$a,expects:`(${n.expects} | null)`,async:!0,wrapped:n,default:t,get"~standard"(){return y(this)},async"~run"(e,r){return e.value===null&&(this.default!==void 0&&(e.value=await x(this,e,r)),e.value===null)?(e.typed=!0,e):this.wrapped["~run"](e,r)}}}function Da(n,t){return{kind:"schema",type:"nullish",reference:Da,expects:`(${n.expects} | null | undefined)`,async:!1,wrapped:n,default:t,get"~standard"(){return y(this)},"~run"(e,r){return(e.value===null||e.value===void 0)&&(this.default!==void 0&&(e.value=x(this,e,r)),e.value===null||e.value===void 0)?(e.typed=!0,e):this.wrapped["~run"](e,r)}}}function xa(n,t){return{kind:"schema",type:"nullish",reference:xa,expects:`(${n.expects} | null | undefined)`,async:!0,wrapped:n,default:t,get"~standard"(){return y(this)},async"~run"(e,r){return(e.value===null||e.value===void 0)&&(this.default!==void 0&&(e.value=await x(this,e,r)),e.value===null||e.value===void 0)?(e.typed=!0,e):this.wrapped["~run"](e,r)}}}function Ma(n){return{kind:"schema",type:"number",reference:Ma,expects:"number",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:p(this,"type",t,e),t}}}function Pa(n,t){return{kind:"schema",type:"object",reference:Pa,expects:"Object",async:!1,entries:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){let i=e.value;if(i&&typeof i=="object"){e.typed=!0,e.value={};for(let s in this.entries){let o=this.entries[s];if(s in i||(o.type==="exact_optional"||o.type==="optional"||o.type==="nullish")&&o.default!==void 0){let a=s in i?i[s]:x(o),u=o["~run"]({value:a},r);if(u.issues){let l={type:"object",origin:"value",input:i,key:s,value:a};for(let c of u.issues)c.path?c.path.unshift(l):c.path=[l],e.issues?.push(c);if(e.issues||(e.issues=u.issues),r.abortEarly){e.typed=!1;break}}u.typed||(e.typed=!1),e.value[s]=u.value}else if(o.fallback!==void 0)e.value[s]=q(o);else if(o.type!=="exact_optional"&&o.type!=="optional"&&o.type!=="nullish"&&(p(this,"key",e,r,{input:void 0,expected:`"${s}"`,path:[{type:"object",origin:"key",input:i,key:s,value:i[s]}]}),r.abortEarly))break}}else p(this,"type",e,r);return e}}}function Na(n,t){return{kind:"schema",type:"object",reference:Na,expects:"Object",async:!0,entries:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){let i=e.value;if(i&&typeof i=="object"){e.typed=!0,e.value={};let s=await Promise.all(Object.entries(this.entries).map(async([o,a])=>{if(o in i||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){let u=o in i?i[o]:await x(a);return[o,u,a,await a["~run"]({value:u},r)]}return[o,i[o],a,null]}));for(let[o,a,u,l]of s)if(l){if(l.issues){let c={type:"object",origin:"value",input:i,key:o,value:a};for(let f of l.issues)f.path?f.path.unshift(c):f.path=[c],e.issues?.push(f);if(e.issues||(e.issues=l.issues),r.abortEarly){e.typed=!1;break}}l.typed||(e.typed=!1),e.value[o]=l.value}else if(u.fallback!==void 0)e.value[o]=await q(u);else if(u.type!=="exact_optional"&&u.type!=="optional"&&u.type!=="nullish"&&(p(this,"key",e,r,{input:void 0,expected:`"${o}"`,path:[{type:"object",origin:"key",input:i,key:o,value:a}]}),r.abortEarly))break}else p(this,"type",e,r);return e}}}function ja(n,t,e){return{kind:"schema",type:"object_with_rest",reference:ja,expects:"Object",async:!1,entries:n,rest:t,message:e,get"~standard"(){return y(this)},"~run"(r,i){let s=r.value;if(s&&typeof s=="object"){r.typed=!0,r.value={};for(let o in this.entries){let a=this.entries[o];if(o in s||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){let u=o in s?s[o]:x(a),l=a["~run"]({value:u},i);if(l.issues){let c={type:"object",origin:"value",input:s,key:o,value:u};for(let f of l.issues)f.path?f.path.unshift(c):f.path=[c],r.issues?.push(f);if(r.issues||(r.issues=l.issues),i.abortEarly){r.typed=!1;break}}l.typed||(r.typed=!1),r.value[o]=l.value}else if(a.fallback!==void 0)r.value[o]=q(a);else if(a.type!=="exact_optional"&&a.type!=="optional"&&a.type!=="nullish"&&(p(this,"key",r,i,{input:void 0,expected:`"${o}"`,path:[{type:"object",origin:"key",input:s,key:o,value:s[o]}]}),i.abortEarly))break}if(!r.issues||!i.abortEarly){for(let o in s)if(_e(s,o)&&!(o in this.entries)){let a=this.rest["~run"]({value:s[o]},i);if(a.issues){let u={type:"object",origin:"value",input:s,key:o,value:s[o]};for(let l of a.issues)l.path?l.path.unshift(u):l.path=[u],r.issues?.push(l);if(r.issues||(r.issues=a.issues),i.abortEarly){r.typed=!1;break}}a.typed||(r.typed=!1),r.value[o]=a.value}}}else p(this,"type",r,i);return r}}}function Fa(n,t,e){return{kind:"schema",type:"object_with_rest",reference:Fa,expects:"Object",async:!0,entries:n,rest:t,message:e,get"~standard"(){return y(this)},async"~run"(r,i){let s=r.value;if(s&&typeof s=="object"){r.typed=!0,r.value={};let[o,a]=await Promise.all([Promise.all(Object.entries(this.entries).map(async([u,l])=>{if(u in s||(l.type==="exact_optional"||l.type==="optional"||l.type==="nullish")&&l.default!==void 0){let c=u in s?s[u]:await x(l);return[u,c,l,await l["~run"]({value:c},i)]}return[u,s[u],l,null]})),Promise.all(Object.entries(s).filter(([u])=>_e(s,u)&&!(u in this.entries)).map(async([u,l])=>[u,l,await this.rest["~run"]({value:l},i)]))]);for(let[u,l,c,f]of o)if(f){if(f.issues){let d={type:"object",origin:"value",input:s,key:u,value:l};for(let v of f.issues)v.path?v.path.unshift(d):v.path=[d],r.issues?.push(v);if(r.issues||(r.issues=f.issues),i.abortEarly){r.typed=!1;break}}f.typed||(r.typed=!1),r.value[u]=f.value}else if(c.fallback!==void 0)r.value[u]=await q(c);else if(c.type!=="exact_optional"&&c.type!=="optional"&&c.type!=="nullish"&&(p(this,"key",r,i,{input:void 0,expected:`"${u}"`,path:[{type:"object",origin:"key",input:s,key:u,value:l}]}),i.abortEarly))break;if(!r.issues||!i.abortEarly)for(let[u,l,c]of a){if(c.issues){let f={type:"object",origin:"value",input:s,key:u,value:l};for(let d of c.issues)d.path?d.path.unshift(f):d.path=[f],r.issues?.push(d);if(r.issues||(r.issues=c.issues),i.abortEarly){r.typed=!1;break}}c.typed||(r.typed=!1),r.value[u]=c.value}}else p(this,"type",r,i);return r}}}function pt(n,t){return{kind:"schema",type:"optional",reference:pt,expects:`(${n.expects} | undefined)`,async:!1,wrapped:n,default:t,get"~standard"(){return y(this)},"~run"(e,r){return e.value===void 0&&(this.default!==void 0&&(e.value=x(this,e,r)),e.value===void 0)?(e.typed=!0,e):this.wrapped["~run"](e,r)}}}function Kn(n,t){return{kind:"schema",type:"optional",reference:Kn,expects:`(${n.expects} | undefined)`,async:!0,wrapped:n,default:t,get"~standard"(){return y(this)},async"~run"(e,r){return e.value===void 0&&(this.default!==void 0&&(e.value=await x(this,e,r)),e.value===void 0)?(e.typed=!0,e):this.wrapped["~run"](e,r)}}}function Qn(n,t){return{kind:"schema",type:"picklist",reference:Qn,expects:G(n.map($),"|"),async:!1,options:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){return this.options.includes(e.value)?e.typed=!0:p(this,"type",e,r),e}}}function La(n){return{kind:"schema",type:"promise",reference:La,expects:"Promise",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return t.value instanceof Promise?t.typed=!0:p(this,"type",t,e),t}}}function Va(n,t,e){return{kind:"schema",type:"record",reference:Va,expects:"Object",async:!1,key:n,value:t,message:e,get"~standard"(){return y(this)},"~run"(r,i){let s=r.value;if(s&&typeof s=="object"){r.typed=!0,r.value={};for(let o in s)if(_e(s,o)){let a=s[o],u=this.key["~run"]({value:o},i);if(u.issues){let c={type:"object",origin:"key",input:s,key:o,value:a};for(let f of u.issues)f.path=[c],r.issues?.push(f);if(r.issues||(r.issues=u.issues),i.abortEarly){r.typed=!1;break}}let l=this.value["~run"]({value:a},i);if(l.issues){let c={type:"object",origin:"value",input:s,key:o,value:a};for(let f of l.issues)f.path?f.path.unshift(c):f.path=[c],r.issues?.push(f);if(r.issues||(r.issues=l.issues),i.abortEarly){r.typed=!1;break}}(!u.typed||!l.typed)&&(r.typed=!1),u.typed&&(r.value[u.value]=l.value)}}else p(this,"type",r,i);return r}}}function Ua(n,t,e){return{kind:"schema",type:"record",reference:Ua,expects:"Object",async:!0,key:n,value:t,message:e,get"~standard"(){return y(this)},async"~run"(r,i){let s=r.value;if(s&&typeof s=="object"){r.typed=!0,r.value={};let o=await Promise.all(Object.entries(s).filter(([a])=>_e(s,a)).map(([a,u])=>Promise.all([a,u,this.key["~run"]({value:a},i),this.value["~run"]({value:u},i)])));for(let[a,u,l,c]of o){if(l.issues){let f={type:"object",origin:"key",input:s,key:a,value:u};for(let d of l.issues)d.path=[f],r.issues?.push(d);if(r.issues||(r.issues=l.issues),i.abortEarly){r.typed=!1;break}}if(c.issues){let f={type:"object",origin:"value",input:s,key:a,value:u};for(let d of c.issues)d.path?d.path.unshift(f):d.path=[f],r.issues?.push(d);if(r.issues||(r.issues=c.issues),i.abortEarly){r.typed=!1;break}}(!l.typed||!c.typed)&&(r.typed=!1),l.typed&&(r.value[l.value]=c.value)}}else p(this,"type",r,i);return r}}}function qa(n,t){return{kind:"schema",type:"set",reference:qa,expects:"Set",async:!1,value:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){let i=e.value;if(i instanceof Set){e.typed=!0,e.value=new Set;for(let s of i){let o=this.value["~run"]({value:s},r);if(o.issues){let a={type:"set",origin:"value",input:i,key:null,value:s};for(let u of o.issues)u.path?u.path.unshift(a):u.path=[a],e.issues?.push(u);if(e.issues||(e.issues=o.issues),r.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value.add(o.value)}}else p(this,"type",e,r);return e}}}function Ba(n,t){return{kind:"schema",type:"set",reference:Ba,expects:"Set",async:!0,value:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){let i=e.value;if(i instanceof Set){e.typed=!0,e.value=new Set;let s=await Promise.all([...i].map(async o=>[o,await this.value["~run"]({value:o},r)]));for(let[o,a]of s){if(a.issues){let u={type:"set",origin:"value",input:i,key:null,value:o};for(let l of a.issues)l.path?l.path.unshift(u):l.path=[u],e.issues?.push(l);if(e.issues||(e.issues=a.issues),r.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value.add(a.value)}}else p(this,"type",e,r);return e}}}function Ga(n,t){return{kind:"schema",type:"strict_object",reference:Ga,expects:"Object",async:!1,entries:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){let i=e.value;if(i&&typeof i=="object"){e.typed=!0,e.value={};for(let s in this.entries){let o=this.entries[s];if(s in i||(o.type==="exact_optional"||o.type==="optional"||o.type==="nullish")&&o.default!==void 0){let a=s in i?i[s]:x(o),u=o["~run"]({value:a},r);if(u.issues){let l={type:"object",origin:"value",input:i,key:s,value:a};for(let c of u.issues)c.path?c.path.unshift(l):c.path=[l],e.issues?.push(c);if(e.issues||(e.issues=u.issues),r.abortEarly){e.typed=!1;break}}u.typed||(e.typed=!1),e.value[s]=u.value}else if(o.fallback!==void 0)e.value[s]=q(o);else if(o.type!=="exact_optional"&&o.type!=="optional"&&o.type!=="nullish"&&(p(this,"key",e,r,{input:void 0,expected:`"${s}"`,path:[{type:"object",origin:"key",input:i,key:s,value:i[s]}]}),r.abortEarly))break}if(!e.issues||!r.abortEarly){for(let s in i)if(!(s in this.entries)){p(this,"key",e,r,{input:s,expected:"never",path:[{type:"object",origin:"key",input:i,key:s,value:i[s]}]});break}}}else p(this,"type",e,r);return e}}}function za(n,t){return{kind:"schema",type:"strict_object",reference:za,expects:"Object",async:!0,entries:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){let i=e.value;if(i&&typeof i=="object"){e.typed=!0,e.value={};let s=await Promise.all(Object.entries(this.entries).map(async([o,a])=>{if(o in i||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){let u=o in i?i[o]:await x(a);return[o,u,a,await a["~run"]({value:u},r)]}return[o,i[o],a,null]}));for(let[o,a,u,l]of s)if(l){if(l.issues){let c={type:"object",origin:"value",input:i,key:o,value:a};for(let f of l.issues)f.path?f.path.unshift(c):f.path=[c],e.issues?.push(f);if(e.issues||(e.issues=l.issues),r.abortEarly){e.typed=!1;break}}l.typed||(e.typed=!1),e.value[o]=l.value}else if(u.fallback!==void 0)e.value[o]=await q(u);else if(u.type!=="exact_optional"&&u.type!=="optional"&&u.type!=="nullish"&&(p(this,"key",e,r,{input:void 0,expected:`"${o}"`,path:[{type:"object",origin:"key",input:i,key:o,value:a}]}),r.abortEarly))break;if(!e.issues||!r.abortEarly){for(let o in i)if(!(o in this.entries)){p(this,"key",e,r,{input:o,expected:"never",path:[{type:"object",origin:"key",input:i,key:o,value:i[o]}]});break}}}else p(this,"type",e,r);return e}}}function Ha(n,t){return{kind:"schema",type:"strict_tuple",reference:Ha,expects:"Array",async:!1,items:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){let i=e.value;if(Array.isArray(i)){e.typed=!0,e.value=[];for(let s=0;s<this.items.length;s++){let o=i[s],a=this.items[s]["~run"]({value:o},r);if(a.issues){let u={type:"array",origin:"value",input:i,key:s,value:o};for(let l of a.issues)l.path?l.path.unshift(u):l.path=[u],e.issues?.push(l);if(e.issues||(e.issues=a.issues),r.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value.push(a.value)}!(e.issues&&r.abortEarly)&&this.items.length<i.length&&p(this,"type",e,r,{input:i[this.items.length],expected:"never",path:[{type:"array",origin:"value",input:i,key:this.items.length,value:i[this.items.length]}]})}else p(this,"type",e,r);return e}}}function Wa(n,t){return{kind:"schema",type:"strict_tuple",reference:Wa,expects:"Array",async:!0,items:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){let i=e.value;if(Array.isArray(i)){e.typed=!0,e.value=[];let s=await Promise.all(this.items.map(async(o,a)=>{let u=i[a];return[a,u,await o["~run"]({value:u},r)]}));for(let[o,a,u]of s){if(u.issues){let l={type:"array",origin:"value",input:i,key:o,value:a};for(let c of u.issues)c.path?c.path.unshift(l):c.path=[l],e.issues?.push(c);if(e.issues||(e.issues=u.issues),r.abortEarly){e.typed=!1;break}}u.typed||(e.typed=!1),e.value.push(u.value)}!(e.issues&&r.abortEarly)&&this.items.length<i.length&&p(this,"type",e,r,{input:i[this.items.length],expected:"never",path:[{type:"array",origin:"value",input:i,key:this.items.length,value:i[this.items.length]}]})}else p(this,"type",e,r);return e}}}function Xa(n){return{kind:"schema",type:"string",reference:Xa,expects:"string",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return typeof t.value=="string"?t.typed=!0:p(this,"type",t,e),t}}}function Ja(n){return{kind:"schema",type:"symbol",reference:Ja,expects:"symbol",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return typeof t.value=="symbol"?t.typed=!0:p(this,"type",t,e),t}}}function Ya(n,t){return{kind:"schema",type:"tuple",reference:Ya,expects:"Array",async:!1,items:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){let i=e.value;if(Array.isArray(i)){e.typed=!0,e.value=[];for(let s=0;s<this.items.length;s++){let o=i[s],a=this.items[s]["~run"]({value:o},r);if(a.issues){let u={type:"array",origin:"value",input:i,key:s,value:o};for(let l of a.issues)l.path?l.path.unshift(u):l.path=[u],e.issues?.push(l);if(e.issues||(e.issues=a.issues),r.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value.push(a.value)}}else p(this,"type",e,r);return e}}}function Za(n,t){return{kind:"schema",type:"tuple",reference:Za,expects:"Array",async:!0,items:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){let i=e.value;if(Array.isArray(i)){e.typed=!0,e.value=[];let s=await Promise.all(this.items.map(async(o,a)=>{let u=i[a];return[a,u,await o["~run"]({value:u},r)]}));for(let[o,a,u]of s){if(u.issues){let l={type:"array",origin:"value",input:i,key:o,value:a};for(let c of u.issues)c.path?c.path.unshift(l):c.path=[l],e.issues?.push(c);if(e.issues||(e.issues=u.issues),r.abortEarly){e.typed=!1;break}}u.typed||(e.typed=!1),e.value.push(u.value)}}else p(this,"type",e,r);return e}}}function Ka(n,t,e){return{kind:"schema",type:"tuple_with_rest",reference:Ka,expects:"Array",async:!1,items:n,rest:t,message:e,get"~standard"(){return y(this)},"~run"(r,i){let s=r.value;if(Array.isArray(s)){r.typed=!0,r.value=[];for(let o=0;o<this.items.length;o++){let a=s[o],u=this.items[o]["~run"]({value:a},i);if(u.issues){let l={type:"array",origin:"value",input:s,key:o,value:a};for(let c of u.issues)c.path?c.path.unshift(l):c.path=[l],r.issues?.push(c);if(r.issues||(r.issues=u.issues),i.abortEarly){r.typed=!1;break}}u.typed||(r.typed=!1),r.value.push(u.value)}if(!r.issues||!i.abortEarly)for(let o=this.items.length;o<s.length;o++){let a=s[o],u=this.rest["~run"]({value:a},i);if(u.issues){let l={type:"array",origin:"value",input:s,key:o,value:a};for(let c of u.issues)c.path?c.path.unshift(l):c.path=[l],r.issues?.push(c);if(r.issues||(r.issues=u.issues),i.abortEarly){r.typed=!1;break}}u.typed||(r.typed=!1),r.value.push(u.value)}}else p(this,"type",r,i);return r}}}function Qa(n,t,e){return{kind:"schema",type:"tuple_with_rest",reference:Qa,expects:"Array",async:!0,items:n,rest:t,message:e,get"~standard"(){return y(this)},async"~run"(r,i){let s=r.value;if(Array.isArray(s)){r.typed=!0,r.value=[];let[o,a]=await Promise.all([Promise.all(this.items.map(async(u,l)=>{let c=s[l];return[l,c,await u["~run"]({value:c},i)]})),Promise.all(s.slice(this.items.length).map(async(u,l)=>[l+this.items.length,u,await this.rest["~run"]({value:u},i)]))]);for(let[u,l,c]of o){if(c.issues){let f={type:"array",origin:"value",input:s,key:u,value:l};for(let d of c.issues)d.path?d.path.unshift(f):d.path=[f],r.issues?.push(d);if(r.issues||(r.issues=c.issues),i.abortEarly){r.typed=!1;break}}c.typed||(r.typed=!1),r.value.push(c.value)}if(!r.issues||!i.abortEarly)for(let[u,l,c]of a){if(c.issues){let f={type:"array",origin:"value",input:s,key:u,value:l};for(let d of c.issues)d.path?d.path.unshift(f):d.path=[f],r.issues?.push(d);if(r.issues||(r.issues=c.issues),i.abortEarly){r.typed=!1;break}}c.typed||(r.typed=!1),r.value.push(c.value)}}else p(this,"type",r,i);return r}}}function el(n){return{kind:"schema",type:"undefined",reference:el,expects:"undefined",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return t.value===void 0?t.typed=!0:p(this,"type",t,e),t}}}function tl(n,t){return{kind:"schema",type:"undefinedable",reference:tl,expects:`(${n.expects} | undefined)`,async:!1,wrapped:n,default:t,get"~standard"(){return y(this)},"~run"(e,r){return e.value===void 0&&(this.default!==void 0&&(e.value=x(this,e,r)),e.value===void 0)?(e.typed=!0,e):this.wrapped["~run"](e,r)}}}function nl(n,t){return{kind:"schema",type:"undefinedable",reference:nl,expects:`(${n.expects} | undefined)`,async:!0,wrapped:n,default:t,get"~standard"(){return y(this)},async"~run"(e,r){return e.value===void 0&&(this.default!==void 0&&(e.value=await x(this,e,r)),e.value===void 0)?(e.typed=!0,e):this.wrapped["~run"](e,r)}}}function Ht(n){let t;if(n)for(let e of n)t?t.push(...e.issues):t=e.issues;return t}function rl(n,t){return{kind:"schema",type:"union",reference:rl,expects:G(n.map(e=>e.expects),"|"),async:!1,options:n,message:t,get"~standard"(){return y(this)},"~run"(e,r){let i,s,o;for(let a of this.options){let u=a["~run"]({value:e.value},r);if(u.typed)if(u.issues)s?s.push(u):s=[u];else{i=u;break}else o?o.push(u):o=[u]}if(i)return i;if(s){if(s.length===1)return s[0];p(this,"type",e,r,{issues:Ht(s)}),e.typed=!0}else{if(o?.length===1)return o[0];p(this,"type",e,r,{issues:Ht(o)})}return e}}}function il(n,t){return{kind:"schema",type:"union",reference:il,expects:G(n.map(e=>e.expects),"|"),async:!0,options:n,message:t,get"~standard"(){return y(this)},async"~run"(e,r){let i,s,o;for(let a of this.options){let u=await a["~run"]({value:e.value},r);if(u.typed)if(u.issues)s?s.push(u):s=[u];else{i=u;break}else o?o.push(u):o=[u]}if(i)return i;if(s){if(s.length===1)return s[0];p(this,"type",e,r,{issues:Ht(s)}),e.typed=!0}else{if(o?.length===1)return o[0];p(this,"type",e,r,{issues:Ht(o)})}return e}}}function sl(){return{kind:"schema",type:"unknown",reference:sl,expects:"unknown",async:!1,get"~standard"(){return y(this)},"~run"(n){return n.typed=!0,n}}}function ol(n,t,e){return{kind:"schema",type:"variant",reference:ol,expects:"Object",async:!1,key:n,options:t,message:e,get"~standard"(){return y(this)},"~run"(r,i){let s=r.value;if(s&&typeof s=="object"){let o,a=0,u=this.key,l=[],c=(f,d)=>{for(let v of f.options){if(v.type==="variant")c(v,new Set(d).add(v.key));else{let E=!0,b=0;for(let m of d){let w=v.entries[m];if(m in s?w["~run"]({typed:!1,value:s[m]},{abortEarly:!0}).issues:w.type!=="exact_optional"&&w.type!=="optional"&&w.type!=="nullish"){E=!1,u!==m&&(a<b||a===b&&m in s&&!(u in s))&&(a=b,u=m,l=[]),u===m&&l.push(v.entries[m].expects);break}b++}if(E){let m=v["~run"]({value:s},i);(!o||!o.typed&&m.typed)&&(o=m)}}if(o&&!o.issues)break}};if(c(this,new Set([this.key])),o)return o;p(this,"type",r,i,{input:s[u],expected:G(l,"|"),path:[{type:"object",origin:"value",input:s,key:u,value:s[u]}]})}else p(this,"type",r,i);return r}}}function ul(n,t,e){return{kind:"schema",type:"variant",reference:ul,expects:"Object",async:!0,key:n,options:t,message:e,get"~standard"(){return y(this)},async"~run"(r,i){let s=r.value;if(s&&typeof s=="object"){let o,a=0,u=this.key,l=[],c=async(f,d)=>{for(let v of f.options){if(v.type==="variant")await c(v,new Set(d).add(v.key));else{let E=!0,b=0;for(let m of d){let w=v.entries[m];if(m in s?(await w["~run"]({typed:!1,value:s[m]},{abortEarly:!0})).issues:w.type!=="exact_optional"&&w.type!=="optional"&&w.type!=="nullish"){E=!1,u!==m&&(a<b||a===b&&m in s&&!(u in s))&&(a=b,u=m,l=[]),u===m&&l.push(v.entries[m].expects);break}b++}if(E){let m=await v["~run"]({value:s},i);(!o||!o.typed&&m.typed)&&(o=m)}}if(o&&!o.issues)break}};if(await c(this,new Set([this.key])),o)return o;p(this,"type",r,i,{input:s[u],expected:G(l,"|"),path:[{type:"object",origin:"value",input:s,key:u,value:s[u]}]})}else p(this,"type",r,i);return r}}}function Xt(n){return{kind:"schema",type:"void",reference:Xt,expects:"void",async:!1,message:n,get"~standard"(){return y(this)},"~run"(t,e){return t.value===void 0?t.typed=!0:p(this,"type",t,e),t}}}function rp(n,t){return Qn(Object.keys(n.entries),t)}function ip(n,t){return _(h({},n),{get"~standard"(){return y(this)},"~run"(e,r){return n["~run"](e,_(h({},r),{message:t}))}})}function sp(n,t){let e=h({},n.entries);for(let r of t)delete e[r];return _(h({},n),{entries:e,get"~standard"(){return y(this)}})}function al(n,t,e){let r=n["~run"]({value:t},Fe(e));if(r.issues)throw new re(r.issues);return r.value}async function ll(n,t,e){let r=await n["~run"]({value:t},Fe(e));if(r.issues)throw new re(r.issues);return r.value}function op(n,t){let e=r=>al(n,r,t);return e.schema=n,e.config=t,e}function up(n,t){let e=r=>ll(n,r,t);return e.schema=n,e.config=t,e}function ap(n,t){let e={};for(let r in n.entries)e[r]=!t||t.includes(r)?pt(n.entries[r]):n.entries[r];return _(h({},n),{entries:e,get"~standard"(){return y(this)}})}function lp(n,t){let e={};for(let r in n.entries)e[r]=!t||t.includes(r)?Kn(n.entries[r]):n.entries[r];return _(h({},n),{entries:e,get"~standard"(){return y(this)}})}function cp(n,t){let e={};for(let r of t)e[r]=n.entries[r];return _(h({},n),{entries:e,get"~standard"(){return y(this)}})}function fp(...n){return _(h({},n[0]),{pipe:n,get"~standard"(){return y(this)},"~run"(t,e){for(let r of n)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!e.abortEarly&&!e.abortPipeEarly)&&(t=r["~run"](t,e))}return t}})}function pp(...n){return _(h({},n[0]),{pipe:n,async:!0,get"~standard"(){return y(this)},async"~run"(t,e){for(let r of n)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!e.abortEarly&&!e.abortPipeEarly)&&(t=await r["~run"](t,e))}return t}})}function hp(n,t,e){let r=Array.isArray(t)?t:void 0,i=Array.isArray(t)?e:t,s={};for(let o in n.entries)s[o]=!r||r.includes(o)?Yn(n.entries[o],i):n.entries[o];return _(h({},n),{entries:s,get"~standard"(){return y(this)}})}function dp(n,t,e){let r=Array.isArray(t)?t:void 0,i=Array.isArray(t)?e:t,s={};for(let o in n.entries)s[o]=!r||r.includes(o)?Zn(n.entries[o],i):n.entries[o];return _(h({},n),{entries:s,get"~standard"(){return y(this)}})}function cl(n,t,e){let r=n["~run"]({value:t},Fe(e));return{typed:r.typed,success:!r.issues,output:r.value,issues:r.issues}}async function fl(n,t,e){let r=await n["~run"]({value:t},Fe(e));return{typed:r.typed,success:!r.issues,output:r.value,issues:r.issues}}function er(n,t){let e=r=>cl(n,r,t);return e.schema=n,e.config=t,e}function yp(n,t){let e=r=>fl(n,r,t);return e.schema=n,e.config=t,e}function mp(n){let t="";for(let e of n){t&&(t+=`
`),t+=`\xD7 ${e.message}`;let r=Jn(e);r&&(t+=`
  \u2192 at ${r}`)}return t}function vp(n){return n.wrapped}var bl=Ul(dl(),1);function*tr(n){if("pipe"in n)for(let t of n.pipe)yield*tr(t);else"wrapped"in n?(yield n,yield*tr(n.wrapped)):yield n}function yl(n,t,e){let r=_(h({},e),{environments:e?.environments??["default"]}),i={lazyMap:new Map},s=new r.handle(r,void 0,void 0,i);return le(n,s),t(s)}function le(n,t){t.begin(n);let e=tr(n),r,i=[];for(let s of e)if(s.kind==="schema")if("wrapped"in s)i.push(s);else{if(r)continue;r=s,t.defineSchema(r)}else s.kind==="metadata"?t.metadata(s,"init"):s.kind==="validation"?t.validation(s):s.kind==="transformation"&&t.transformation(s);for(let s of i.reverse())t.wrappedSchema(s);switch(t.beforeSchemaType(r),r.type){case"lazy":{t.lazySchema(r);break}case"array":{t.arraySchema(r);break}case"tuple":case"tuple_with_rest":case"loose_tuple":case"strict_tuple":{t.tupleSchema(r);break}case"object":case"object_with_rest":case"loose_object":case"strict_object":{t.objectSchema(r);break}case"record":{t.recordSchema(r.key,r.value);break}case"literal":{t.defaultSchema(r);break}case"enum":case"picklist":{t.enumSchema(r);break}case"union":case"variant":{t.unionSchema(r);break}case"intersect":{t.intersectSchema(r);break}case"any":case"unknown":{t.anySchema(r);break}case"undefined":case"null":{t.undefinedSchema(r);break}case"string":case"number":case"boolean":{t.basicSchema(r);break}case"void":case"never":{t.voidSchema(r);break}case"custom":{t.customSchema(r);break}default:t.otherSchema(r)}t.afterSchemaType(r),t.end(n)}function nr(n=!0){return{kind:"metadata",type:"asControl",reference:nr,value:n}}function rr(n){return(t,e)=>({kind:"metadata",type:n,reference:bp,value:t,workOn:e})}var bp=rr("rawConfig");function ir(n){return{kind:"metadata",type:"condition",reference:ir,value:n}}function sr(n=!0){return{kind:"metadata",type:"asVirtualGroup",reference:sr,value:n}}function Jt(n,t){"pipe"in n?n.pipe.forEach(e=>{Jt(e,t)}):"wrapped"in n?Jt(n.wrapped,t):t(n)}function _p(n){let t=!1;return Jt(n,e=>{e.kind==="metadata"&&e.type==="asControl"&&(t=e.value)}),t}function Yt(n,t){for(t=t.slice();t.length;){let e=t[0];if(_p(n))return n;switch(n.type){case"object":case"object_with_rest":case"loose_object":case"strict_object":n=n.entries[e.key];break;case"array":{n=n.item;break}case"tuple":case"tuple_with_rest":case"loose_tuple":case"strict_tuple":{n=n.items[e.key];break}case"intersect":case"variant":case"union":{for(let i=0;i<n.options.length;i++){let s=n.options[i],o=Yt(s,t);if(o)return o}break}case"nullable":case"nullish":case"exact_optional":case"optional":case"undefinedable":case"non_nullable":case"non_nullish":case"non_optional":{let i=n.wrapped,s=Yt(n.wrapped,t);return s===i?i:s}default:return n}if(!n)return;t.shift()}return n}function ml(n){let t,e,r;return Jt(n,i=>{if(i.kind==="metadata")switch(i.type){case"title":t=i.title;break;case"metadata":r=i.metadata;break;case"description":e=i.description;break;default:break}}),{title:t,description:e,metadata:r}}function wp(n){for(;"wrapped"in n;)n=n.wrapped;return n}function Z(n){let t=wp(n);if("entries"in t){let e={},r=x(n);for(let i in t.entries){let s=r?.[i]??Z(t.entries[i]);s!==void 0&&(e[i]=s)}return Object.keys(e).length?e:void 0}if("items"in t){let e=[];for(let r=0;r<t.items.length;r++){let i=t.items[r],s=Z(i);s!==void 0&&(e[r]=s)}return e.length?e:void 0}if("options"in t){if(t.type==="intersect"){let e=t.options.slice().reduce((r,i)=>h(h({},r),Z(i)),{});return Object.keys(e).length?e:void 0}if(t.type==="union"||t.type==="variant")for(let e of t.options){let r=Z(e);if(r!==void 0)return r}}return x(n)}var vl=class{key;fullPath=[];children=[];parent;type;isGroup;isObjectControl=!1;arrayChild;defaultValue;props;priority=0;childrenAsVirtualGroup=!1;undefinedable=!1;nullable=!1;globalConfig;callSchemaHandle;callDefineSchema;sourceSchema;lazyWrapped;context;afterSchemaTypeList=[];constructor(n,t,e,r){this.globalConfig=n,this.callSchemaHandle=t,this.callDefineSchema=e,t&&(this.context=t.context),r&&(this.context=r)}begin(n){this.sourceSchema=n}end(n){}defineSchema(n){this.type=n.type}beforeSchemaType(n){}tupleSchema(n){if(this.isObjectControl){this.defaultValue=Z(this.sourceSchema);return}this.tupleDefault(n);for(let t=0;t<n.items.length;t++){let e=n.items[t];this.objectItemSchema(e,t)}n.type==="tuple_with_rest"&&this.restSchema(n.rest),this.afterTupleSchema(n)}tupleDefault(n){}afterTupleSchema(n){}objectSchema(n){if(this.isObjectControl){this.defaultValue=Z(this.sourceSchema);return}this.objectDefault(n),this.isGroup??=!0;for(let t in n.entries){let e=n.entries[t];this.objectItemSchema(e,t)}n.type==="object_with_rest"&&this.restSchema(n.rest),this.afterObjectSchema(n)}objectDefault(n){}afterObjectSchema(n){}optionalWrapSchema(n){switch(n.type){case"undefinedable":case"optional":case"exact_optional":this.undefinedable=!0;break;case"nullable":this.nullable=!0;break;case"nullish":this.nullable=!0,this.undefinedable=!0;break;default:break}}nonOptionalSchema(n){switch(n.type){case"non_nullable":this.nullable=!1;break;case"non_nullish":this.nullable=!1,this.undefinedable=!1;break;case"non_optional":this.undefinedable=!1;break;default:break}}wrappedSchema(n){"default"in n?(this.optionalWrapSchema(n),this.defaultValue=n.default):(this.nonOptionalSchema(n),delete this.defaultValue)}recordSchema(n,t){}defaultSchema(n){}enumSchema(n){}voidSchema(n){}customSchema(n){}otherSchema(n){}afterSchemaType(n){this.afterSchemaTypeList.forEach(t=>{this.metadata(t,t.workOn)})}metadataDefaulthandle(n,t,e){}metadataHandle(n,t,e){if(!(this.globalConfig.environments!==t&&this.globalConfig.environments.every(r=>!t.includes(r)))){if(e==="init"&&"workOn"in n&&n.workOn){this.afterSchemaTypeList.push(n);return}switch(n.type){case"rawConfig":{n.value(this,this.globalConfig.context);break}case"title":{this.props??={},this.props.title=n.title;break}case"description":{this.props??={},this.props.description=n.description;break}case"metadata":{this.props??={},this.props.metadata=n.metadata;break}case"asControl":{this.isObjectControl=n.value,this.isGroup=!1;break}case"asVirtualGroup":{this.isGroup=!0,this.childrenAsVirtualGroup=n.value;break}case"condition":n.value.actions.forEach(r=>{this.metadataHandle(r,n.value.environments,e)});default:this.metadataDefaulthandle(n,t,e);break}}}metadata(n,t){this.metadataHandle(n,this.globalConfig.environments,t)}validation(n){}transformation(n){}lazySchema(n){let t=this.context.lazyMap.get(n);if(t)this.lazyWrapped=t;else{let e=n.getter(void 0);t=new this.globalConfig.handle(this.globalConfig,this,e),this.context.lazyMap.set(n,t),this.lazyWrapped=t,le(e,t)}}arraySchema(n){if(this.isObjectControl)return;let t=new this.globalConfig.handle(this.globalConfig,this,n);le(n.item,t),this.arrayChild=t}objectItemSchema(n,t){let e=new this.globalConfig.handle(this.globalConfig,this,n);e.key=t,e.fullPath=[...this.fullPath,t],e.setParent(this),le(n,e)}restSchema(n){}anySchema(n){}undefinedSchema(n){}basicSchema(n){}intersectSchema(n){if(this.isObjectControl){this.defaultValue=Z(this.sourceSchema);return}this.intersectBefore(n),n.options.forEach((t,e)=>{this.logicItemSchema(t,e,"intersect")})}intersectBefore(n){this.childrenAsVirtualGroup&&(this.type="intersect-group")}logicItemSchema(n,t,e){let r=new this.globalConfig.handle(this.globalConfig,this,n);r.fullPath=[...this.fullPath],r.setParent(this),le(n,r)}unionSchema(n){if(this.isObjectControl){this.defaultValue=Z(this.sourceSchema);return}this.unionBefore(n),n.options.forEach((t,e)=>{this.logicItemSchema(t,e,"union")})}unionBefore(n){}setParent(n){this.parent=n,n.children??=[],n.children.push(this)}};function Cp(n){return n.type==="object"||n.type==="loose_object"||n.type==="object_with_rest"||n.type==="strict_object"}function kp(n){return n.type==="intersect"}function or(n,t){if(Cp(n)){let e=h({},n.entries);for(let r in t)if(t[r]&&n.entries[r]){let i=t[r](n.entries[r]);e[r]=i}return _(h({},n),{entries:e,get"~standard"(){return y(this)}})}else if(kp(n)){let e=[...n.options];for(let r=0;r<e.length;r++){let i=e[r];e[r]=or(i,t)}return _(h({},n),{options:e,get"~standard"(){return y(this)}})}throw new Error("not object or intersect")}function gl(n){var t,e,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(t=0;t<i;t++)n[t]&&(e=gl(n[t]))&&(r&&(r+=" "),r+=e)}else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Tp(){for(var n,t,e=0,r="",i=arguments.length;e<i;e++)(n=arguments[e])&&(t=gl(n))&&(r&&(r+=" "),r+=t);return r}var ce=Tp;function ar(n,t){return(Array.isArray(t)?t:[t]).every((e,r)=>e===n[r])}function _l(n,t,e){let r=!0,i=n();return $e(()=>{let s=n();if(r){r=!1,B(i,s)||t();return}return t()},e)}function lr(n,t,e){let r=e?.injector??k(L),i=new Ar(t()),s=_l(n,()=>{let o;try{o=t()}catch(a){M(()=>i.error(a));return}M(()=>i.next(o))},{injector:r,manualCleanup:!0});return r.get(he).onDestroy(()=>{s.destroy(),i.complete()}),i.asObservable()}var fr=(0,bl.default)({proto:!1,circles:!1});function K(n){return un(n)?n():n}function pr(n){return n===void 0||Array.isArray(n)?n:[n]}var dt=class extends Array{#e;constructor(t){super(),this.#e=t}push(...t){let e=super.push(...t);return this.sort(this.#e),e}};function El(n){return n}var ht="VALID",Ce="INVALID",J="PENDING",Ve=class{emptyValue$$=g(()=>fr(this.config$().emptyValue));shouldInclude$$=g(()=>this.valueNoError$$()&&(!this.selfDisabled$$()||this.selfDisabled$$()&&this.config$().disabledValue==="reserve"));injector;selfDisabled$$=g(()=>this.config$?.().disabled??!1);selfEnabled$$=g(()=>!this.selfDisabled$$());disabled$$=g(()=>(this.parent?.disabled$$()||this.selfDisabled$$())??!1);enabled$$=g(()=>!this.disabled$$());get disabled(){return this.disabled$$()}get enabled(){return!this.disabled$$()}enable(){this.config$.update(t=>(t=_(h({},t),{disabled:!1}),_(h({},t),{disabled:!1})))}disable(){this.config$.update(t=>_(h({},t),{disabled:!0}))}selfTouched$=A(!1);touched$$=g(()=>this.reduceChildren(this.selfTouched$(),(t,e)=>e||t.touched$$(),El));get touched(){return M(this.touched$$)}get untouched(){return!M(this.touched$$)}selfDirty$=A(!1);dirty$$=g(()=>this.reduceChildren(this.selfDirty$(),(t,e)=>e||t.dirty$$(),El));get dirty(){return M(this.dirty$$)}get pristine(){return!M(this.dirty$$)}#e=g(()=>this.config$().validators??[]);#t=g(()=>this.config$().asyncValidators??[]);syncError$$=St(g(()=>{if(this.disabled$$())return;this.value$$();let e=this.#e().reduce((i,s)=>{let o=M(()=>s(this));return o&&(i=h(h({},i),o)),i},{}),r=this.#i();return r.success?Object.keys(e).length?e:void 0:_(h({},e),{valibot:r.issues})}));asyncErrorRes$$=g(()=>{let t=this.#t();if(t.length!==0)return M(()=>Rt({params:()=>this.value$$(),loader:async()=>{let r=(await Promise.all(t.map(i=>M(()=>i(this))))).reduce((i,s)=>(s&&(i=h(h({},i),s)),i),{});return Object.keys(r).length?r:void 0},injector:this.injector}))});asyncError$$=g(()=>{if(this.disabled$$())return;let e=this.asyncErrorRes$$();if(e)return e.isLoading()?J:e.value()});rawError$$=g(()=>{if(this.disabled$$())return;let e=this.syncError$$(),r=this.asyncError$$();return r===J?J:e&&r?h(h({},e),r):e||r?e||r:void 0});valueNoError$$=g(()=>this.rawError$$()===void 0);get errors(){let t=this.rawError$$();return t===J?void 0:t}_parent;get parent(){return this._parent}get value(){return this.value$$()}required$$=g(()=>this.config$().required);schemaParser;constructor(t,e){this.injector=e,this.schemaParser=er(t)}#i=g(()=>this.schemaParser(this.value$$()));setParent(t){this._parent=t}get valid(){return this.status$$()===ht}get invalid(){return this.status$$()===Ce}get pending(){return this.status$$()===J}selfUpdateOn$$=g(()=>this.config$?.().updateOn);updateOn$$=g(()=>(this.selfUpdateOn$$()||this.parent?.updateOn$$())??"change");markAsTouched(){this.selfTouched$.set(!0)}markAllAsDirty(){this.markAsDirty(),this._forEachChild(t=>t.markAllAsDirty())}markAllAsTouched(){this.markAsTouched(),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(){this.selfTouched$.set(!1)}markAsDirty(){this.selfDirty$.set(!0)}markAsPristine(){this.selfDirty$.set(!1)}getRawValue(){return this.value}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r.find(i),this)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}config$=A({});initConfig(t){this.config$=t}find(t){return null}setControl(t,e){}reduceChildren(t,e,r){let i=this.children$$?.();if(!i)return t;let s=t;for(let o of i){if(r?.(s))break;s=e(o,s)}return s}#r;get valueChanges(){return this.#r??(this.#r=lr(g(()=>({value:this.value$$(),disabled:this.disabled$$()})),this.value$$,{injector:this.injector}))}status$$=g(()=>this.disabled$$()?ht:this.rawError$$()?this.rawError$$()!==J?Ce:J:this.reduceChildren(ht,(t,e)=>e===Ce||t.status$$()===Ce?Ce:e===J||t.status$$()===J?J:ht,t=>t===Ce));#n;get statusChanges(){return this.#n??(this.#n=lr(this.status$$,this.status$$,{injector:this.injector}))}},Ue=class extends Ve{#e=g(()=>this.config$().deletionMode??"shrink");value$$=g(()=>{let t=[];for(let e of this.controls$())if(e&&e.shouldInclude$$())t.push(e.value$$());else{if(this.#e()==="shrink")continue;this.#e()==="mark"&&t.push(void 0)}return t.length===0?this.emptyValue$$():t});children$$=g(()=>this.controls$());controls$=A([]);get controls(){return this.controls$()}removeAt(t){let e=this._adjustIndex(t);this.controls$()[e]&&this.controls$.update(r=>(r=r.slice(),r.splice(e,1),r))}setControl(t,e){let r=this._adjustIndex(t);this.controls$.update(i=>(i=i.slice(),i[r]=e,i)),e.setParent(this)}get length(){return this.controls$().length}reset(t=[]){this._forEachChild((e,r)=>{e.reset(t[r])})}getRawValue(){return this.controls$().map(t=>t.getRawValue())}clear(){this.controls$().length<1||this.controls$.update(()=>[])}_adjustIndex(t){return t<0?Math.max(t+this.length,0):t}_forEachChild(t){this.controls$().forEach((e,r)=>{e&&t(e,r)})}find(t){return this.controls$()[this._adjustIndex(t)]}beforeUpdateList=[];updateValue(t=[]){B(t,this.value$$())||(this.beforeUpdateList.forEach(e=>e(t)),this.controls$().forEach((e,r)=>{e.updateValue(t[r])}))}},yt=class extends Ve{children$$;#e=0;viewIndex$=A(0);modelValue$=A(void 0);modelValueToViewValueOrigin$$=g(()=>{let t=this.modelValue$(),e=this.config$?.().transfomer?.toView;return e?e(t,this):t});modelValueToViewValue$$=g(()=>(this.viewIndex$(),this.modelValueToViewValueOrigin$$()),{equal:()=>!1});value$$=A(void 0);reset(t=this.config$().defaultValue){this.updateValue(t),this.markAsPristine(),this.markAsUntouched()}_forEachChild(t){}#t=!0;setViewValue(t){this.#e++;let e=this.config$?.().transfomer?.toModel,r=e?e(t,this):t,i=this.schemaParser(r);i.success?(this.value$$.set(i.output),this.syncError$$.set(void 0)):this.syncError$$.set({valibot:i.issues}),this.markAllAsDirty()}updateValue(t){if(this.#t){this.#t=!1,t!==void 0&&!B(t,this.value$$())&&(this.modelValue$.set(t),this.value$$.set(t));return}B(t,this.value$$())||(this.viewIndex$.set(this.#e),this.modelValue$.set(t),this.value$$.set(t))}initConfig(t){super.initConfig(t),"defaultValue"in this.config$()&&(this.modelValue$.set(this.config$().defaultValue),this.value$$.set(this.config$().defaultValue))}},mt=class extends Ue{activateIndex$=A(0);type=A("and");activateControl$=A(void 0);value$$=g(()=>this.getValue(!1));getActivateControls(){let t;if(this.activateControl$())t=this.activateControl$();else if(this.type()==="and")t=this.controls$();else if(this.type()==="or")t=[this.controls$()[this.activateIndex$()]];else throw new Error("");return t}getValue(t){let e=t?this.getActivateControls():this.getActivateControls().filter(s=>s.shouldInclude$$()),r=e[0];if(e.length===0)return this.emptyValue$$();if(e.length===1)return r.value;let i=e.reduce((s,o)=>h(h({},s),o.value$$()),{});return Object.keys(i).length?i:this.emptyValue$$()}getRawValue(){return this.getValue(!0)}updateValue(t){B(t,this.value$$())||this.controls$().forEach((e,r)=>{e.updateValue(t)})}};function Ip(n){return n instanceof gt}function wl(n){return n instanceof Ue}function Op(n){return n instanceof yt}function vt(n){return n instanceof mt}var gt=class extends Ve{value$$=g(()=>{let t={},e=this._reduceChildren(t,(i,s,o)=>(s.shouldInclude$$()&&(i[o]=s.value),i)),r=h(h({},e),this.looseValue$$());return Object.keys(r).length?r:this.emptyValue$$()});children$$=g(()=>Object.values(this.controls$()));controls$=A({});get controls(){return this.controls$()}registerControl(t,e){return this.controls$()[t]?this.controls$()[t]:(this.controls$.update(r=>_(h({},r),{[t]:e})),e.setParent(this),e)}removeControl(t){this.controls$()[t]&&this.controls$.update(e=>(e=h({},e),delete e[t],e))}setControl(t,e){this.controls$.update(r=>(r=h({},r),delete r[t],r)),e&&this.registerControl(t,e)}reset(t={}){this._forEachChild((e,r)=>{e.reset(t?t[r]:void 0)})}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_forEachChild(t){Object.keys(this.controls$()).forEach(e=>{let r=this.controls$()[e];r&&t(r,e)})}_reduceChildren(t,e){let r=t;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}find(t){return this.controls$()[t]}looseValue$$=g(()=>{let t=this.#e();if(!t||vt(this.parent))return{};let e=this.controls$(),r={};for(let i in t)i in e||(r[i]=t[i]);return r});#e=A({});setInitValue(t){this.#e.set(t)}updateValue(t){if(!B(t,this.value$$())){for(let e in this.controls$())this.controls$()[e].updateValue(t?.[e]);if(!B(t,this.#e())){this.setInitValue(t);return}}}},bt=new S("PI_VIEW_CONFIG"),hr=new S("PI_FORM_BUILDER_OPTIONS"),cr=new S("PI_FORM_BUILDER_ALIAS_MAP");function Kt(n){return n.isGroup}function dr(n){return n.isArray}function Ap(n,t,e,r,i,s){let o;t.isLogicAnd||t.isLogicOr?o=mt:Kt(t)?o=gt:dr(t)||t.isTuple?o=Ue:o=yt;let a;return i?(a=new o(t.sourceSchema,s),vt(a)&&a.type.set(t.isLogicAnd?"and":"or"),a.initConfig(r)):(a=n.get([e]),a||(a=new o(t.sourceSchema,s),vt(a)&&a.type.set(t.isLogicAnd?"and":"or"),n.setControl?.(e,a),a.initConfig(r))),a}function Zt(n){return un(n)?n():n}var we={props:"merge",formConfig:"merge",renderConfig:"merge",inputs:"merge",outputs:"merge",wrappers:"replace",attributes:"merge"},Qt=class extends Map{parent;constructor(t){super(),this.parent=t}get(t){let e=super.get(t);return e===void 0?this.parent?.get(t):e}};function*Cl(n){for(let t of n)!t.keyPath?.length&&t.fieldGroup?.().length?yield*Cl(t.fieldGroup()):t.keyPath?.length&&(yield t)}function ur(n,t,e,r,i){let s=Array.isArray(n)?n:typeof n=="number"?[n]:n.split("."),o=s[0],a;if(o==="#")t=r,a=[{field:r,level:1}];else if(o==="..")a=[{field:t.parent,level:1}];else if(typeof o=="string"&&o.startsWith("@")){let u=e.get(o.slice(1));!u&&i&&(u=i(o.slice(1),t)),a=[{field:u,level:1}]}else t.fieldGroup?a=Cl(t.fieldGroup()).filter(u=>u.keyPath&&ar(s,u.keyPath)).map(u=>({field:u,level:u.keyPath?.length})):t.fieldArray&&(a=t.fieldArray().filter(u=>u.keyPath&&ar(s,u.keyPath)).map(u=>({field:u,level:u.keyPath?.length})));if(a)for(let u of a){if(s.length===u.level)return u.field;let l=u.field.get(s.slice(u.level),i);if(l)return l}}var Et=class{#e=k(cr,{optional:!0})??new Qt;#t=k(hr);#i=k(L);#r=k(W);#n=k(bt,{optional:!0})??void 0;#s=[];buildRoot(t){let e=this.#a({type:"root",field:{fullPath:[]},form:void 0,resolvedField$:t.resolvedField$,append:()=>{}},t.field,0);this.allFieldInitHookCall()}allFieldInitHookCall(){let t=this.#s;this.#s=[],t.forEach(e=>e())}#o(t){t.type==="group"?this.#u(t):this.#c(t)}afterResolveConfig(t,e){}#a(t,e,r){let i,s=e.type,o;if(s){let T=this.#l(s);i=T.defaultConfig,o=T.define}let a=this.#n?.defaultConfigMergeStrategy,u=this.configMerge([this.#n?.defaultConfig?.inputs,i?.inputs,e.inputs],!1,typeof a=="string"?a:a?.inputs??we.inputs),l=this.configMerge([this.#n?.defaultConfig?.outputs,i?.outputs,e.outputs],!1,typeof a=="string"?a:a?.outputs??we.outputs),c=this.configMerge([this.#n?.defaultConfig?.attributes,i?.attributes,e.attributes],!1,typeof a=="string"?a:a?.attributes??we.attributes),f=this.configMerge([this.#n?.defaultConfig?.wrappers,i?.wrappers,e.wrappers],!0,typeof a=="string"?a:a?.wrappers??we.wrappers),d=this.configMerge([this.#n?.defaultConfig?.props,e.props],!1,typeof a=="string"?a:a?.props??we.props),v=this.configMerge([this.#n?.defaultConfig?.formConfig,i?.formConfig,e.formConfig],!1,typeof a=="string"?a:a?.formConfig??we.formConfig),E=this.configMerge([this.#n?.defaultConfig?.renderConfig,i?.renderConfig,e.renderConfig],!1,typeof a=="string"?a:a?.renderConfig??we.renderConfig),b,m=e.key;vt(t.form)?m??=t.form.controls$().length:wl(t.form)&&(m??=r);let w=t.type==="root";!e.nonFieldControl&&(m!==void 0||w)&&(b=Ap(t.form,e,m,v,w,this.#i));let R=this.#t.form$$,C={id:e.id,keyPath:pr(m),get fullPath(){return[...C.parent.fullPath,...C.keyPath??[]]},form:{parent:t.form,control:b??(Kt(e)?t.form:void 0),get root(){return R()}},get:(T,z)=>M(()=>ur(T,C,this.#e,this.#t.resolvedField$(),z)),parent:t.field,origin:e,renderConfig:E,formConfig:v,props:d,context:this.#t.context(),priority:e.priority,hooks:e.hooks,alias:e.alias,inputs:u,outputs:l,attributes:c,define:o?_(h({},o),{inputs:u,outputs:l,attributes:c}):void 0,wrappers:f,wrappers$$:g(()=>this.#f(f()))};return C=this.afterResolveConfig(e,C)??C,e.movePath?this.moveViewField(e.movePath,C):t.append(C),e.alias&&this.#e.set(e.alias,C),C.hooks?.fieldResolved?.(C),w&&t.resolvedField$.set(C),Kt(e)||e.isLogicAnd||e.isLogicOr||e.isTuple?(C.fieldGroup=A(new dt((T,z)=>T.priority-z.priority)),this.#o({type:"group",fields:e.children,field:C,form:b||t.form,append:T=>{C.fieldGroup().push(T)}})):dr(e)&&this.#o({type:"array",templateField:e.arrayChild,field:C,form:b,append:T=>{}}),C.hooks?.allFieldsResolved&&this.#s.push(()=>{C.hooks.allFieldsResolved(C)}),C}#u(t){for(let r=0;r<t.fields.length;r++){let i=t.fields[r];this.#a(t,i,r)}let e=t.field;e.hooks?.afterChildrenInit?.(e)}createArrayItem(t,e,r){let i=this.constructor,s=L.create({providers:[i,{provide:cr,useValue:new Qt(this.#e)},{provide:W,useFactory:()=>s}],parent:this.#r});this.#r.get(he).onDestroy(()=>{a.injector?.destroy()});let o=s.get(i),a=o.#a(t,e,r);return this.#s.push(()=>o.allFieldInitHookCall()),a.injector=s.get(W),a}#c(t){let{templateField:e,form:r}=t;t.field.action={set:(i,s)=>{M(()=>{s=typeof s=="number"?s:t.field.fieldArray?.().length??0;let o=this.createArrayItem(t,e,s),a=[...t.field.fieldArray()];a[s]=o,t.field.fieldArray.set(a),this.allFieldInitHookCall(),o.form.control.updateValue(i)})},remove:i=>{M(()=>{let s=[...t.field.fieldArray()],[o]=s.splice(i,1);t.field.fieldArray.set(s),r.removeAt(i),o&&(o.injector.destroy(),o.injector=void 0)})}},t.field.fieldArray=A([]),t.field.hooks?.afterChildrenInit?.(t.field),r.beforeUpdateList.push(i=>{let s=r.controls$().length;if(s<i.length){let o=t.field.fieldArray().slice();for(let a=s;a<i.length;a++){let u=this.createArrayItem(t,t.templateField,a);o[a]=u}t.field.fieldArray.set(o)}else if(i.length<s){let o=t.field.fieldArray().slice();for(let a=t.field.fieldArray().length-1;a>=i.length;a--){let[u]=o.splice(a,1);r.removeAt(a),u&&(u.injector?.destroy(),u.injector=void 0)}t.field.fieldArray.set(o)}this.allFieldInitHookCall()})}#l(t){let e,r;if(typeof t=="string"){let i=this.#n?.types?.[t];if(!i)throw new Error(`define:\u672A\u6CE8\u518C[${t}]`);if(r=i,Object.keys(i).length)return e=h({},i),{define:h({},i),defaultConfig:r}}else return{define:{type:t}};return{define:e,defaultConfig:r}}configMerge(t,e,r){let i;return e?r==="merge"?i=t.filter(Boolean).flat().map(s=>Zt(s)):i=t.reduce((s,o)=>Zt(o)??s,[]):r==="merge"?i=t.reduce((s,o)=>h(h({},s),Zt(o)),{}):i=t.reduce((s,o)=>Zt(o)??s,{}),A(fr(i))}moveViewField(t,e){let r=ur(t,e,this.#e,this.#t.resolvedField$(),(o,a)=>{let u=this.#t.form$$,l={alias:o,parent:a,get fullPath(){return a.fullPath},form:{parent:a.form.control??a.form.parent,control:void 0,get root(){return u()}},get:(c,f)=>ur(c,l,this.#e,this.#t.resolvedField$(),f),fieldGroup:A(new dt((c,f)=>c.priority-f.priority)),priority:0,renderConfig:A({}),wrappers$$:A([])};if(this.#e.set(o,l),e===a)throw new Error("\u6DFB\u52A0\u4F4D\u7F6E\u4E0D\u53EF\u4E3A\u81EA\u8EAB");return a.fieldGroup().push(l),l});if(!r)throw new Error("\u79FB\u52A8\u89C6\u56FE\u9879\u5931\u8D25");let i=e.parent.fieldGroup?.().findIndex(o=>o===e);typeof i=="number"&&i!==-1&&e.parent.fieldGroup?.().splice(i,1);let s=e.fullPath.slice(r.fullPath.length);e.keyPath=s,e.parent=r,r.fieldGroup().push(e)}#f(t){return(t??[]).map(e=>{if(typeof e=="string"){let r=this.#n?.wrappers?.[e];if(!r)throw new Error(`wrapper:\u672A\u6CE8\u518C[${e}]`);return _(h({},r),{inputs:A(r.inputs),attributes:A(r.attributes)})}else if(typeof e.type=="string"){let r=this.#n?.wrappers?.[e.type];if(!r)throw new Error(`wrapper:\u672A\u6CE8\u518C[${e.type}]`);return{inputs:A(h(h({},r.inputs),e.inputs)),outputs:h(h({},r.outputs),e.outputs),attributes:A(h(h({},r.attributes),e.attributes)),type:r.type}}else return _(h({},e),{inputs:A(e.inputs),attributes:A(e.attributes)})})}};function kl(n){return{kind:"metadata",type:"layout",reference:kl,value:n}}var O=rr("viewRawConfig");function Sp(n){return O(t=>{t.type=n})}var Rp=n=>O(t=>{t.hooks=n}),$p=n=>O(t=>{t.hooks=h(h({},t.hooks),n)}),Dp={position:"bottom"};function Q(n,t,e){e.hooks??={};for(let r in n){let i=e.hooks[r];e.hooks[r]=(...s)=>{t.position==="top"&&n[r](...s),i?.(...s),t.position==="bottom"&&n[r](...s)}}}var xp=(n,t=Dp)=>O(e=>Q(n,t,e));function Mp(n){return O(t=>{let e=t.hooks;e&&(n.forEach(r=>{delete e[r]}),t.hooks=e)})}function Pp(n){return!!n&&typeof n.then=="function"}function Np(n){return!!n&&typeof n.subscribe=="function"}function jp(n){return O(t=>{t.inputs=n})}function Fp(n){return O(t=>{let e=K(t.inputs);t.inputs=g(()=>h(h({},e),K(n)))})}function Lp(n){return O(t=>{let e=K(t.inputs);e&&(n.forEach(r=>{delete e[r]}),t.inputs=e)})}function Vp(n,t){return O(e=>{let r=Object.keys(n),i=t?.hookName??"fieldResolved";return e.inputs=h(h({},e.inputs),r.reduce((s,o)=>(s[o]=void 0,s),{})),Q({[i]:s=>{r.forEach(o=>{let a=n[o](s);Pp(a)?a.then(u=>{s.inputs.update(l=>(l=h({},l),l[o]=u,l))}):Np(a)?a.subscribe({next:u=>{s.inputs.update(l=>(l=h({},l),l[o]=u,l))}}):s.inputs.update(u=>(u=h({},u),u[o]=a,u))})}},{position:t?.addPosition??"bottom"},e)})}function Up(n,t){return O(e=>{let r=Object.keys(n),i=t?.hookName??"fieldResolved";return Q({[i]:s=>{let o=s.inputs;s.inputs=St(g(()=>h(h({},o()),r.reduce((a,u)=>_(h({},a),{[u]:n[u]()}),{}))))}},{position:t?.addPosition??"bottom"},e)})}function qp(n){return O(t=>{t.outputs=n})}function Bp(n){return O(t=>{let e=t.outputs;t.outputs=h(h({},e),n)})}function Gp(n){return O(t=>{let e=t.outputs;e&&(n.forEach(r=>{delete e[r]}),t.outputs=e)})}function yr(n,t,e){n.outputs.update(r=>{r=h({},r);for(let i in t){let s=r[i];r[i]=(...o)=>{e.position==="top"&&t[i](...o,n),s?.(...o,n),e.position==="bottom"&&t[i](...o,n)}}return r})}var zp={position:"bottom"},Hp=(n,t=zp)=>O(e=>{Q({allFieldsResolved:r=>{yr(r,n,t)}},{position:"bottom"},e)});function Tl(n,t){Q({allFieldsResolved:e=>t(r=>{let i=[];for(let s of r){let o=s.list?e.get(s.list):e,a=new Or;yr(e,{[s.output]:(...u)=>{a.next(u)}},{position:"bottom"}),i.push({subject:a,field:o})}return sn(i.map(({subject:s})=>s.pipe(Nr(void 0)))).pipe(on(1),V(s=>({list:s,field:e,listenFields:i.map(o=>o.field)})))})},{position:"bottom"},n)}function Wp(n){return O(t=>Tl(t,n))}function Xp(n){return O(t=>{t.wrappers=n})}var Jp={position:"tail"};function Yp(n,t=Jp){return O(e=>{let r=pr(n);e.wrappers??=[],t.position==="tail"?e.wrappers.push(...r):e.wrappers.unshift(...r)})}function Zp(n){return O(t=>{if(!t.wrappers)return;let e=t.wrappers;for(let r=0;r<n.length;r++){let i=n[r];for(let s=0;s<e.length;s++){let o=e[s];if((typeof o=="string"?o:o.type)===i){e.splice(s,1);break}}}t.wrappers=e})}function Kp(n){return O(t=>{t.alias=n})}function Qp(n){return O(t=>{t.renderConfig=n})}function eh(n){return O(t=>{t.formConfig=h(h({},t.formConfig),n)})}function th(n){return O(t=>{t.attributes=n})}function nh(n){return O(t=>{let e=K(t.attributes);t.attributes=g(()=>h(h({},e),K(n)))})}function rh(n){return O(t=>{let e=K(t.attributes);e&&(n.forEach(r=>{delete e[r]}),t.attributes=e)})}var ih=[void 0];function en(n,t={}){let e=(t.list??ih).map(r=>r?n.get(r).form.control:n.form.control);return sn(e.map(r=>t.skipInitValue?r.valueChanges.pipe(on(1)):r.valueChanges)).pipe(V(r=>({list:r,field:n,listenFields:r})))}function sh(n){return O(t=>{Q({allFieldsResolved:e=>{n(r=>en(e,r),e)}},{position:"bottom"},t)})}function oh(n){return O(t=>(Q({allFieldsResolved:e=>{n.listen(r=>en(e,r)).subscribe(r=>{e.renderConfig.update(i=>!!i.hidden!==r?_(h({},i),{hidden:r}):i),n.disabled!==void 0&&e.formConfig&&e.formConfig.update(i=>(i=h({},i),i.disabled=r?n.disabled:!1,i))})}},{position:"bottom"},t),t))}function uh(n){return O(t=>(Q({allFieldsResolved:e=>{n.listen(r=>en(e,r)).subscribe(r=>{e.formConfig().disabled!==r&&e.formConfig.update(i=>_(h({},i),{disabled:r}))})}},{position:"bottom"},t),t))}function ah(n,t){return O(e=>{Q({fieldResolved:r=>{let i=r.wrappers();i?.length?typeof i[0]=="string"?i[0]={type:i[0],attributes:{class:ce(n)}}:i[0]=_(h({},i[0]),{attributes:_(h({},i[0].attributes),{class:t?ce(i[0].attributes?.class,n):ce(n)})}):r.attributes.update(s=>_(h({},s),{class:t?ce(s?.class,n):ce(n)}))}},{position:"bottom"},e)})}function lh(n,t){return O(e=>{e.attributes=_(h({},e.attributes),{class:t?ce(e.attributes?.class,n):ce(n)})})}function Il(n=!0){return{kind:"metadata",type:"nonFieldControl",reference:Il,value:n}}var qe=class extends vl{inputs;outputs;wrappers;attributes;alias;movePath;renderConfig;formConfig={};id;isLogicAnd=!1;isLogicOr=!1;isArray=!1;isTuple=!1;nonFieldControl=!1;hooks;lazySchema(t){super.lazySchema(t),this.type=this.lazyWrapped.type}arraySchema(t){if(!this.isObjectControl){this.isArray=!0;let e=new this.globalConfig.handle(this.globalConfig,this,t);e.fullPath=[],le(t.item,e),this.arrayChild=e}}defaultSchema(t){this.defaultValue=t.literal}tupleDefault(t){super.tupleDefault(t),this.isTuple=!0}enumSchema(t){this.props??={},this.props.options??=t.options}intersectBefore(t){this.childrenAsVirtualGroup?this.type==="intersect"&&(this.type="intersect-group"):this.isLogicAnd=!0}logicItemSchema(t,e,r){let i=new this.globalConfig.handle(this.globalConfig,this,t);this.childrenAsVirtualGroup?i.fullPath=[...this.fullPath]:(i.key=e,i.fullPath=[...this.fullPath,e]),i.setParent(this),le(t,i)}unionBefore(t){this.childrenAsVirtualGroup||(this.isLogicOr=!0)}beforeSchemaType(t){super.beforeSchemaType(t),this.formConfig.required=!this.undefinedable&&!this.nullable}voidSchema(t){this.nonFieldControl=!0}metadataDefaulthandle(t,e){switch(t.type){case"viewRawConfig":{t.value(this,this.globalConfig.context);break}case"layout":{this.movePath=t.value.keyPath,this.priority=t.value.priority;break}case"nonFieldControl":{this.nonFieldControl=t.value;break}default:break}}end(t){super.end(t),this.formConfig.defaultValue=this.defaultValue}};function mr(n,t){let e={form$$:g(()=>e.resolvedField$()?.form.control),resolvedField$:A(void 0),context:g(()=>t.context)},r=L.create({providers:[{provide:hr,useValue:e},{provide:bt,useValue:t.fieldGlobalConfig},t.builder,{provide:W,useFactory:()=>r}],parent:t.injector});return t.registerOnDestroy?.(()=>{r.get(W).destroy()}),yl(n,i=>(r.get(t.builder).buildRoot({field:i,resolvedField$:e.resolvedField$}),e.resolvedField$()),_(h({},t),{handle:t?.handle??qe}))}var ch=pt(Xt());var $l=n=>({$implicit:n}),ph=(n,t)=>t.id||n;function hh(n,t){n&1&&Se(0)}function dh(n,t){if(n&1&&Ie(0,hh,1,0,"ng-container",0),n&2){let e=t.$implicit,r=j();ue("ngTemplateOutlet",r.fieldTemplateRef())("ngTemplateOutletContext",gn(2,$l,e))}}function yh(n,t){if(n&1&&(Se(0,1),ee(1,"pure"),ee(2,"pure")),n&2){let e;j(3);let r=me(2),i=me(5),s=j().$implicit,o=j(),a=Ot(1);ue("ngComponentOutlet",r)("ngComponentOutletInputs",(e=En(1,7,o.groupInputsValue,s.inputs,s.fieldGroup(),a))==null?null:e())("ngComponentOutletOutputs",s.outputs())("ngComponentOutletWrappers",i)("ngComponentOutletField",s)("ngComponentOutletDirectives",s.directives)("ngComponentOutletTopDirectives",ve(2,12,o.topDirectives,s.renderConfig))}}function mh(n,t){if(n&1&&(Oe(0,yh,3,15,"ng-container",1),ee(1,"pure")),n&2){let e=j(3).$implicit,r=j();Ae(ve(1,1,r.groupHidden,e)()?-1:0)}}function vh(n,t){if(n&1&&(Se(0,1),ee(1,"pure"),ee(2,"pure")),n&2){let e;j(2);let r=me(2),i=me(5),s=j().$implicit,o=j(),a=Ot(1);ue("ngComponentOutlet",r)("ngComponentOutletInputs",(e=En(1,7,o.groupInputsValue,s.inputs,s.fieldArray(),a))==null?null:e())("ngComponentOutletOutputs",s.outputs())("ngComponentOutletWrappers",i)("ngComponentOutletField",s)("ngComponentOutletDirectives",s.directives)("ngComponentOutletTopDirectives",ve(2,12,o.topDirectives,s.renderConfig))}}function gh(n,t){if(n&1&&(Se(0,2),ee(1,"pure")),n&2){j(2);let e=me(2),r=me(5),i=j().$implicit,s=j();ue("ngComponentOutlet",e)("ngComponentOutletInputs",i.inputs())("ngComponentOutletOutputs",i.outputs())("ngComponentOutletFormControl",i.form.control)("ngComponentOutletWrappers",r)("ngComponentOutletField",i)("ngComponentOutletDirectives",i.directives)("ngComponentOutletTopDirectives",ve(1,9,s.topDirectives,i.renderConfig))("ngComponentOutletContent",i.contents)}}function Eh(n,t){if(n&1&&Oe(0,mh,2,4)(1,vh,3,15,"ng-container",1)(2,gh,2,12,"ng-container",2),n&2){let e=j(2).$implicit;Ae(e.fieldGroup?0:e.fieldArray?1:2)}}function bh(n,t){if(n&1&&(At(0),ee(1,"pure"),At(2)(3),ee(4,"pure"),At(5),Oe(6,Eh,3,1)),n&2){let e=j().$implicit,r=j(),i=ve(1,1,r.resolvedComponent,e.define);He(2);let s=vn(i.value()),o=ve(4,5,r.resolvedWrapper,e.wrappers$$());He(3),vn(o.value()),He(),Ae(s?6:-1)}}function _h(n,t){if(n&1&&Oe(0,bh,7,9),n&2){let r=t.$implicit.renderConfig();Ae(r!=null&&r.hidden?-1:0)}}function wh(n,t){n&1&&Se(0)}function Ch(n,t){if(n&1&&Ie(0,wh,1,0,"ng-container",3),n&2){j();let e=Ot(1);ue("ngTemplateOutlet",e)("ngTemplateOutletContext",gn(2,$l,t))}}var kh=(()=>{class n{fields=F.required();fieldTemplateRef=F.required();static \u0275fac=function(r){return new(r||n)};static \u0275dir=Xe({type:n,inputs:{fields:[1,"fields"],fieldTemplateRef:[1,"fieldTemplateRef"]}})}return n})(),am=(()=>{class n extends kh{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Tt(n)))(i||n)}})();static \u0275cmp=de({type:n,selectors:[["piying-view-group"]],features:[hn],decls:2,vars:0,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,i){r&1&&ui(0,dh,1,4,"ng-container",null,ph),r&2&&ai(i.fields())},dependencies:[_n],encapsulation:2,changeDetection:0})}return n})(),Dl=new S("PI_VIEW_FIELD_TOKEN"),Th=new S("PI_COMPONENT_LIST"),gr=new S("PI_COMPONENT_INDEX"),Ih=new S("PI_COMPONENT_LIST_LISTEN"),Oh=[],Ah={directives:"merge",formConfig:"merge",inputs:"merge",outputs:"merge",props:"merge",renderConfig:"merge",wrappers:"replace",attributes:"merge"};function Ol(n){return _(h({},n),{inputs:Object.keys(n.inputs()??{}).join(","),attributes:Object.keys(n.attributes()??{}).join(","),directives:n.directives?n.directives.map(t=>_(h({},t),{inputs:`${t.inputs?Object.keys(t.inputs()).join(","):""}`})):void 0,contents:n.contents?.map(t=>_(h({},t),{text:!!t.text}))})}var Al=new RegExp(`(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=(["']?)([^\\]"']*)\\5)?\\])|(\\))|(\\s*,\\s*)`,"g"),fe=function(n){return n[n.ALL=0]="ALL",n[n.NOT=1]="NOT",n[n.TAG=2]="TAG",n[n.PREFIX=3]="PREFIX",n[n.ATTRIBUTE=4]="ATTRIBUTE",n[n.ATTRIBUTE_STRING=5]="ATTRIBUTE_STRING",n[n.ATTRIBUTE_VALUE=6]="ATTRIBUTE_VALUE",n[n.NOT_END=7]="NOT_END",n[n.SEPARATOR=8]="SEPARATOR",n}(fe||{}),Er=class n{element=null;classNames=[];attrs=[];notSelectors=[];static parse(t){let e=[],r=(u,l)=>{l.notSelectors.length>0&&!l.element&&l.classNames.length==0&&l.attrs.length==0&&(l.element="*"),u.push(l)},i=new n,s,o=i,a=!1;for(Al.lastIndex=0;s=Al.exec(t);){if(s[fe.NOT]){if(a)throw new Error("Nesting :not in a selector is not allowed");a=!0,o=new n,i.notSelectors.push(o)}let u=s[fe.TAG];if(u){let c=s[fe.PREFIX];c==="#"?o.addAttribute("id",u.slice(1)):c==="."?o.addClassName(u.slice(1)):o.setElement(u)}let l=s[fe.ATTRIBUTE];if(l&&o.addAttribute(o.unescapeAttribute(l),s[fe.ATTRIBUTE_VALUE]),s[fe.NOT_END]&&(a=!1,o=i),s[fe.SEPARATOR]){if(a)throw new Error("Multiple selectors in :not are not supported");r(e,i),i=o=new n}}return r(e,i),e}unescapeAttribute(t){let e="",r=!1;for(let i=0;i<t.length;i++){let s=t.charAt(i);if(s==="\\"){r=!0;continue}if(s==="$"&&!r)throw new Error(`Error in attribute selector "${t}". Unescaped "$" is not supported. Please escape with "\\$".`);r=!1,e+=s}return e}escapeAttribute(t){return t.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}setElement(t=null){this.element=t}addAttribute(t,e=""){this.attrs.push(t,e&&e.toLowerCase()||"")}addClassName(t){this.classNames.push(t.toLowerCase())}toString(){let t=this.element||"";if(this.classNames&&this.classNames.forEach(e=>t+=`.${e}`),this.attrs)for(let e=0;e<this.attrs.length;e+=2){let r=this.escapeAttribute(this.attrs[e]),i=this.attrs[e+1];t+=`[${r}${i?"="+i:""}]`}return this.notSelectors.forEach(e=>t+=`:not(${e})`),t}},ie=function(n){return n[n.NOT=1]="NOT",n[n.ATTRIBUTE=2]="ATTRIBUTE",n[n.ELEMENT=4]="ELEMENT",n[n.CLASS=8]="CLASS",n}(ie||{});function Sh(n){let t=n.classNames&&n.classNames.length?[ie.CLASS,...n.classNames]:[];return[n.element&&n.element!=="*"?n.element:"",...n.attrs,...t]}function Rh(n){let t=n.classNames&&n.classNames.length?[ie.CLASS,...n.classNames]:[];return n.element?[ie.NOT|ie.ELEMENT,n.element,...n.attrs,...t]:n.attrs.length?[ie.NOT|ie.ATTRIBUTE,...n.attrs,...t]:n.classNames&&n.classNames.length?[ie.NOT|ie.CLASS,...n.classNames]:[]}function $h(n){let t=Sh(n),e=n.notSelectors&&n.notSelectors.length?n.notSelectors.map(r=>Rh(r)):[];return t.concat(...e)}function Dh(n){return n?Er.parse(n).map($h):[]}function xh(n,t){let e=0,r=[],i=[],s=[],o=[],a=[],u;if(typeof n.type=="string")u=n.type;else{let f=bn(n.type);u=n.selector??f.selector,i.push(n.type)}if(!u)throw new Error("\u672A\u627E\u5230\u5143\u7D20\u5BF9\u5E94\u7684\u9009\u62E9\u5668");let l=n.attributes?.();if(l)for(let f in l)r.push(f,l[f]);let c=[n,...t];for(let f=0;f<c.length;f++){let d=c[f];if(f>0){i.push(d.type);let E=d.type.\u0275dir.selectors,b=d.selector??E.find(m=>m.length===3&&m[0]===""&&m[2]==="")[1];(d.inputs&&!(b in d.inputs())||!d.inputs)&&(d.model&&!(b in d.model)||!d.model)&&r.push(b,"")}if(d.inputs){s[f]={signal:d.inputs,keyList:[]};for(let v in d.inputs())e++,s[f].keyList.push(v)}for(let v in d.outputs)o.push({eventName:v,listenerFn:d.outputs[v]});for(let v in d.model)e++,a.push({key:v,eventName:`${v}Change`,signal:d.model[v]})}return r.push(3),r.push(...new Set([...o.map(({eventName:f})=>f),...a.map(({eventName:f})=>f)])),r.push(...new Set([...s.flatMap(f=>f.keyList),...a.map(({key:f})=>f)])),{vars:e,consts:[["el",""],r],directiveList:i,propertyList:s,listenerList:o,modelList:a,elementTag:u}}var vr=["el"],Mh=0;function Ph(n,t){let e=xh(n,t),r,i;n.contents?.length&&(r=new Array(n.contents.length).fill("*"));function s(o,a){o&1&&(li(0,e.elementTag,1,0),e.listenerList.reduce((u,l)=>u(l.eventName,l.listenerFn),yn),e.modelList.reduce((u,l)=>u(l.eventName,c=>{mi(l.signal,c)}),yn),n.contents?.length&&n.contents.forEach((u,l)=>{u.select?Je(l+2,l,["ngProjectAs",u.select,5,Dh(u.select)[0]],u.text?(c,f)=>{c&1&&hi(0),c&2&&di(u.text())}:void 0,u.text?1:void 0,u.text?1:void 0):Je(l+1,l)}),ci()),o&2&&(e.propertyList.reduce((u,{signal:l,keyList:c})=>{let f=l();return c.reduce((d,v)=>d(v,f[v]),u)},ue),e.modelList.reduce((u,l)=>u(l.key,l.signal),yi))}return class br{templateRef=Ye.required(pn);componentInstance=Ye("el");elementRef=Ye("el",{read:Ge});directiveRefList=t.map(({type:a})=>Ye("el",{read:a}));static \u0275fac=a=>new(a||br);static \u0275cmp=de({type:br,selectors:[[`d-${Mh++}`]],ngContentSelectors:r,decls:1,vars:0,consts:e.consts,template:(a,u)=>{a&1&&(r&&It(r),Ie(0,s,2+(n.contents?.length??0),e.vars,"ng-template"))},viewQuery:(a,u)=>{a&1&&(Re(u.templateRef,pn,5),Re(u.componentInstance,vr,5),Re(u.elementRef,vr,5,Ge),t.forEach(({type:l},c)=>{Re(u.directiveRefList[c],vr,5,l)})),a&2&&mn(3+t.length)},dependencies:e.directiveList,encapsulation:2,changeDetection:0})}}var Nh={},jh=(()=>{class n{#e=k(gr,{optional:!0});#t;#i;#r;destroyComponentFn;fieldComponentInstance;fieldElementRef;fieldDirectiveRefList;#n;#s(e){this.#n=g(()=>M(()=>Ol(e)))}setFieldData(e,r){this.#e=r}#o;#a;#u=A(0);createComponent(e,r){this.destroyComponentFn?.(),this.#r=r,this.#t=new ii;let i=e[this.#e];this.#i=i,this.#o={inputs:g(()=>(this.#u(),this.#i.inputs()??Nh)),directiveList:this.#i?.directives?.map((u,l)=>u.inputs?g(()=>(this.#u(),this.#i.directives[l].inputs())):void 0)},this.#a=i.contents?.map((u,l)=>u.text?_(h({},u),{text:g(()=>(this.#u(),this.#i.contents[l].text()))}):u),this.#s(i);let s=Ph(_(h({},i),{inputs:this.#o.inputs,contents:this.#a}),i.directives?.map((u,l)=>_(h({},u),{inputs:this.#o.directiveList[l]}))??[]),o=L.create({providers:[{provide:Th,useValue:e},{provide:gr,useValue:this.#e+1},{provide:Ih,useValue:this.#t}],parent:i.injector??r.injector}),a=Ti(s,{elementInjector:o,environmentInjector:o.get(W),projectableNodes:i.contents?.map(({nodes:u})=>u).filter(Boolean)});if(r.createEmbeddedView(a.instance.templateRef()),this.fieldComponentInstance=a.instance.componentInstance(),this.fieldElementRef=a.instance.elementRef(),this.fieldDirectiveRefList=a.instance.directiveRefList.map(u=>u()),this.destroyComponentFn=()=>{r.clear(),a.destroy(),this.#t.unsubscribe()},e.length===this.#e+1){let u=o.get(Dl)();u.hooks?.afterCreateComponent?.(u)}}update(e){let r=e[this.#e],i=Ol(r);B(i,this.#n())?(this.#i=r,this.#u.update(o=>o+1),this.#t.next(e)):this.createComponent(e,this.#r)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Xe({type:n})}return n})();function Fh(n,t){if(typeof n=="string")n=n.trim().split(/\s+/);else if(!n)return t??[];return typeof t=="string"&&(t=t.trim().split(/\s+/)),new Set([...n,...t??[]])}var _r=class extends wn{field;constructor(t){super(),this.field=t}control=this;get value(){return this.field().value}get valid(){return this.field().valid}get invalid(){return!this.field().valid}get pending(){return!1}get disabled(){return this.field().disabled}get enabled(){return!this.field().disabled}get errors(){return this.field().errors??null}get pristine(){return!0}get dirty(){return!1}get touched(){return this.field().touched}get untouched(){return!this.field().touched}get submitted(){return!1}viewToModelUpdate(t){}get valueChanges(){return this.field().valueChanges}get statusChanges(){return this.field().statusChanges}hasValidator(t){return $i.required===t?this.field().required$$():!1}},Lh={provide:wn,useFactory:()=>k(xl).ngControl},xl=(()=>{class n{fieldControl=F.required();cvaArray=k(Ri);injector=k(L);get cva(){return this.cvaArray[0]}#e;get ngControl(){return this.#e??=new _r(()=>this.fieldControl())}ngOnInit(){let e=this.cva,r,i=!1;e.registerOnChange(o=>{this.fieldControl().disabled$$()||(r=o,i=!0,this.fieldControl().updateOn$$()==="change"&&this.fieldControl().setViewValue(o))}),e.registerOnTouched(()=>{this.fieldControl().markAsTouched(),i&&this.fieldControl().updateOn$$()==="blur"&&(this.fieldControl().setViewValue(r),i=!1)});let s=$e(()=>{let o=this.fieldControl().modelValueToViewValue$$();M(()=>{e.writeValue(o)})},{injector:this.injector});if(this.cva.writeValue(this.fieldControl().modelValueToViewValue$$()),this.disposeList.push(()=>s.destroy()),e.setDisabledState){let o=$e(()=>{let a=this.fieldControl().disabled$$();M(()=>{e.setDisabledState(a)})},{injector:this.injector});e.setDisabledState(this.fieldControl().disabled$$()),this.disposeList.push(()=>o.destroy())}}disposeList=[];clear(){this.disposeList.forEach(e=>e()),this.disposeList=[]}ngOnDestroy(){this.clear()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Xe({type:n,selectors:[["","fieldControl",""]],inputs:{fieldControl:[1,"fieldControl"]},standalone:!1,features:[vi([Lh])]})}return n})(),Vh=(()=>{class n extends jh{ngComponentOutlet=F();ngComponentOutletInputs=F();ngComponentOutletOutputs=F();ngComponentOutletInjector=F();ngComponentOutletContent=F();ngComponentOutletFormControl=F();ngComponentOutletWrappers=F();ngComponentOutletTopDirectives=F();ngComponentOutletDirectives=F();ngComponentOutletField=F.required();#e=k(Kr);#t=g(()=>this.ngComponentOutletWrappers()?.map(e=>_(h({},e),{type:e.type.component,module:e.type.module})));#i=g(()=>this.ngComponentOutletOutputs(),{equal:B});#r;#n=g(()=>{this.#r?.();let e=this.ngComponentOutletInjector()||this.#o,r=this.ngComponentOutlet()?.type.module;if(!r)return;let i=ei(r,e);return this.#r=()=>{i.destroy(),this.#r=void 0},i});#s=g(()=>{let e=this.#n()?.injector??(this.ngComponentOutletInjector()||this.#o);return L.create({providers:[{provide:Dl,useValue:this.ngComponentOutletField},{provide:gr,useValue:0}],parent:e}).get(L)});#o=k(L);#a=g(()=>{let e=this.ngComponentOutletFormControl();return e?{type:xl,inputs:g(()=>({fieldControl:e}))}:void 0});#u=g(()=>{let e=this.ngComponentOutletDirectives(),r=this.#a();return r?[...e?.()??[],r]:e?.()});#c=g(()=>{let e=this.ngComponentOutlet();if(!e)return;let r=this.#u();return _(h({},e),{type:e.type.component,module:e.type.module,inputs:this.ngComponentOutletInputs,directives:r?r.map(i=>{let s=i.outputs;return s?_(h({},i),{outputs:s}):i}):void 0,outputs:this.#i(),contents:this.ngComponentOutletContent()})});#l=g(()=>{let e=this.#c();if(!e)return Oh;let r=this.#s(),i=[...this.#t()??[],e],s=this.ngComponentOutletTopDirectives();if(i[0]=_(h({},i[0]),{injector:r}),s){let o=i[0].directives?.findIndex(a=>a.type===s[0].type);if(typeof o=="number"&&o!==-1){let u=s.pop().inputs,l=i[0].directives?.[o]?.inputs;i[0].directives[o].inputs=g(()=>{let c=K(l)?.ngClass,f=K(u)?.ngClass;return{ngClass:Fh(c,f)}})}i[0]=_(h({},i[0]),{directives:i[0].directives?[...i[0].directives,...s]:[...s]})}return i});#f;ngOnChanges(){let e=this.#l();if(!e.length)return this.destroyComponentFn?.();if(this.#f)this.#f!==e&&this.update(e);else{let r=this.ngComponentOutletField();r.hooks?.beforeCreateComponent?.(r),this.setFieldData(this.ngComponentOutletField,0),this.createComponent(e,this.#e)}this.#f=e}ngOnDestroy(){this.#r?.(),this.destroyComponentFn?.()}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Tt(n)))(i||n)}})();static \u0275dir=Xe({type:n,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:[1,"ngComponentOutlet"],ngComponentOutletInputs:[1,"ngComponentOutletInputs"],ngComponentOutletOutputs:[1,"ngComponentOutletOutputs"],ngComponentOutletInjector:[1,"ngComponentOutletInjector"],ngComponentOutletContent:[1,"ngComponentOutletContent"],ngComponentOutletFormControl:[1,"ngComponentOutletFormControl"],ngComponentOutletWrappers:[1,"ngComponentOutletWrappers"],ngComponentOutletTopDirectives:[1,"ngComponentOutletTopDirectives"],ngComponentOutletDirectives:[1,"ngComponentOutletDirectives"],ngComponentOutletField:[1,"ngComponentOutletField"]},exportAs:["ngComponentOutlet"],features:[hn,an]})}return n})();function Sl(n){return!!bn(n)}function Rl(n,t){let e=new Map,r=new Map;return i=>M(()=>{if(!i)return{value:g(()=>{})};let s=!1,o=(n?[i]:i).map(a=>{if(r.has(a))return r.get(a);if(e.has(a))return s=!0,e.get(a);let u=a,l=u.type;if(typeof l=="string"||Sl(l)){let c=_(h({},u),{type:{component:l}});return r.set(a,c),c}else if(typeof l=="function"){s=!0;let c=l().then(f=>{let d=_(h({},u),{type:Sl(f)?{component:f}:f});return r.set(a,d),e.delete(a),d});return e.set(a,c),c}else return u});return s?Rt({loader:async()=>n?o[0]:Promise.all(o),injector:t}):{value:g(()=>n?o[0]:o)}})}function Uh(n,t,e,r){let i=!0;return $e(()=>{let s=t.value$$();i?(B(s,n)||r(s),i=!1):r(s)},{injector:e})}var qh=(()=>{class n extends Et{#e=k(bt,{optional:!0})??void 0;afterResolveConfig(e,r){let i=e,s=e.type,o,a,u=this.#e?.defaultConfigMergeStrategy;if(s){let c=this.#t(s);a=c.define,o=c.defaultConfig}let l=this.configMerge([o?.directives,i.directives],!0,typeof u=="string"?u:u?.directives??Ah.directives);return _(h({},r),{contents:i.contents?.sort((c,f)=>c.nodes&&f.nodes?0:c.nodes?-1:1),directives:l})}#t(e){let r,i;if(typeof e=="string"){let s=this.#e?.types?.[e];if(!s)throw new Error(`\u672A\u6CE8\u518C${e}`);i=s,Object.keys(s).length&&(r=h({},s))}else r={type:e};return{define:r,defaultConfig:i}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Tt(n)))(i||n)}})();static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})(),wr=class extends qe{contents;directives},Bh=(()=>{class n{transform(e,...r){return e(...r)}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=ni({name:"pure",type:n,pure:!0})}return n})(),Gh={builder:qh,handle:wr},lm=(()=>{class n{schema=F.required();model=F(void 0);modelChange=bi();options=F();form$$=g(()=>this.resolvedField$()?.form.control);#e;ngOnChanges(e){let r=this.#i();(this.#e!==r||"model"in e)&&this.#t(),this.#e=r}#t=g(()=>{let e=this.model();M(()=>this.#c(e))});#i=g(()=>(this.schema(),M(()=>this.#a())));#r=k(L);#n=k(W);#s;resolvedField$=A(void 0);#o=[];#a(){this.#u();let e=ti([],this.#n);this.#s=e;let r=mr(this.schema(),_(h(h({},Gh),this.options()),{injector:e,registerOnDestroy:i=>{e.get(he).onDestroy(()=>{i()})}}));if(this.resolvedField$.set(r),r.form.control){let i=Uh(this.model(),r.form.control,this.#r,s=>{M(()=>{r.form.control?.valueNoError$$()&&this.modelChange.emit(s)})});this.#o.push(()=>i.destroy())}return r}#u(e=!1){this.#o.forEach(r=>r()),this.#o=[],!e&&this.#s&&(this.#s.destroy(),this.#s=void 0)}#c(e){if(!this.resolvedField$())return;this.resolvedField$().form.control?.updateValue(e)}groupInputsValue=(e,r,i)=>g(()=>_(h({},e()),{fields:r,fieldTemplateRef:i}));resolvedComponent=Rl(!0,this.#r);resolvedWrapper=Rl(!1,this.#r);topDirectives=e=>[{type:Ai,inputs:g(()=>({ngClass:e().ngClass??""}))}];groupHidden=e=>g(()=>this.#l(e));#l(e){return e.fieldGroup?e.fieldGroup().length?e.fieldGroup().every(r=>this.#l(r)):!0:!e.define||!!e.renderConfig().hidden}ngOnDestroy(){this.#u(!0)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["piying-view"]],inputs:{schema:[1,"schema"],model:[1,"model"],options:[1,"options"]},outputs:{modelChange:"modelChange"},features:[an],decls:3,vars:1,consts:[["dynamicComponent",""],[3,"ngComponentOutlet","ngComponentOutletInputs","ngComponentOutletOutputs","ngComponentOutletWrappers","ngComponentOutletField","ngComponentOutletDirectives","ngComponentOutletTopDirectives"],[3,"ngComponentOutlet","ngComponentOutletInputs","ngComponentOutletOutputs","ngComponentOutletFormControl","ngComponentOutletWrappers","ngComponentOutletField","ngComponentOutletDirectives","ngComponentOutletTopDirectives","ngComponentOutletContent"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,i){if(r&1&&(Ie(0,_h,1,1,"ng-template",null,0,gi),Oe(2,Ch,1,4,"ng-container")),r&2){let s;He(2),Ae((s=i.resolvedField$())?2:-1,s)}},dependencies:[Vh,Bh,_n],encapsulation:2,changeDetection:0})}return n})();var tn;function zh(){if(tn===void 0&&(tn=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(tn=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return tn}function _t(n){return zh()?.createHTML(n)||n}function Ml(n){return Error(`Unable to find icon with the name "${n}"`)}function Hh(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function Pl(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Nl(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var se=class{url;svgText;options;svgElement;constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}},Fl=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,r,i,s){this._httpClient=e,this._sanitizer=r,this._errorHandler=s,this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,s){return this._addSvgIconConfig(e,r,new se(i,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,s){let o=this._sanitizer.sanitize(U.HTML,i);if(!o)throw Nl(i);let a=_t(o);return this._addSvgIconConfig(e,r,new se("",a,s))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new se(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){let s=this._sanitizer.sanitize(U.HTML,r);if(!s)throw Nl(r);let o=_t(s);return this._addSvgIconSetConfig(e,new se("",o,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let r=this._sanitizer.sanitize(U.RESOURCE_URL,e);if(!r)throw Pl(e);let i=this._cachedIconsByUrl.get(r);return i?H(nn(i)):this._loadSvgIconFromConfig(new se(e,null)).pipe(Ct(s=>this._cachedIconsByUrl.set(r,s)),V(s=>nn(s)))}getNamedSvgIcon(e,r=""){let i=jl(r,e),s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,e),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);let o=this._iconSetConfigs.get(r);return o?this._getSvgFromIconSetConfigs(e,o):Sr(Ml(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?H(nn(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(V(r=>nn(r)))}_getSvgFromIconSetConfigs(e,r){let i=this._extractIconWithNameFromAnySet(e,r);if(i)return H(i);let s=r.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Dr(a=>{let l=`Loading icon set URL: ${this._sanitizer.sanitize(U.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),H(null)})));return Rr(s).pipe(V(()=>{let o=this._extractIconWithNameFromAnySet(e,r);if(!o)throw Ml(e);return o}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){let s=r[i];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){let o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,e,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Ct(r=>e.svgText=r),V(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?H(null):this._fetchIcon(e).pipe(Ct(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){let s=e.querySelector(`[id="${r}"]`);if(!s)return null;let o=s.cloneNode(!0);if(o.removeAttribute("id"),o.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(o,i);if(o.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(o),i);let a=this._svgElementFromString(_t("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,i)}_svgElementFromString(e){let r=this._document.createElement("DIV");r.innerHTML=e;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){let r=this._svgElementFromString(_t("<svg></svg>")),i=e.attributes;for(let s=0;s<i.length;s++){let{name:o,value:a}=i[s];o!=="id"&&r.setAttribute(o,a)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){let{url:r,options:i}=e,s=i?.withCredentials??!1;if(!this._httpClient)throw Hh();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let o=this._sanitizer.sanitize(U.RESOURCE_URL,r);if(!o)throw Pl(r);let a=this._inProgressUrlFetches.get(o);if(a)return a;let u=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(V(l=>_t(l)),wt(()=>this._inProgressUrlFetches.delete(o)),Pr());return this._inProgressUrlFetches.set(o,u),u}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(jl(e,r),i),this}_addSvgIconSetConfig(e,r){let i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){let r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){let s=this._resolvers[i](r,e);if(s)return Wh(s)?new se(s.url,null,s.options):new se(s,null)}}static \u0275fac=function(r){return new(r||n)(I(qt,8),I(Un),I(N,8),I(oe))};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nn(n){return n.cloneNode(!0)}function jl(n,t){return n+":"+t}function Wh(n){return!!(n.url&&n.options)}var Xh=["*"],Jh=new S("MAT_ICON_DEFAULT_OPTIONS"),Yh=new S("mat-icon-location",{providedIn:"root",factory:Zh});function Zh(){let n=k(N),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var Ll=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Kh=Ll.map(n=>`[${n}]`).join(", "),Qh=/^url\(['"]?#(.*?)['"]?\)$/,Am=(()=>{class n{_elementRef=k(Ge);_iconRegistry=k(Fl);_location=k(Yh);_errorHandler=k(oe);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Ir.EMPTY;constructor(){let e=k(new Ei("aria-hidden"),{optional:!0}),r=k(Jh,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=e.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(o=>{s.setAttribute(o.name,`url('${e}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(e){let r=e.querySelectorAll(Kh),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)Ll.forEach(o=>{let a=r[s],u=a.getAttribute(o),l=u?u.match(Qh):null;if(l){let c=i.get(a);c||(c=[],i.set(a,c)),c.push({name:o,value:l[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Mr(1)).subscribe(s=>this._setSvgElement(s),s=>{let o=`Error retrieving icon ${r}:${i}! ${s.message}`;this._errorHandler.handleError(new Error(o))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(oi("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),pi(i.color?"mat-"+i.color:""),fi("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",ki],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:Xh,decls:1,vars:0,template:function(r,i){r&1&&(It(),Je(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})();export{tc as a,qt as b,Ac as c,Sc as d,ky as e,Ty as f,Iy as g,B as h,Pu as i,na as j,pa as k,Ma as l,Pa as m,pt as n,Qn as o,Xa as p,fp as q,pl as r,sr as s,Sp as t,jp as u,Vp as v,sh as w,ah as x,lh as y,ch as z,fh as A,kh as B,am as C,Dl as D,qh as E,lm as F,Am as G};
